# ============================================================================
# ChefCloud Docker Staging Environment Variables
# Copy this file to .env.docker.staging and fill in values
# ============================================================================
# 
# ⚠️  DO NOT COMMIT .env.docker.staging - it contains secrets!
#     Only this example file should be committed.
#
# ============================================================================

# ----------------------------------------------------------------------------
# REQUIRED - Must be set before running
# ----------------------------------------------------------------------------

# JWT signing secret - MUST be at least 32 characters
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_generate_with_openssl_rand_base64_32

# ----------------------------------------------------------------------------
# DATABASE (auto-configured, but customizable)
# ----------------------------------------------------------------------------

# Postgres password for the staging database
# Default: chefcloud_staging_pw
POSTGRES_PASSWORD=chefcloud_staging_pw

# ----------------------------------------------------------------------------
# OPTIONAL - Feature Flags
# ----------------------------------------------------------------------------

# DevPortal (0=disabled, 1=enabled) - OWNER role only
DEVPORTAL_ENABLED=0

# Swagger docs (0=disabled, 1=enabled)
DOCS_ENABLED=0

# Prometheus metrics endpoint
METRICS_ENABLED=0

# Demo write protection
DEMO_PROTECT_WRITES=0

# ----------------------------------------------------------------------------
# OPTIONAL - WebAuthn (for passkey authentication)
# ----------------------------------------------------------------------------

# Relying Party ID (domain)
RP_ID=localhost

# Origin for WebAuthn
ORIGIN=http://localhost:3000

# ----------------------------------------------------------------------------
# OPTIONAL - CORS
# ----------------------------------------------------------------------------

# Allowed CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ----------------------------------------------------------------------------
# OPTIONAL - Logging
# ----------------------------------------------------------------------------

# Log level: trace, debug, info, warn, error
LOG_LEVEL=info

# Silence health check logs (0=show, 1=hide)
LOG_SILENCE_HEALTH=1

# ----------------------------------------------------------------------------
# OPTIONAL - Observability
# ----------------------------------------------------------------------------

# Sentry DSN for error tracking
# SENTRY_DSN=

# OpenTelemetry OTLP endpoint
# OTEL_EXPORTER_OTLP_ENDPOINT=

# ----------------------------------------------------------------------------
# OPTIONAL - Build metadata (auto-set by CI, optional locally)
# ----------------------------------------------------------------------------

# App version shown in UI
NEXT_PUBLIC_APP_VERSION=staging

# API URL for frontend (must match exposed port)
NEXT_PUBLIC_API_URL=http://localhost:3001
