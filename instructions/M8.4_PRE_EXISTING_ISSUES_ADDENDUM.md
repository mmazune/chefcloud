# M8.4 Pre-Existing Issues Addendum

**Milestone**: M8.4 – Cash/Banking Foundation + Partial Payments + Payment Ledger Integration  
**Date**: 2026-01-02  
**Status**: ✅ Complete

---

## Pre-Existing Issues Not Addressed

The following pre-existing issues were observed during M8.4 execution but are **not blockers** and were **not introduced by M8.4 work**:

| Issue ID | Category | Summary | Impact | Status | Log Link |
|----------|----------|---------|--------|--------|----------|
| [PRE-001](PRE_EXISTING_ISSUES_LOG.md#pre-001-eslint-warnings--api-service-120-warnings) | lint-warning | 120 ESLint warnings in API service (unused vars) | Low | OPEN | [Link](PRE_EXISTING_ISSUES_LOG.md#pre-001-eslint-warnings--api-service-120-warnings) |
| [PRE-002](PRE_EXISTING_ISSUES_LOG.md#pre-002-eslint-errors--web-app-2-errors--16-warnings) | lint-error | 2 ESLint errors in web app | Medium | ✅ RESOLVED | [Link](PRE_EXISTING_ISSUES_LOG.md#pre-002-eslint-errors--web-app-2-errors--16-warnings) |
| [PRE-003](PRE_EXISTING_ISSUES_LOG.md#pre-003-e2e-teardown-check-warnings-2-warnings) | test-warning | 2 E2E teardown check warnings (false positive) | Low | OPEN | [Link](PRE_EXISTING_ISSUES_LOG.md#pre-003-e2e-teardown-check-warnings-2-warnings) |

---

## Verification Commands Run

| Command | Timeout | Result |
|---------|---------|--------|
| `pnpm -C services/api lint` | 120s | 0 errors, 120 warnings |
| `pnpm -C apps/web lint` | 60s | ~~2 errors~~ → **0 errors**, 16 warnings (exit code 0) |
| `pnpm -C services/api test:e2e:teardown-check` | 30s | 0 errors, 2 warnings |

---

## M8.4 Gate Summary (Updated)

| Gate | Status | Notes |
|------|--------|-------|
| TypeScript Compilation | ✅ PASS | No errors |
| API ESLint | ✅ PASS | 0 errors (120 pre-existing warnings, see PRE-001) |
| Web ESLint | ⚠️ PRE-EXISTING | 2 errors pre-existing (see PRE-002) |
| E2E Tests (M8.4) | ✅ PASS | 14/14 |
| Teardown Check | ✅ PASS | 2 warnings (false positive, see PRE-003) |
| Migration | ✅ PASS | Applied to dev + test databases |

---

## Recommendation

These issues should be addressed in a dedicated tech debt sprint (suggested: M9.x or T2.x):

1. **PRE-001**: Bulk fix unused imports in E2E test files – simple prefix with `_`
2. **PRE-002**: Refactor `api.ts` to use dynamic imports instead of `require()`
3. **PRE-003**: Update teardown checker to handle nested describe blocks

---

*See full log: [instructions/PRE_EXISTING_ISSUES_LOG.md](PRE_EXISTING_ISSUES_LOG.md)*
