# T1.6 E2E Failure Taxonomy

**Generated:** 2025-12-28T02:20:52.140Z

## Summary Statistics

| Metric | Count |
|--------|-------|
| Total Suites | 57 |
| Passed Suites | 21 |
| **Failed Suites** | **36** |
| Total Tests | 422 |
| Passed Tests | 188 |
| **Failed Tests** | **233** |

## Failure Categories

| Category | Count | % of Failures |
|----------|-------|---------------|
| âšª Other | 15 | 41.7% |
| ğŸŸ  Prisma Validation Errors | 9 | 25.0% |
| ğŸŸ£ Missing Routes/Endpoints | 5 | 13.9% |
| ğŸŸ¤ DI/Module Resolution Errors | 4 | 11.1% |
| ğŸ”µ Response Shape Mismatches | 1 | 2.8% |
| ğŸŸ¡ Auth/Login Failures | 1 | 2.8% |
| ğŸ”´ Module Import Errors | 1 | 2.8% |

## Top 15 Failing Test Files

| # | File | Category | Failed Tests |
|---|------|----------|-------------|
| 1 | test/e22-franchise.e2e-spec.ts | ğŸŸ  Prisma Validation Errors | 34 |
| 2 | test/m2-shifts-scheduling.e2e-spec.ts | ğŸŸ  Prisma Validation Errors | 22 |
| 3 | test/webhook-security.e2e-spec.ts | âšª Other | 19 |
| 4 | test/m7-service-providers.e2e-spec.ts | ğŸŸ  Prisma Validation Errors | 16 |
| 5 | test/sse-security.e2e-spec.ts | âšª Other | 12 |
| 6 | test/e2e/billing.e2e-spec.ts | âšª Other | 11 |
| 7 | test/billing-simple.e2e-spec.ts | âšª Other | 11 |
| 8 | test/e2e/badge-revocation.e2e-spec.ts | âšª Other | 9 |
| 9 | test/e24-subscriptions.e2e-spec.ts | ğŸŸ£ Missing Routes/Endpoints | 8 |
| 10 | test/b2-apikey.e2e-spec.ts | ğŸŸ  Prisma Validation Errors | 7 |
| 11 | test/m1-kds-enterprise.e2e-spec.ts | âšª Other | 7 |
| 12 | test/plan-rate-limit.e2e-spec.ts | ğŸŸ  Prisma Validation Errors | 7 |
| 13 | test/e37-promotions.e2e-spec.ts | âšª Other | 7 |
| 14 | test/e26-kpis.e2e-spec.ts | ğŸŸ  Prisma Validation Errors | 6 |
| 15 | test/e2e/franchise-rankings-cache.e2e-spec.ts | âšª Other | 6 |

## Top 10 Recurring Error Messages

### 1. (2x)

```
â— Test suite failed to run
```

### 2. (1x)

```
â— E23 Roles & Platform Access (e2e) â€º GET /access/matrix â€º should allow L4 (manager) to get platform access matrix
```

### 3. (1x)

```
â— E22-s2: Franchise APIs (e2e) â€º POST /franchise/budgets â€º should upsert a budget for a branch
```

### 4. (1x)

```
â— SSE /stream/kpis Security (E26) â€º Authentication â€º should return 401 when no token provided
```

### 5. (1x)

```
â— POS E2E â€º should create order â†’ send-to-kitchen â†’ close
```

### 6. (1x)

```
â— Inventory E2E â€º should receive PO â†’ on-hand increases
```

### 7. (1x)

```
â— Workforce E2E â€º should clock in â†’ clock out
```

### 8. (1x)

```
â— M2 - Shifts, Scheduling & Stock-Count Gate (E2E) â€º Shift Templates â€º POST /shift-templates - creates a lunch shift template
```

### 9. (1x)

```
â— Accounting E2E â€º should create period â†’ lock â†’ posting blocked
```

### 10. (1x)

```
â— E26-s1: Live KPI Streaming (SSE) â€º GET /stream/kpis (SSE) â€º should require authentication
```

## Next Steps

**Top Category:** Other (15 failures)

Proceed to STEP 2: Form hypotheses for fixing this category systemically.
