{"numFailedTestSuites":19,"numFailedTests":73,"numPassedTestSuites":14,"numPassedTests":123,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":10,"numTodoTests":0,"numTotalTestSuites":33,"numTotalTests":196,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1766792873953,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["POS E2E"],"duration":1,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2022","clientVersion":"5.22.0","meta":{"modelName":"User","column":"sessionVersion"}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n  161 });\n  162 \n  163 // Create users\n→ 164 const owner = await prisma.user.upsert(\nThe column `sessionVersion` does not exist in the current database.\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at createOrgWithUsers (/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:17)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/pos.e2e-spec.ts:16:21)"],"fullName":"POS E2E should create order → send-to-kitchen → close","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create order → send-to-kitchen → close"}],"coverage":{},"endTime":1766792899284,"message":"  ● POS E2E › should create order → send-to-kitchen → close\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n      161 });\n      162 \n      163 // Create users\n    → 164 const owner = await prisma.user.upsert(\n    The column `sessionVersion` does not exist in the current database.\n\n      162 |\n      163 |   // Create users\n    > 164 |   const owner = await prisma.user.upsert({\n          |                 ^\n      165 |     where: { email: `owner-${slug}@test.local` },\n      166 |     update: {},\n      167 |     create: {\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at createOrgWithUsers (e2e/factory.ts:164:17)\n      at Object.<anonymous> (e2e/pos.e2e-spec.ts:16:21)\n\n\n  ● Test suite failed to run\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n      47 |\n      48 |   afterAll(async () => {\n    > 49 |     await app.close();\n         |               ^\n      50 |     await disconnect();\n      51 |   });\n      52 |\n\n      at Object.<anonymous> (e2e/pos.e2e-spec.ts:49:15)\n","name":"/workspaces/chefcloud/services/api/test/e2e/pos.e2e-spec.ts","startTime":1766792899284,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["E22.B - Franchise Rankings Caching (e2e)","GET /franchise/rankings"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:59:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:39:11)"],"fullName":"E22.B - Franchise Rankings Caching (e2e) GET /franchise/rankings should return cached=false on first call (cache miss)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return cached=false on first call (cache miss)"},{"ancestorTitles":["E22.B - Franchise Rankings Caching (e2e)","GET /franchise/rankings"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:59:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:39:11)"],"fullName":"E22.B - Franchise Rankings Caching (e2e) GET /franchise/rankings should return cached=true on second call within TTL (cache hit)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return cached=true on second call within TTL (cache hit)"},{"ancestorTitles":["E22.B - Franchise Rankings Caching (e2e)","GET /franchise/rankings"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:59:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:39:11)"],"fullName":"E22.B - Franchise Rankings Caching (e2e) GET /franchise/rankings should return same data structure on cache hit and miss","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return same data structure on cache hit and miss"},{"ancestorTitles":["E22.B - Franchise Rankings Caching (e2e)","GET /franchise/rankings"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:59:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:39:11)"],"fullName":"E22.B - Franchise Rankings Caching (e2e) GET /franchise/rankings should cache separately for different periods","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should cache separately for different periods"},{"ancestorTitles":["E22.B - Franchise Rankings Caching (e2e)","GET /franchise/rankings"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:59:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:39:11)"],"fullName":"E22.B - Franchise Rankings Caching (e2e) GET /franchise/rankings should return error for invalid period format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return error for invalid period format"},{"ancestorTitles":["E22.B - Franchise Rankings Caching (e2e)","GET /franchise/rankings"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:59:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:39:11)"],"fullName":"E22.B - Franchise Rankings Caching (e2e) GET /franchise/rankings should measure response time difference between miss and hit","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should measure response time difference between miss and hit"}],"endTime":1766792877472,"message":"  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should return cached=false on first call (cache miss)\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      57 |   async function setupTestData() {\n      58 |     // Create test organization\n    > 59 |     const org = await prisma.organization.create({\n         |                                           ^\n      60 |       data: {\n      61 |         name: 'E22B Test Org',\n      62 |         slug: `e22b-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:59:43)\n      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:39:11)\n\n  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should return cached=true on second call within TTL (cache hit)\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      57 |   async function setupTestData() {\n      58 |     // Create test organization\n    > 59 |     const org = await prisma.organization.create({\n         |                                           ^\n      60 |       data: {\n      61 |         name: 'E22B Test Org',\n      62 |         slug: `e22b-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:59:43)\n      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:39:11)\n\n  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should return same data structure on cache hit and miss\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      57 |   async function setupTestData() {\n      58 |     // Create test organization\n    > 59 |     const org = await prisma.organization.create({\n         |                                           ^\n      60 |       data: {\n      61 |         name: 'E22B Test Org',\n      62 |         slug: `e22b-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:59:43)\n      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:39:11)\n\n  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should cache separately for different periods\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      57 |   async function setupTestData() {\n      58 |     // Create test organization\n    > 59 |     const org = await prisma.organization.create({\n         |                                           ^\n      60 |       data: {\n      61 |         name: 'E22B Test Org',\n      62 |         slug: `e22b-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:59:43)\n      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:39:11)\n\n  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should return error for invalid period format\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      57 |   async function setupTestData() {\n      58 |     // Create test organization\n    > 59 |     const org = await prisma.organization.create({\n         |                                           ^\n      60 |       data: {\n      61 |         name: 'E22B Test Org',\n      62 |         slug: `e22b-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:59:43)\n      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:39:11)\n\n  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should measure response time difference between miss and hit\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      57 |   async function setupTestData() {\n      58 |     // Create test organization\n    > 59 |     const org = await prisma.organization.create({\n         |                                           ^\n      60 |       data: {\n      61 |         name: 'E22B Test Org',\n      62 |         slug: `e22b-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:59:43)\n      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:39:11)\n","name":"/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts","startTime":1766792876498,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Badge Revocation & Session Invalidation (E25) - E2E","Badge Revocation Flow"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2002","clientVersion":"5.22.0","meta":{"modelName":"Org","target":["slug"]}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.client.org.create()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n  46 \n  47 async function setupTestData() {\n  48   // Create test organization\n→ 49   testOrg = await prisma.client.org.create(\nUnique constraint failed on the fields: (`slug`)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:15)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:39:5)"],"fullName":"Badge Revocation & Session Invalidation (E25) - E2E Badge Revocation Flow should authenticate via badge swipe and include badgeId in token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should authenticate via badge swipe and include badgeId in token"},{"ancestorTitles":["Badge Revocation & Session Invalidation (E25) - E2E","Badge Revocation Flow"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2002","clientVersion":"5.22.0","meta":{"modelName":"Org","target":["slug"]}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.client.org.create()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n  46 \n  47 async function setupTestData() {\n  48   // Create test organization\n→ 49   testOrg = await prisma.client.org.create(\nUnique constraint failed on the fields: (`slug`)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:15)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:39:5)"],"fullName":"Badge Revocation & Session Invalidation (E25) - E2E Badge Revocation Flow should access protected endpoint with valid token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should access protected endpoint with valid token"},{"ancestorTitles":["Badge Revocation & Session Invalidation (E25) - E2E","Badge Revocation Flow"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2002","clientVersion":"5.22.0","meta":{"modelName":"Org","target":["slug"]}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.client.org.create()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n  46 \n  47 async function setupTestData() {\n  48   // Create test organization\n→ 49   testOrg = await prisma.client.org.create(\nUnique constraint failed on the fields: (`slug`)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:15)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:39:5)"],"fullName":"Badge Revocation & Session Invalidation (E25) - E2E Badge Revocation Flow should reject login with REVOKED badge","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject login with REVOKED badge"},{"ancestorTitles":["Badge Revocation & Session Invalidation (E25) - E2E","Badge Revocation Flow"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2002","clientVersion":"5.22.0","meta":{"modelName":"Org","target":["slug"]}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.client.org.create()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n  46 \n  47 async function setupTestData() {\n  48   // Create test organization\n→ 49   testOrg = await prisma.client.org.create(\nUnique constraint failed on the fields: (`slug`)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:15)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:39:5)"],"fullName":"Badge Revocation & Session Invalidation (E25) - E2E Badge Revocation Flow should invalidate existing token when badge is revoked (< 2s)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should invalidate existing token when badge is revoked (< 2s)"},{"ancestorTitles":["Badge Revocation & Session Invalidation (E25) - E2E","Badge Revocation Flow"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2002","clientVersion":"5.22.0","meta":{"modelName":"Org","target":["slug"]}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.client.org.create()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n  46 \n  47 async function setupTestData() {\n  48   // Create test organization\n→ 49   testOrg = await prisma.client.org.create(\nUnique constraint failed on the fields: (`slug`)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:15)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:39:5)"],"fullName":"Badge Revocation & Session Invalidation (E25) - E2E Badge Revocation Flow should allow new login after badge revocation with updated version","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow new login after badge revocation with updated version"},{"ancestorTitles":["Badge Revocation & Session Invalidation (E25) - E2E","Badge Revocation Flow"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2002","clientVersion":"5.22.0","meta":{"modelName":"Org","target":["slug"]}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.client.org.create()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n  46 \n  47 async function setupTestData() {\n  48   // Create test organization\n→ 49   testOrg = await prisma.client.org.create(\nUnique constraint failed on the fields: (`slug`)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:15)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:39:5)"],"fullName":"Badge Revocation & Session Invalidation (E25) - E2E Badge Revocation Flow should invalidate sessions when badge is reported LOST","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should invalidate sessions when badge is reported LOST"},{"ancestorTitles":["Badge Revocation & Session Invalidation (E25) - E2E","Badge Revocation Flow"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2002","clientVersion":"5.22.0","meta":{"modelName":"Org","target":["slug"]}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.client.org.create()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n  46 \n  47 async function setupTestData() {\n  48   // Create test organization\n→ 49   testOrg = await prisma.client.org.create(\nUnique constraint failed on the fields: (`slug`)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:15)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:39:5)"],"fullName":"Badge Revocation & Session Invalidation (E25) - E2E Badge Revocation Flow should NOT reinstate old tokens when badge is RETURNED","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should NOT reinstate old tokens when badge is RETURNED"},{"ancestorTitles":["Badge Revocation & Session Invalidation (E25) - E2E","Session Version Validation"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2002","clientVersion":"5.22.0","meta":{"modelName":"Org","target":["slug"]}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.client.org.create()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n  46 \n  47 async function setupTestData() {\n  48   // Create test organization\n→ 49   testOrg = await prisma.client.org.create(\nUnique constraint failed on the fields: (`slug`)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:15)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:39:5)"],"fullName":"Badge Revocation & Session Invalidation (E25) - E2E Session Version Validation should reject token with mismatched session version","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject token with mismatched session version"},{"ancestorTitles":["Badge Revocation & Session Invalidation (E25) - E2E","Performance & Timing"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2002","clientVersion":"5.22.0","meta":{"modelName":"Org","target":["slug"]}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.client.org.create()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n  46 \n  47 async function setupTestData() {\n  48   // Create test organization\n→ 49   testOrg = await prisma.client.org.create(\nUnique constraint failed on the fields: (`slug`)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:15)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:39:5)"],"fullName":"Badge Revocation & Session Invalidation (E25) - E2E Performance & Timing should invalidate session within 2 seconds (E25 requirement)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should invalidate session within 2 seconds (E25 requirement)"}],"coverage":{},"endTime":1766792899284,"message":"  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should authenticate via badge swipe and include badgeId in token\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.client.org.create()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n      46 \n      47 async function setupTestData() {\n      48   // Create test organization\n    → 49   testOrg = await prisma.client.org.create(\n    Unique constraint failed on the fields: (`slug`)\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)\n      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)\n\n  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should access protected endpoint with valid token\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.client.org.create()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n      46 \n      47 async function setupTestData() {\n      48   // Create test organization\n    → 49   testOrg = await prisma.client.org.create(\n    Unique constraint failed on the fields: (`slug`)\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)\n      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)\n\n  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should reject login with REVOKED badge\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.client.org.create()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n      46 \n      47 async function setupTestData() {\n      48   // Create test organization\n    → 49   testOrg = await prisma.client.org.create(\n    Unique constraint failed on the fields: (`slug`)\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)\n      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)\n\n  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should invalidate existing token when badge is revoked (< 2s)\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.client.org.create()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n      46 \n      47 async function setupTestData() {\n      48   // Create test organization\n    → 49   testOrg = await prisma.client.org.create(\n    Unique constraint failed on the fields: (`slug`)\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)\n      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)\n\n  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should allow new login after badge revocation with updated version\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.client.org.create()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n      46 \n      47 async function setupTestData() {\n      48   // Create test organization\n    → 49   testOrg = await prisma.client.org.create(\n    Unique constraint failed on the fields: (`slug`)\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)\n      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)\n\n  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should invalidate sessions when badge is reported LOST\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.client.org.create()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n      46 \n      47 async function setupTestData() {\n      48   // Create test organization\n    → 49   testOrg = await prisma.client.org.create(\n    Unique constraint failed on the fields: (`slug`)\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)\n      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)\n\n  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should NOT reinstate old tokens when badge is RETURNED\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.client.org.create()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n      46 \n      47 async function setupTestData() {\n      48   // Create test organization\n    → 49   testOrg = await prisma.client.org.create(\n    Unique constraint failed on the fields: (`slug`)\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)\n      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)\n\n  ● Badge Revocation & Session Invalidation (E25) - E2E › Session Version Validation › should reject token with mismatched session version\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.client.org.create()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n      46 \n      47 async function setupTestData() {\n      48   // Create test organization\n    → 49   testOrg = await prisma.client.org.create(\n    Unique constraint failed on the fields: (`slug`)\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)\n      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)\n\n  ● Badge Revocation & Session Invalidation (E25) - E2E › Performance & Timing › should invalidate session within 2 seconds (E25 requirement)\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.client.org.create()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39\n\n      46 \n      47 async function setupTestData() {\n      48   // Create test organization\n    → 49   testOrg = await prisma.client.org.create(\n    Unique constraint failed on the fields: (`slug`)\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)\n      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)\n\n\n  ● Test suite failed to run\n\n    TypeError: Cannot read properties of undefined (reading 'id')\n\n      124 |     // Delete in dependency order\n      125 |     await prisma.client.employeeProfile.deleteMany({\n    > 126 |       where: { userId: testUser.id },\n          |                                 ^\n      127 |     });\n      128 |     await prisma.client.badgeAsset.deleteMany({\n      129 |       where: { orgId: testOrg.id },\n\n      at cleanupTestData (e2e/badge-revocation.e2e-spec.ts:126:33)\n      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:43:11)\n","name":"/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts","startTime":1766792899284,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["E22.D - Franchise Cache Invalidation (e2e)","Budget Update Invalidation"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:58:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:38:11)"],"fullName":"E22.D - Franchise Cache Invalidation (e2e) Budget Update Invalidation should invalidate budgets cache after budget update","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should invalidate budgets cache after budget update"},{"ancestorTitles":["E22.D - Franchise Cache Invalidation (e2e)","Budget Update Invalidation"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:58:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:38:11)"],"fullName":"E22.D - Franchise Cache Invalidation (e2e) Budget Update Invalidation should not affect other cache prefixes when updating budgets","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not affect other cache prefixes when updating budgets"},{"ancestorTitles":["E22.D - Franchise Cache Invalidation (e2e)","Cache Miss After Invalidation"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:58:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:38:11)"],"fullName":"E22.D - Franchise Cache Invalidation (e2e) Cache Miss After Invalidation should return fresh data after cache invalidation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return fresh data after cache invalidation"},{"ancestorTitles":["E22.D - Franchise Cache Invalidation (e2e)","Multiple Invalidations"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:58:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:38:11)"],"fullName":"E22.D - Franchise Cache Invalidation (e2e) Multiple Invalidations should handle multiple rapid invalidations without errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle multiple rapid invalidations without errors"}],"endTime":1766792878966,"message":"  ● E22.D - Franchise Cache Invalidation (e2e) › Budget Update Invalidation › should invalidate budgets cache after budget update\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      56 |   async function setupTestData() {\n      57 |     // Create test organization\n    > 58 |     const org = await prisma.organization.create({\n         |                                           ^\n      59 |       data: {\n      60 |         name: 'E22D Test Org',\n      61 |         slug: `e22d-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:58:43)\n      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:38:11)\n\n  ● E22.D - Franchise Cache Invalidation (e2e) › Budget Update Invalidation › should not affect other cache prefixes when updating budgets\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      56 |   async function setupTestData() {\n      57 |     // Create test organization\n    > 58 |     const org = await prisma.organization.create({\n         |                                           ^\n      59 |       data: {\n      60 |         name: 'E22D Test Org',\n      61 |         slug: `e22d-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:58:43)\n      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:38:11)\n\n  ● E22.D - Franchise Cache Invalidation (e2e) › Cache Miss After Invalidation › should return fresh data after cache invalidation\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      56 |   async function setupTestData() {\n      57 |     // Create test organization\n    > 58 |     const org = await prisma.organization.create({\n         |                                           ^\n      59 |       data: {\n      60 |         name: 'E22D Test Org',\n      61 |         slug: `e22d-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:58:43)\n      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:38:11)\n\n  ● E22.D - Franchise Cache Invalidation (e2e) › Multiple Invalidations › should handle multiple rapid invalidations without errors\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      56 |   async function setupTestData() {\n      57 |     // Create test organization\n    > 58 |     const org = await prisma.organization.create({\n         |                                           ^\n      59 |       data: {\n      60 |         name: 'E22D Test Org',\n      61 |         slug: `e22d-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:58:43)\n      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:38:11)\n","name":"/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts","startTime":1766792878206,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Reports E2E"],"duration":1,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2022","clientVersion":"5.22.0","meta":{"modelName":"User","column":"sessionVersion"}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n  161 });\n  162 \n  163 // Create users\n→ 164 const owner = await prisma.user.upsert(\nThe column `sessionVersion` does not exist in the current database.\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at createOrgWithUsers (/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:17)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/reports.e2e-spec.ts:13:21)"],"fullName":"Reports E2E should fetch X report (shift summary)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should fetch X report (shift summary)"},{"ancestorTitles":["Reports E2E"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2022","clientVersion":"5.22.0","meta":{"modelName":"User","column":"sessionVersion"}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n  161 });\n  162 \n  163 // Create users\n→ 164 const owner = await prisma.user.upsert(\nThe column `sessionVersion` does not exist in the current database.\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at createOrgWithUsers (/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:17)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/reports.e2e-spec.ts:13:21)"],"fullName":"Reports E2E should fetch owner overview","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should fetch owner overview"}],"coverage":{},"endTime":1766792899284,"message":"  ● Reports E2E › should fetch X report (shift summary)\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n      161 });\n      162 \n      163 // Create users\n    → 164 const owner = await prisma.user.upsert(\n    The column `sessionVersion` does not exist in the current database.\n\n      162 |\n      163 |   // Create users\n    > 164 |   const owner = await prisma.user.upsert({\n          |                 ^\n      165 |     where: { email: `owner-${slug}@test.local` },\n      166 |     update: {},\n      167 |     create: {\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at createOrgWithUsers (e2e/factory.ts:164:17)\n      at Object.<anonymous> (e2e/reports.e2e-spec.ts:13:21)\n\n  ● Reports E2E › should fetch owner overview\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n      161 });\n      162 \n      163 // Create users\n    → 164 const owner = await prisma.user.upsert(\n    The column `sessionVersion` does not exist in the current database.\n\n      162 |\n      163 |   // Create users\n    > 164 |   const owner = await prisma.user.upsert({\n          |                 ^\n      165 |     where: { email: `owner-${slug}@test.local` },\n      166 |     update: {},\n      167 |     create: {\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at createOrgWithUsers (e2e/factory.ts:164:17)\n      at Object.<anonymous> (e2e/reports.e2e-spec.ts:13:21)\n\n\n  ● Test suite failed to run\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n      38 |\n      39 |   afterAll(async () => {\n    > 40 |     await app.close();\n         |               ^\n      41 |     await disconnect();\n      42 |   });\n      43 |\n\n      at Object.<anonymous> (e2e/reports.e2e-spec.ts:40:15)\n","name":"/workspaces/chefcloud/services/api/test/e2e/reports.e2e-spec.ts","startTime":1766792899284,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Inventory E2E"],"duration":1,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2022","clientVersion":"5.22.0","meta":{"modelName":"User","column":"sessionVersion"}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n  161 });\n  162 \n  163 // Create users\n→ 164 const owner = await prisma.user.upsert(\nThe column `sessionVersion` does not exist in the current database.\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at createOrgWithUsers (/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:17)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/inventory.e2e-spec.ts:16:21)"],"fullName":"Inventory E2E should receive PO → on-hand increases","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should receive PO → on-hand increases"}],"coverage":{},"endTime":1766792899284,"message":"  ● Inventory E2E › should receive PO → on-hand increases\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n      161 });\n      162 \n      163 // Create users\n    → 164 const owner = await prisma.user.upsert(\n    The column `sessionVersion` does not exist in the current database.\n\n      162 |\n      163 |   // Create users\n    > 164 |   const owner = await prisma.user.upsert({\n          |                 ^\n      165 |     where: { email: `owner-${slug}@test.local` },\n      166 |     update: {},\n      167 |     create: {\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at createOrgWithUsers (e2e/factory.ts:164:17)\n      at Object.<anonymous> (e2e/inventory.e2e-spec.ts:16:21)\n\n\n  ● Test suite failed to run\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n      46 |\n      47 |   afterAll(async () => {\n    > 48 |     await app.close();\n         |               ^\n      49 |     await disconnect();\n      50 |   });\n      51 |\n\n      at Object.<anonymous> (e2e/inventory.e2e-spec.ts:48:15)\n","name":"/workspaces/chefcloud/services/api/test/e2e/inventory.e2e-spec.ts","startTime":1766792899284,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["PosModule isolation test"],"duration":17,"failureDetails":[{"type":"EfrisService","context":{"index":1,"dependencies":[null,null]},"metadata":{"id":"a3133ca86ad1286d2d935"},"moduleRef":{"id":"1c057c46224a69e105d88"}}],"failureMessages":["Error: Nest can't resolve dependencies of the EfrisService (PrismaService, ?). Please make sure that the argument ConfigService at index [1] is available in the EfrisModule context.\n\nPotential solutions:\n- Is EfrisModule a valid NestJS module?\n- If ConfigService is a provider, is it part of the current EfrisModule?\n- If ConfigService is exported from a separate @Module, is that module imported within EfrisModule?\n  @Module({\n    imports: [ /* the Module containing ConfigService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadProvider (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)\n    at TestingInjector.lookupComponentInImports (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:289:17)\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:252:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadProvider (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/pos-isolation.e2e-spec.ts:8:23)"],"fullName":"PosModule isolation test should compile PosModule to show exact failing provider","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should compile PosModule to show exact failing provider"}],"endTime":1766792880736,"message":"  ● PosModule isolation test › should compile PosModule to show exact failing provider\n\n    Nest can't resolve dependencies of the EfrisService (PrismaService, ?). Please make sure that the argument ConfigService at index [1] is available in the EfrisModule context.\n\n    Potential solutions:\n    - Is EfrisModule a valid NestJS module?\n    - If ConfigService is a provider, is it part of the current EfrisModule?\n    - If ConfigService is exported from a separate @Module, is that module imported within EfrisModule?\n      @Module({\n        imports: [ /* the Module containing ConfigService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)\n      at TestingInjector.lookupComponentInImports (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:289:17)\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:252:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13\n          at async Promise.all (index 3)\n      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13\n          at async Promise.all (index 3)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/pos-isolation.e2e-spec.ts:8:23)\n","name":"/workspaces/chefcloud/services/api/test/e2e/pos-isolation.e2e-spec.ts","startTime":1766792880450,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["E22.C - Franchise Budgets Caching (e2e)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:61:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:41:11)"],"fullName":"E22.C - Franchise Budgets Caching (e2e) should return cached=false on first call (cache miss)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return cached=false on first call (cache miss)"},{"ancestorTitles":["E22.C - Franchise Budgets Caching (e2e)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:61:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:41:11)"],"fullName":"E22.C - Franchise Budgets Caching (e2e) should return cached=true on second call within TTL (cache hit)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return cached=true on second call within TTL (cache hit)"},{"ancestorTitles":["E22.C - Franchise Budgets Caching (e2e)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:61:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:41:11)"],"fullName":"E22.C - Franchise Budgets Caching (e2e) should maintain data structure consistency between cached and non-cached responses","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should maintain data structure consistency between cached and non-cached responses"},{"ancestorTitles":["E22.C - Franchise Budgets Caching (e2e)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:61:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:41:11)"],"fullName":"E22.C - Franchise Budgets Caching (e2e) should use different cache keys for different periods","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should use different cache keys for different periods"},{"ancestorTitles":["E22.C - Franchise Budgets Caching (e2e)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:61:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:41:11)"],"fullName":"E22.C - Franchise Budgets Caching (e2e) should return error for invalid period format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return error for invalid period format"},{"ancestorTitles":["E22.C - Franchise Budgets Caching (e2e)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:61:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:41:11)"],"fullName":"E22.C - Franchise Budgets Caching (e2e) cache hit should be significantly faster than cache miss","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"cache hit should be significantly faster than cache miss"}],"endTime":1766792881663,"message":"  ● E22.C - Franchise Budgets Caching (e2e) › should return cached=false on first call (cache miss)\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      59 |   async function setupTestData() {\n      60 |     // Create test organization\n    > 61 |     const org = await prisma.organization.create({\n         |                                           ^\n      62 |       data: {\n      63 |         name: 'E22C Test Org',\n      64 |         slug: `e22c-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:61:43)\n      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:41:11)\n\n  ● E22.C - Franchise Budgets Caching (e2e) › should return cached=true on second call within TTL (cache hit)\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      59 |   async function setupTestData() {\n      60 |     // Create test organization\n    > 61 |     const org = await prisma.organization.create({\n         |                                           ^\n      62 |       data: {\n      63 |         name: 'E22C Test Org',\n      64 |         slug: `e22c-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:61:43)\n      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:41:11)\n\n  ● E22.C - Franchise Budgets Caching (e2e) › should maintain data structure consistency between cached and non-cached responses\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      59 |   async function setupTestData() {\n      60 |     // Create test organization\n    > 61 |     const org = await prisma.organization.create({\n         |                                           ^\n      62 |       data: {\n      63 |         name: 'E22C Test Org',\n      64 |         slug: `e22c-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:61:43)\n      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:41:11)\n\n  ● E22.C - Franchise Budgets Caching (e2e) › should use different cache keys for different periods\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      59 |   async function setupTestData() {\n      60 |     // Create test organization\n    > 61 |     const org = await prisma.organization.create({\n         |                                           ^\n      62 |       data: {\n      63 |         name: 'E22C Test Org',\n      64 |         slug: `e22c-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:61:43)\n      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:41:11)\n\n  ● E22.C - Franchise Budgets Caching (e2e) › should return error for invalid period format\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      59 |   async function setupTestData() {\n      60 |     // Create test organization\n    > 61 |     const org = await prisma.organization.create({\n         |                                           ^\n      62 |       data: {\n      63 |         name: 'E22C Test Org',\n      64 |         slug: `e22c-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:61:43)\n      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:41:11)\n\n  ● E22.C - Franchise Budgets Caching (e2e) › cache hit should be significantly faster than cache miss\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      59 |   async function setupTestData() {\n      60 |     // Create test organization\n    > 61 |     const org = await prisma.organization.create({\n         |                                           ^\n      62 |       data: {\n      63 |         name: 'E22C Test Org',\n      64 |         slug: `e22c-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:61:43)\n      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:41:11)\n","name":"/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts","startTime":1766792880749,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Workforce E2E"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2022","clientVersion":"5.22.0","meta":{"modelName":"User","column":"sessionVersion"}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n  161 });\n  162 \n  163 // Create users\n→ 164 const owner = await prisma.user.upsert(\nThe column `sessionVersion` does not exist in the current database.\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at createOrgWithUsers (/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:17)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/workforce.e2e-spec.ts:15:21)"],"fullName":"Workforce E2E should clock in → clock out","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should clock in → clock out"}],"coverage":{},"endTime":1766792899284,"message":"  ● Workforce E2E › should clock in → clock out\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n      161 });\n      162 \n      163 // Create users\n    → 164 const owner = await prisma.user.upsert(\n    The column `sessionVersion` does not exist in the current database.\n\n      162 |\n      163 |   // Create users\n    > 164 |   const owner = await prisma.user.upsert({\n          |                 ^\n      165 |     where: { email: `owner-${slug}@test.local` },\n      166 |     update: {},\n      167 |     create: {\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at createOrgWithUsers (e2e/factory.ts:164:17)\n      at Object.<anonymous> (e2e/workforce.e2e-spec.ts:15:21)\n\n\n  ● Test suite failed to run\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n      47 |\n      48 |   afterAll(async () => {\n    > 49 |     await app.close();\n         |               ^\n      50 |     await disconnect();\n      51 |   });\n      52 |\n\n      at Object.<anonymous> (e2e/workforce.e2e-spec.ts:49:15)\n","name":"/workspaces/chefcloud/services/api/test/e2e/workforce.e2e-spec.ts","startTime":1766792899284,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth E2E"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2022","clientVersion":"5.22.0","meta":{"modelName":"User","column":"sessionVersion"}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n  161 });\n  162 \n  163 // Create users\n→ 164 const owner = await prisma.user.upsert(\nThe column `sessionVersion` does not exist in the current database.\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at createOrgWithUsers (/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:17)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/auth.e2e-spec.ts:14:21)"],"fullName":"Auth E2E should login with email/password and return access_token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should login with email/password and return access_token"},{"ancestorTitles":["Auth E2E"],"duration":0,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2022","clientVersion":"5.22.0","meta":{"modelName":"User","column":"sessionVersion"}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n  161 });\n  162 \n  163 // Create users\n→ 164 const owner = await prisma.user.upsert(\nThe column `sessionVersion` does not exist in the current database.\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at createOrgWithUsers (/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:17)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/auth.e2e-spec.ts:14:21)"],"fullName":"Auth E2E should reject invalid password","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject invalid password"}],"coverage":{},"endTime":1766792899284,"message":"  ● Auth E2E › should login with email/password and return access_token\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n      161 });\n      162 \n      163 // Create users\n    → 164 const owner = await prisma.user.upsert(\n    The column `sessionVersion` does not exist in the current database.\n\n      162 |\n      163 |   // Create users\n    > 164 |   const owner = await prisma.user.upsert({\n          |                 ^\n      165 |     where: { email: `owner-${slug}@test.local` },\n      166 |     update: {},\n      167 |     create: {\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at createOrgWithUsers (e2e/factory.ts:164:17)\n      at Object.<anonymous> (e2e/auth.e2e-spec.ts:14:21)\n\n  ● Auth E2E › should reject invalid password\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n      161 });\n      162 \n      163 // Create users\n    → 164 const owner = await prisma.user.upsert(\n    The column `sessionVersion` does not exist in the current database.\n\n      162 |\n      163 |   // Create users\n    > 164 |   const owner = await prisma.user.upsert({\n          |                 ^\n      165 |     where: { email: `owner-${slug}@test.local` },\n      166 |     update: {},\n      167 |     create: {\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at createOrgWithUsers (e2e/factory.ts:164:17)\n      at Object.<anonymous> (e2e/auth.e2e-spec.ts:14:21)\n\n\n  ● Test suite failed to run\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n      33 |\n      34 |   afterAll(async () => {\n    > 35 |     await app.close();\n         |               ^\n      36 |     await disconnect();\n      37 |   });\n      38 |\n\n      at Object.<anonymous> (e2e/auth.e2e-spec.ts:35:15)\n","name":"/workspaces/chefcloud/services/api/test/e2e/auth.e2e-spec.ts","startTime":1766792899284,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Accounting E2E"],"duration":1,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2022","clientVersion":"5.22.0","meta":{"modelName":"User","column":"sessionVersion"}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n  161 });\n  162 \n  163 // Create users\n→ 164 const owner = await prisma.user.upsert(\nThe column `sessionVersion` does not exist in the current database.\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at createOrgWithUsers (/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:17)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/accounting.e2e-spec.ts:13:21)"],"fullName":"Accounting E2E should create period → lock → posting blocked","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create period → lock → posting blocked"}],"coverage":{},"endTime":1766792899284,"message":"  ● Accounting E2E › should create period → lock → posting blocked\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n      161 });\n      162 \n      163 // Create users\n    → 164 const owner = await prisma.user.upsert(\n    The column `sessionVersion` does not exist in the current database.\n\n      162 |\n      163 |   // Create users\n    > 164 |   const owner = await prisma.user.upsert({\n          |                 ^\n      165 |     where: { email: `owner-${slug}@test.local` },\n      166 |     update: {},\n      167 |     create: {\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at createOrgWithUsers (e2e/factory.ts:164:17)\n      at Object.<anonymous> (e2e/accounting.e2e-spec.ts:13:21)\n\n\n  ● Test suite failed to run\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n      41 |\n      42 |   afterAll(async () => {\n    > 43 |     await app.close();\n         |               ^\n      44 |     await disconnect();\n      45 |   });\n      46 |\n\n      at Object.<anonymous> (e2e/accounting.e2e-spec.ts:43:15)\n","name":"/workspaces/chefcloud/services/api/test/e2e/accounting.e2e-spec.ts","startTime":1766792899284,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Bookings E2E"],"duration":1,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2022","clientVersion":"5.22.0","meta":{"modelName":"User","column":"sessionVersion"}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n  161 });\n  162 \n  163 // Create users\n→ 164 const owner = await prisma.user.upsert(\nThe column `sessionVersion` does not exist in the current database.\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at createOrgWithUsers (/workspaces/chefcloud/services/api/test/e2e/factory.ts:164:17)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/bookings.e2e-spec.ts:14:21)"],"fullName":"Bookings E2E should create booking → HOLD → pay → confirm","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create booking → HOLD → pay → confirm"}],"coverage":{},"endTime":1766792899284,"message":"  ● Bookings E2E › should create booking → HOLD → pay → confirm\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/e2e/factory.ts:164:35\n\n      161 });\n      162 \n      163 // Create users\n    → 164 const owner = await prisma.user.upsert(\n    The column `sessionVersion` does not exist in the current database.\n\n      162 |\n      163 |   // Create users\n    > 164 |   const owner = await prisma.user.upsert({\n          |                 ^\n      165 |     where: { email: `owner-${slug}@test.local` },\n      166 |     update: {},\n      167 |     create: {\n\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at createOrgWithUsers (e2e/factory.ts:164:17)\n      at Object.<anonymous> (e2e/bookings.e2e-spec.ts:14:21)\n\n\n  ● Test suite failed to run\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n      42 |\n      43 |   afterAll(async () => {\n    > 44 |     await app.close();\n         |               ^\n      45 |     await disconnect();\n      46 |   });\n      47 |\n\n      at Object.<anonymous> (e2e/bookings.e2e-spec.ts:44:15)\n","name":"/workspaces/chefcloud/services/api/test/e2e/bookings.e2e-spec.ts","startTime":1766792899284,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["ReferenceError: createE2ETestingModule is not defined\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:139:27)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:281:40)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:95:7)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["ReferenceError: createE2ETestingModule is not defined\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:139:27)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:281:40)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:95:7)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 403 if user is not L5 (owner)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 403 if user is not L5 (owner)"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["ReferenceError: createE2ETestingModule is not defined\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:139:27)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:281:40)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:95:7)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 200 and log plan change for L5 owner","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 200 and log plan change for L5 owner"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["ReferenceError: createE2ETestingModule is not defined\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:139:27)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:281:40)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:95:7)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 404 for non-existent plan code","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 404 for non-existent plan code"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["ReferenceError: createE2ETestingModule is not defined\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:139:27)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:281:40)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:95:7)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 429 after exceeding plan-aware rate limit (burst)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 429 after exceeding plan-aware rate limit (burst)"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/cancel"],"duration":0,"failureDetails":[{}],"failureMessages":["ReferenceError: createE2ETestingModule is not defined\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:139:27)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:281:40)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:95:7)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/cancel should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/cancel"],"duration":0,"failureDetails":[{}],"failureMessages":["ReferenceError: createE2ETestingModule is not defined\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:139:27)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:281:40)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:95:7)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/cancel should return 403 if user is not L5 (owner)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 403 if user is not L5 (owner)"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/cancel"],"duration":0,"failureDetails":[{}],"failureMessages":["ReferenceError: createE2ETestingModule is not defined\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:139:27)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:281:40)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:95:7)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/cancel should return 200 and log cancellation for L5 owner","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 200 and log cancellation for L5 owner"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/cancel"],"duration":0,"failureDetails":[{}],"failureMessages":["ReferenceError: createE2ETestingModule is not defined\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:139:27)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:281:40)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:95:7)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/cancel should be idempotent (canceling twice returns 200)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should be idempotent (canceling twice returns 200)"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","GET /billing/subscription"],"duration":0,"failureDetails":[{}],"failureMessages":["ReferenceError: createE2ETestingModule is not defined\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:139:27)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:281:40)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:95:7)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) GET /billing/subscription should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","GET /billing/subscription"],"duration":0,"failureDetails":[{}],"failureMessages":["ReferenceError: createE2ETestingModule is not defined\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:139:27)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:281:40)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:95:7)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) GET /billing/subscription should return 200 with subscription details for authenticated user","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 200 with subscription details for authenticated user"}],"coverage":{},"endTime":1766792899284,"message":"  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 401 if no authorization token is provided\n\n    ReferenceError: createE2ETestingModule is not defined\n\n      137 |\n      138 |   beforeAll(async () => {\n    > 139 |     const moduleFixture = await createE2ETestingModule({\n          |                           ^\n      140 |       imports: [AppModule],\n      141 |     })\n      142 |       .overrideProvider(RedisService)\n\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:139:27)\n\n  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 403 if user is not L5 (owner)\n\n    ReferenceError: createE2ETestingModule is not defined\n\n      137 |\n      138 |   beforeAll(async () => {\n    > 139 |     const moduleFixture = await createE2ETestingModule({\n          |                           ^\n      140 |       imports: [AppModule],\n      141 |     })\n      142 |       .overrideProvider(RedisService)\n\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:139:27)\n\n  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 200 and log plan change for L5 owner\n\n    ReferenceError: createE2ETestingModule is not defined\n\n      137 |\n      138 |   beforeAll(async () => {\n    > 139 |     const moduleFixture = await createE2ETestingModule({\n          |                           ^\n      140 |       imports: [AppModule],\n      141 |     })\n      142 |       .overrideProvider(RedisService)\n\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:139:27)\n\n  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 404 for non-existent plan code\n\n    ReferenceError: createE2ETestingModule is not defined\n\n      137 |\n      138 |   beforeAll(async () => {\n    > 139 |     const moduleFixture = await createE2ETestingModule({\n          |                           ^\n      140 |       imports: [AppModule],\n      141 |     })\n      142 |       .overrideProvider(RedisService)\n\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:139:27)\n\n  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 429 after exceeding plan-aware rate limit (burst)\n\n    ReferenceError: createE2ETestingModule is not defined\n\n      137 |\n      138 |   beforeAll(async () => {\n    > 139 |     const moduleFixture = await createE2ETestingModule({\n          |                           ^\n      140 |       imports: [AppModule],\n      141 |     })\n      142 |       .overrideProvider(RedisService)\n\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:139:27)\n\n  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/cancel › should return 401 if no authorization token is provided\n\n    ReferenceError: createE2ETestingModule is not defined\n\n      137 |\n      138 |   beforeAll(async () => {\n    > 139 |     const moduleFixture = await createE2ETestingModule({\n          |                           ^\n      140 |       imports: [AppModule],\n      141 |     })\n      142 |       .overrideProvider(RedisService)\n\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:139:27)\n\n  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/cancel › should return 403 if user is not L5 (owner)\n\n    ReferenceError: createE2ETestingModule is not defined\n\n      137 |\n      138 |   beforeAll(async () => {\n    > 139 |     const moduleFixture = await createE2ETestingModule({\n          |                           ^\n      140 |       imports: [AppModule],\n      141 |     })\n      142 |       .overrideProvider(RedisService)\n\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:139:27)\n\n  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/cancel › should return 200 and log cancellation for L5 owner\n\n    ReferenceError: createE2ETestingModule is not defined\n\n      137 |\n      138 |   beforeAll(async () => {\n    > 139 |     const moduleFixture = await createE2ETestingModule({\n          |                           ^\n      140 |       imports: [AppModule],\n      141 |     })\n      142 |       .overrideProvider(RedisService)\n\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:139:27)\n\n  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/cancel › should be idempotent (canceling twice returns 200)\n\n    ReferenceError: createE2ETestingModule is not defined\n\n      137 |\n      138 |   beforeAll(async () => {\n    > 139 |     const moduleFixture = await createE2ETestingModule({\n          |                           ^\n      140 |       imports: [AppModule],\n      141 |     })\n      142 |       .overrideProvider(RedisService)\n\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:139:27)\n\n  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › GET /billing/subscription › should return 401 if no authorization token is provided\n\n    ReferenceError: createE2ETestingModule is not defined\n\n      137 |\n      138 |   beforeAll(async () => {\n    > 139 |     const moduleFixture = await createE2ETestingModule({\n          |                           ^\n      140 |       imports: [AppModule],\n      141 |     })\n      142 |       .overrideProvider(RedisService)\n\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:139:27)\n\n  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › GET /billing/subscription › should return 200 with subscription details for authenticated user\n\n    ReferenceError: createE2ETestingModule is not defined\n\n      137 |\n      138 |   beforeAll(async () => {\n    > 139 |     const moduleFixture = await createE2ETestingModule({\n          |                           ^\n      140 |       imports: [AppModule],\n      141 |     })\n      142 |       .overrideProvider(RedisService)\n\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:139:27)\n\n\n  ● Test suite failed to run\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n      195 |     }\n      196 |\n    > 197 |     await app.close();\n          |               ^\n      198 |   });\n      199 |\n      200 |   describe('POST /billing/plan/change', () => {\n\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:197:15)\n","name":"/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts","startTime":1766792899284,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Billing (Slice E2E) — Deterministic","Authentication & Authorization"],"duration":0,"failureDetails":[{"type":"BillingController","context":{"index":1,"dependencies":[null,null,null]},"metadata":{"id":"4faea0014fd2620c930c2"},"moduleRef":{"id":"5cf2d49df3e86a5a092d1"}}],"failureMessages":["Error: Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\nPotential solutions:\n- Is BillingModule a valid NestJS module?\n- If DemoProtectionService is a provider, is it part of the current BillingModule?\n- If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n  @Module({\n    imports: [ /* the Module containing DemoProtectionService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 11)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts:22:20)"],"fullName":"Billing (Slice E2E) — Deterministic Authentication & Authorization POST /billing/plan/change should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"POST /billing/plan/change should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing (Slice E2E) — Deterministic","Authentication & Authorization"],"duration":0,"failureDetails":[{"type":"BillingController","context":{"index":1,"dependencies":[null,null,null]},"metadata":{"id":"4faea0014fd2620c930c2"},"moduleRef":{"id":"5cf2d49df3e86a5a092d1"}}],"failureMessages":["Error: Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\nPotential solutions:\n- Is BillingModule a valid NestJS module?\n- If DemoProtectionService is a provider, is it part of the current BillingModule?\n- If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n  @Module({\n    imports: [ /* the Module containing DemoProtectionService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 11)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts:22:20)"],"fullName":"Billing (Slice E2E) — Deterministic Authentication & Authorization POST /billing/cancel should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"POST /billing/cancel should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing (Slice E2E) — Deterministic","Authentication & Authorization"],"duration":0,"failureDetails":[{"type":"BillingController","context":{"index":1,"dependencies":[null,null,null]},"metadata":{"id":"4faea0014fd2620c930c2"},"moduleRef":{"id":"5cf2d49df3e86a5a092d1"}}],"failureMessages":["Error: Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\nPotential solutions:\n- Is BillingModule a valid NestJS module?\n- If DemoProtectionService is a provider, is it part of the current BillingModule?\n- If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n  @Module({\n    imports: [ /* the Module containing DemoProtectionService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 11)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts:22:20)"],"fullName":"Billing (Slice E2E) — Deterministic Authentication & Authorization GET /billing/subscription should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"GET /billing/subscription should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing (Slice E2E) — Deterministic","Rate Limiting"],"duration":0,"failureDetails":[{"type":"BillingController","context":{"index":1,"dependencies":[null,null,null]},"metadata":{"id":"4faea0014fd2620c930c2"},"moduleRef":{"id":"5cf2d49df3e86a5a092d1"}}],"failureMessages":["Error: Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\nPotential solutions:\n- Is BillingModule a valid NestJS module?\n- If DemoProtectionService is a provider, is it part of the current BillingModule?\n- If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n  @Module({\n    imports: [ /* the Module containing DemoProtectionService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 11)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts:22:20)"],"fullName":"Billing (Slice E2E) — Deterministic Rate Limiting Rate limiting produces >= one 429 deterministically","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Rate limiting produces >= one 429 deterministically"},{"ancestorTitles":["Billing (Slice E2E) — Deterministic","Basic Functionality (without auth)"],"duration":0,"failureDetails":[{"type":"BillingController","context":{"index":1,"dependencies":[null,null,null]},"metadata":{"id":"4faea0014fd2620c930c2"},"moduleRef":{"id":"5cf2d49df3e86a5a092d1"}}],"failureMessages":["Error: Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\nPotential solutions:\n- Is BillingModule a valid NestJS module?\n- If DemoProtectionService is a provider, is it part of the current BillingModule?\n- If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n  @Module({\n    imports: [ /* the Module containing DemoProtectionService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 11)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts:22:20)"],"fullName":"Billing (Slice E2E) — Deterministic Basic Functionality (without auth) should bootstrap successfully without metatype errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should bootstrap successfully without metatype errors"},{"ancestorTitles":["Billing (Slice E2E) — Deterministic","Basic Functionality (without auth)"],"duration":0,"failureDetails":[{"type":"BillingController","context":{"index":1,"dependencies":[null,null,null]},"metadata":{"id":"4faea0014fd2620c930c2"},"moduleRef":{"id":"5cf2d49df3e86a5a092d1"}}],"failureMessages":["Error: Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\nPotential solutions:\n- Is BillingModule a valid NestJS module?\n- If DemoProtectionService is a provider, is it part of the current BillingModule?\n- If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n  @Module({\n    imports: [ /* the Module containing DemoProtectionService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 11)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts:22:20)"],"fullName":"Billing (Slice E2E) — Deterministic Basic Functionality (without auth) should have billing controller mounted at /billing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should have billing controller mounted at /billing"},{"ancestorTitles":["Billing (Slice E2E) — Deterministic","Basic Functionality (without auth)"],"duration":0,"failureDetails":[{"type":"BillingController","context":{"index":1,"dependencies":[null,null,null]},"metadata":{"id":"4faea0014fd2620c930c2"},"moduleRef":{"id":"5cf2d49df3e86a5a092d1"}}],"failureMessages":["Error: Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\nPotential solutions:\n- Is BillingModule a valid NestJS module?\n- If DemoProtectionService is a provider, is it part of the current BillingModule?\n- If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n  @Module({\n    imports: [ /* the Module containing DemoProtectionService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 11)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts:22:20)"],"fullName":"Billing (Slice E2E) — Deterministic Basic Functionality (without auth) POST /billing/plan/change should validate request body","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"POST /billing/plan/change should validate request body"},{"ancestorTitles":["Billing (Slice E2E) — Deterministic","Basic Functionality (without auth)"],"duration":0,"failureDetails":[{"type":"BillingController","context":{"index":1,"dependencies":[null,null,null]},"metadata":{"id":"4faea0014fd2620c930c2"},"moduleRef":{"id":"5cf2d49df3e86a5a092d1"}}],"failureMessages":["Error: Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\nPotential solutions:\n- Is BillingModule a valid NestJS module?\n- If DemoProtectionService is a provider, is it part of the current BillingModule?\n- If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n  @Module({\n    imports: [ /* the Module containing DemoProtectionService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 11)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts:22:20)"],"fullName":"Billing (Slice E2E) — Deterministic Basic Functionality (without auth) POST /billing/cancel should be idempotent","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"POST /billing/cancel should be idempotent"},{"ancestorTitles":["Billing (Slice E2E) — Deterministic","Endpoint Availability"],"duration":0,"failureDetails":[{"type":"BillingController","context":{"index":1,"dependencies":[null,null,null]},"metadata":{"id":"4faea0014fd2620c930c2"},"moduleRef":{"id":"5cf2d49df3e86a5a092d1"}}],"failureMessages":["Error: Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\nPotential solutions:\n- Is BillingModule a valid NestJS module?\n- If DemoProtectionService is a provider, is it part of the current BillingModule?\n- If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n  @Module({\n    imports: [ /* the Module containing DemoProtectionService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 11)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts:22:20)"],"fullName":"Billing (Slice E2E) — Deterministic Endpoint Availability GET /billing/subscription endpoint exists","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"GET /billing/subscription endpoint exists"},{"ancestorTitles":["Billing (Slice E2E) — Deterministic","Endpoint Availability"],"duration":0,"failureDetails":[{"type":"BillingController","context":{"index":1,"dependencies":[null,null,null]},"metadata":{"id":"4faea0014fd2620c930c2"},"moduleRef":{"id":"5cf2d49df3e86a5a092d1"}}],"failureMessages":["Error: Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\nPotential solutions:\n- Is BillingModule a valid NestJS module?\n- If DemoProtectionService is a provider, is it part of the current BillingModule?\n- If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n  @Module({\n    imports: [ /* the Module containing DemoProtectionService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 11)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts:22:20)"],"fullName":"Billing (Slice E2E) — Deterministic Endpoint Availability POST /billing/plan/change endpoint exists","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"POST /billing/plan/change endpoint exists"},{"ancestorTitles":["Billing (Slice E2E) — Deterministic","Endpoint Availability"],"duration":0,"failureDetails":[{"type":"BillingController","context":{"index":1,"dependencies":[null,null,null]},"metadata":{"id":"4faea0014fd2620c930c2"},"moduleRef":{"id":"5cf2d49df3e86a5a092d1"}}],"failureMessages":["Error: Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\nPotential solutions:\n- Is BillingModule a valid NestJS module?\n- If DemoProtectionService is a provider, is it part of the current BillingModule?\n- If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n  @Module({\n    imports: [ /* the Module containing DemoProtectionService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 11)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts:22:20)"],"fullName":"Billing (Slice E2E) — Deterministic Endpoint Availability POST /billing/cancel endpoint exists","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"POST /billing/cancel endpoint exists"}],"endTime":1766792885853,"message":"  ● Billing (Slice E2E) — Deterministic › Authentication & Authorization › POST /billing/plan/change should return 401 if no authorization token is provided\n\n    Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\n    Potential solutions:\n    - Is BillingModule a valid NestJS module?\n    - If DemoProtectionService is a provider, is it part of the current BillingModule?\n    - If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n      @Module({\n        imports: [ /* the Module containing DemoProtectionService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 11)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:22:20)\n\n  ● Billing (Slice E2E) — Deterministic › Authentication & Authorization › POST /billing/cancel should return 401 if no authorization token is provided\n\n    Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\n    Potential solutions:\n    - Is BillingModule a valid NestJS module?\n    - If DemoProtectionService is a provider, is it part of the current BillingModule?\n    - If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n      @Module({\n        imports: [ /* the Module containing DemoProtectionService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 11)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:22:20)\n\n  ● Billing (Slice E2E) — Deterministic › Authentication & Authorization › GET /billing/subscription should return 401 if no authorization token is provided\n\n    Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\n    Potential solutions:\n    - Is BillingModule a valid NestJS module?\n    - If DemoProtectionService is a provider, is it part of the current BillingModule?\n    - If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n      @Module({\n        imports: [ /* the Module containing DemoProtectionService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 11)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:22:20)\n\n  ● Billing (Slice E2E) — Deterministic › Rate Limiting › Rate limiting produces >= one 429 deterministically\n\n    Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\n    Potential solutions:\n    - Is BillingModule a valid NestJS module?\n    - If DemoProtectionService is a provider, is it part of the current BillingModule?\n    - If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n      @Module({\n        imports: [ /* the Module containing DemoProtectionService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 11)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:22:20)\n\n  ● Billing (Slice E2E) — Deterministic › Basic Functionality (without auth) › should bootstrap successfully without metatype errors\n\n    Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\n    Potential solutions:\n    - Is BillingModule a valid NestJS module?\n    - If DemoProtectionService is a provider, is it part of the current BillingModule?\n    - If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n      @Module({\n        imports: [ /* the Module containing DemoProtectionService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 11)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:22:20)\n\n  ● Billing (Slice E2E) — Deterministic › Basic Functionality (without auth) › should have billing controller mounted at /billing\n\n    Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\n    Potential solutions:\n    - Is BillingModule a valid NestJS module?\n    - If DemoProtectionService is a provider, is it part of the current BillingModule?\n    - If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n      @Module({\n        imports: [ /* the Module containing DemoProtectionService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 11)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:22:20)\n\n  ● Billing (Slice E2E) — Deterministic › Basic Functionality (without auth) › POST /billing/plan/change should validate request body\n\n    Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\n    Potential solutions:\n    - Is BillingModule a valid NestJS module?\n    - If DemoProtectionService is a provider, is it part of the current BillingModule?\n    - If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n      @Module({\n        imports: [ /* the Module containing DemoProtectionService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 11)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:22:20)\n\n  ● Billing (Slice E2E) — Deterministic › Basic Functionality (without auth) › POST /billing/cancel should be idempotent\n\n    Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\n    Potential solutions:\n    - Is BillingModule a valid NestJS module?\n    - If DemoProtectionService is a provider, is it part of the current BillingModule?\n    - If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n      @Module({\n        imports: [ /* the Module containing DemoProtectionService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 11)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:22:20)\n\n  ● Billing (Slice E2E) — Deterministic › Endpoint Availability › GET /billing/subscription endpoint exists\n\n    Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\n    Potential solutions:\n    - Is BillingModule a valid NestJS module?\n    - If DemoProtectionService is a provider, is it part of the current BillingModule?\n    - If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n      @Module({\n        imports: [ /* the Module containing DemoProtectionService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 11)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:22:20)\n\n  ● Billing (Slice E2E) — Deterministic › Endpoint Availability › POST /billing/plan/change endpoint exists\n\n    Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\n    Potential solutions:\n    - Is BillingModule a valid NestJS module?\n    - If DemoProtectionService is a provider, is it part of the current BillingModule?\n    - If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n      @Module({\n        imports: [ /* the Module containing DemoProtectionService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 11)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:22:20)\n\n  ● Billing (Slice E2E) — Deterministic › Endpoint Availability › POST /billing/cancel endpoint exists\n\n    Nest can't resolve dependencies of the BillingController (BillingService, ?, PrismaService). Please make sure that the argument DemoProtectionService at index [1] is available in the BillingModule context.\n\n    Potential solutions:\n    - Is BillingModule a valid NestJS module?\n    - If DemoProtectionService is a provider, is it part of the current BillingModule?\n    - If DemoProtectionService is exported from a separate @Module, is that module imported within BillingModule?\n      @Module({\n        imports: [ /* the Module containing DemoProtectionService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 11)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:22:20)\n","name":"/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts","startTime":1766792885586,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Franchise (Slice E2E)"],"duration":62,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) GET /franchise/overview -> 401 without token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"GET /franchise/overview -> 401 without token"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":29,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) GET /franchise/overview -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /franchise/overview -> 200"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) GET /franchise/rankings -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /franchise/rankings -> 200"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) GET /franchise/budgets -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /franchise/budgets -> 200"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) Two reads of /franchise/overview return consistent payload shape","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Two reads of /franchise/overview return consistent payload shape"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) POST /franchise-test/invalidate -> { ok:true }","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /franchise-test/invalidate -> { ok:true }"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) GET /franchise/overview after invalidation -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /franchise/overview after invalidation -> 200"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) GET /franchise/forecast/items -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /franchise/forecast/items -> 200"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) Rate limiting produces >= one 429 on /franchise/overview","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 on /franchise/overview"}],"endTime":1766792886393,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/franchise.slice.e2e-spec.ts","startTime":1766792885859,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Transfer Invalidation (Slice E2E) — E22.D"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/transfer.invalidation.slice.e2e-spec.ts:32:18)"],"fullName":"Transfer Invalidation (Slice E2E) — E22.D POST /transfer-test/event -> 401 without token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"POST /transfer-test/event -> 401 without token"},{"ancestorTitles":["Transfer Invalidation (Slice E2E) — E22.D"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/transfer.invalidation.slice.e2e-spec.ts:32:18)"],"fullName":"Transfer Invalidation (Slice E2E) — E22.D POST /transfer-test/event -> 200 {ok:false} on invalid payload","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"POST /transfer-test/event -> 200 {ok:false} on invalid payload"},{"ancestorTitles":["Transfer Invalidation (Slice E2E) — E22.D"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/transfer.invalidation.slice.e2e-spec.ts:32:18)"],"fullName":"Transfer Invalidation (Slice E2E) — E22.D HIT → transfer.changed → MISS (forecast cache proves invalidation)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"HIT → transfer.changed → MISS (forecast cache proves invalidation)"},{"ancestorTitles":["Transfer Invalidation (Slice E2E) — E22.D"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/transfer.invalidation.slice.e2e-spec.ts:32:18)"],"fullName":"Transfer Invalidation (Slice E2E) — E22.D Idempotency: repeating same event still returns ok:true","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Idempotency: repeating same event still returns ok:true"},{"ancestorTitles":["Transfer Invalidation (Slice E2E) — E22.D"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/transfer.invalidation.slice.e2e-spec.ts:32:18)"],"fullName":"Transfer Invalidation (Slice E2E) — E22.D Deterministic rate limit: >= one 429 on /forecast-test/sales","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Deterministic rate limit: >= one 429 on /forecast-test/sales"}],"endTime":1766792886685,"message":"  ● Transfer Invalidation (Slice E2E) — E22.D › POST /transfer-test/event -> 401 without token\n\n    TypeError: modRef.createNestApplication is not a function\n\n      30 |     });\n      31 |\n    > 32 |     app = modRef.createNestApplication();\n         |                  ^\n      33 |     await app.init();\n      34 |   });\n      35 |\n\n      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:32:18)\n\n  ● Transfer Invalidation (Slice E2E) — E22.D › POST /transfer-test/event -> 200 {ok:false} on invalid payload\n\n    TypeError: modRef.createNestApplication is not a function\n\n      30 |     });\n      31 |\n    > 32 |     app = modRef.createNestApplication();\n         |                  ^\n      33 |     await app.init();\n      34 |   });\n      35 |\n\n      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:32:18)\n\n  ● Transfer Invalidation (Slice E2E) — E22.D › HIT → transfer.changed → MISS (forecast cache proves invalidation)\n\n    TypeError: modRef.createNestApplication is not a function\n\n      30 |     });\n      31 |\n    > 32 |     app = modRef.createNestApplication();\n         |                  ^\n      33 |     await app.init();\n      34 |   });\n      35 |\n\n      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:32:18)\n\n  ● Transfer Invalidation (Slice E2E) — E22.D › Idempotency: repeating same event still returns ok:true\n\n    TypeError: modRef.createNestApplication is not a function\n\n      30 |     });\n      31 |\n    > 32 |     app = modRef.createNestApplication();\n         |                  ^\n      33 |     await app.init();\n      34 |   });\n      35 |\n\n      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:32:18)\n\n  ● Transfer Invalidation (Slice E2E) — E22.D › Deterministic rate limit: >= one 429 on /forecast-test/sales\n\n    TypeError: modRef.createNestApplication is not a function\n\n      30 |     });\n      31 |\n    > 32 |     app = modRef.createNestApplication();\n         |                  ^\n      33 |     await app.init();\n      34 |   });\n      35 |\n\n      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:32:18)\n","name":"/workspaces/chefcloud/services/api/test/e2e/transfer.invalidation.slice.e2e-spec.ts","startTime":1766792886398,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["PosModule imports bisect"],"duration":24,"failureDetails":[{"type":"EfrisService","context":{"index":1,"dependencies":[null,null]},"metadata":{"id":"2d3a0924cd98bc68357ac"},"moduleRef":{"id":"44f9b2fa9d34a80e1209c"}}],"failureMessages":["Error: Nest can't resolve dependencies of the EfrisService (PrismaService, ?). Please make sure that the argument ConfigService at index [1] is available in the EfrisModule context.\n\nPotential solutions:\n- Is EfrisModule a valid NestJS module?\n- If ConfigService is a provider, is it part of the current EfrisModule?\n- If ConfigService is exported from a separate @Module, is that module imported within EfrisModule?\n  @Module({\n    imports: [ /* the Module containing ConfigService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 1)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadProvider (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at createE2ETestingModule (/workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:44:25)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/pos-imports-bisect.e2e-spec.ts:15:23)"],"fullName":"PosModule imports bisect should test all PosModule imports together","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should test all PosModule imports together"}],"endTime":1766792887071,"message":"  ● PosModule imports bisect › should test all PosModule imports together\n\n    Nest can't resolve dependencies of the EfrisService (PrismaService, ?). Please make sure that the argument ConfigService at index [1] is available in the EfrisModule context.\n\n    Potential solutions:\n    - Is EfrisModule a valid NestJS module?\n    - If ConfigService is a provider, is it part of the current EfrisModule?\n    - If ConfigService is exported from a separate @Module, is that module imported within EfrisModule?\n      @Module({\n        imports: [ /* the Module containing ConfigService */ ]\n      })\n\n      42 |   providers?: any[];\n      43 | }): Promise<TestingModule> {\n    > 44 |   const moduleFixture = await Test.createTestingModule({\n         |                         ^\n      45 |     imports: [\n      46 |       CacheModule, // Global module providing RedisService + CacheInvalidationService\n      47 |       ...(metadata.imports || []),\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 1)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13\n          at async Promise.all (index 3)\n      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13\n          at async Promise.all (index 3)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at createE2ETestingModule (helpers/e2e-bootstrap.ts:44:25)\n      at Object.<anonymous> (e2e/pos-imports-bisect.e2e-spec.ts:15:23)\n","name":"/workspaces/chefcloud/services/api/test/e2e/pos-imports-bisect.e2e-spec.ts","startTime":1766792886687,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Docs (env-gated)"],"duration":93,"failureDetails":[],"failureMessages":[],"fullName":"Docs (env-gated) returns 404 when DOCS_ENABLED!=1","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns 404 when DOCS_ENABLED!=1"},{"ancestorTitles":["Docs (env-gated)"],"duration":71,"failureDetails":[],"failureMessages":[],"fullName":"Docs (env-gated) serves OpenAPI JSON when DOCS_ENABLED=1","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"serves OpenAPI JSON when DOCS_ENABLED=1"}],"endTime":1766792887547,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/docs.e2e-spec.ts","startTime":1766792887086,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Forecast Caching (Slice E2E)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/forecast.slice.e2e-spec.ts:27:18)"],"fullName":"Forecast Caching (Slice E2E) GET /forecast-test/sales -> 401 without token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"GET /forecast-test/sales -> 401 without token"},{"ancestorTitles":["Forecast Caching (Slice E2E)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/forecast.slice.e2e-spec.ts:27:18)"],"fullName":"Forecast Caching (Slice E2E) GET /forecast-test/sales -> 400 for bad period","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"GET /forecast-test/sales -> 400 for bad period"},{"ancestorTitles":["Forecast Caching (Slice E2E)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/forecast.slice.e2e-spec.ts:27:18)"],"fullName":"Forecast Caching (Slice E2E) MISS then HIT for same period","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"MISS then HIT for same period"},{"ancestorTitles":["Forecast Caching (Slice E2E)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/forecast.slice.e2e-spec.ts:27:18)"],"fullName":"Forecast Caching (Slice E2E) Invalidate then MISS with a new version","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Invalidate then MISS with a new version"},{"ancestorTitles":["Forecast Caching (Slice E2E)"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/forecast.slice.e2e-spec.ts:27:18)"],"fullName":"Forecast Caching (Slice E2E) Separate period keys are independent (MISS on first read)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Separate period keys are independent (MISS on first read)"},{"ancestorTitles":["Forecast Caching (Slice E2E)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/forecast.slice.e2e-spec.ts:27:18)"],"fullName":"Forecast Caching (Slice E2E) Deterministic rate limit: >= one 429 on sales","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Deterministic rate limit: >= one 429 on sales"}],"endTime":1766792887797,"message":"  ● Forecast Caching (Slice E2E) › GET /forecast-test/sales -> 401 without token\n\n    TypeError: modRef.createNestApplication is not a function\n\n      25 |       ],\n      26 |     });\n    > 27 |     app = modRef.createNestApplication();\n         |                  ^\n      28 |     await app.init();\n      29 |   });\n      30 |\n\n      at Object.<anonymous> (e2e/forecast.slice.e2e-spec.ts:27:18)\n\n  ● Forecast Caching (Slice E2E) › GET /forecast-test/sales -> 400 for bad period\n\n    TypeError: modRef.createNestApplication is not a function\n\n      25 |       ],\n      26 |     });\n    > 27 |     app = modRef.createNestApplication();\n         |                  ^\n      28 |     await app.init();\n      29 |   });\n      30 |\n\n      at Object.<anonymous> (e2e/forecast.slice.e2e-spec.ts:27:18)\n\n  ● Forecast Caching (Slice E2E) › MISS then HIT for same period\n\n    TypeError: modRef.createNestApplication is not a function\n\n      25 |       ],\n      26 |     });\n    > 27 |     app = modRef.createNestApplication();\n         |                  ^\n      28 |     await app.init();\n      29 |   });\n      30 |\n\n      at Object.<anonymous> (e2e/forecast.slice.e2e-spec.ts:27:18)\n\n  ● Forecast Caching (Slice E2E) › Invalidate then MISS with a new version\n\n    TypeError: modRef.createNestApplication is not a function\n\n      25 |       ],\n      26 |     });\n    > 27 |     app = modRef.createNestApplication();\n         |                  ^\n      28 |     await app.init();\n      29 |   });\n      30 |\n\n      at Object.<anonymous> (e2e/forecast.slice.e2e-spec.ts:27:18)\n\n  ● Forecast Caching (Slice E2E) › Separate period keys are independent (MISS on first read)\n\n    TypeError: modRef.createNestApplication is not a function\n\n      25 |       ],\n      26 |     });\n    > 27 |     app = modRef.createNestApplication();\n         |                  ^\n      28 |     await app.init();\n      29 |   });\n      30 |\n\n      at Object.<anonymous> (e2e/forecast.slice.e2e-spec.ts:27:18)\n\n  ● Forecast Caching (Slice E2E) › Deterministic rate limit: >= one 429 on sales\n\n    TypeError: modRef.createNestApplication is not a function\n\n      25 |       ],\n      26 |     });\n    > 27 |     app = modRef.createNestApplication();\n         |                  ^\n      28 |     await app.init();\n      29 |   });\n      30 |\n\n      at Object.<anonymous> (e2e/forecast.slice.e2e-spec.ts:27:18)\n","name":"/workspaces/chefcloud/services/api/test/e2e/forecast.slice.e2e-spec.ts","startTime":1766792887550,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Webhook Replay Protection (Slice E2E)"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/webhook.replay.slice.e2e-spec.ts:20:18)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)"],"fullName":"Webhook Replay Protection (Slice E2E) accepts a valid (HMAC + fresh timestamp + new nonce)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"accepts a valid (HMAC + fresh timestamp + new nonce)"},{"ancestorTitles":["Webhook Replay Protection (Slice E2E)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/webhook.replay.slice.e2e-spec.ts:20:18)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)"],"fullName":"Webhook Replay Protection (Slice E2E) rejects replay of the same nonce","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"rejects replay of the same nonce"},{"ancestorTitles":["Webhook Replay Protection (Slice E2E)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/webhook.replay.slice.e2e-spec.ts:20:18)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)"],"fullName":"Webhook Replay Protection (Slice E2E) rejects stale timestamp","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"rejects stale timestamp"},{"ancestorTitles":["Webhook Replay Protection (Slice E2E)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: modRef.createNestApplication is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/webhook.replay.slice.e2e-spec.ts:20:18)\n    at runNextTicks (node:internal/process/task_queues:60:5)\n    at processImmediate (node:internal/timers:454:9)"],"fullName":"Webhook Replay Protection (Slice E2E) rejects bad signature","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"rejects bad signature"}],"endTime":1766792888027,"message":"  ● Webhook Replay Protection (Slice E2E) › accepts a valid (HMAC + fresh timestamp + new nonce)\n\n    TypeError: modRef.createNestApplication is not a function\n\n      18 |     });\n      19 |\n    > 20 |     app = modRef.createNestApplication();\n         |                  ^\n      21 |     await app.init();\n      22 |   });\n      23 |\n\n      at Object.<anonymous> (e2e/webhook.replay.slice.e2e-spec.ts:20:18)\n\n  ● Webhook Replay Protection (Slice E2E) › rejects replay of the same nonce\n\n    TypeError: modRef.createNestApplication is not a function\n\n      18 |     });\n      19 |\n    > 20 |     app = modRef.createNestApplication();\n         |                  ^\n      21 |     await app.init();\n      22 |   });\n      23 |\n\n      at Object.<anonymous> (e2e/webhook.replay.slice.e2e-spec.ts:20:18)\n\n  ● Webhook Replay Protection (Slice E2E) › rejects stale timestamp\n\n    TypeError: modRef.createNestApplication is not a function\n\n      18 |     });\n      19 |\n    > 20 |     app = modRef.createNestApplication();\n         |                  ^\n      21 |     await app.init();\n      22 |   });\n      23 |\n\n      at Object.<anonymous> (e2e/webhook.replay.slice.e2e-spec.ts:20:18)\n\n  ● Webhook Replay Protection (Slice E2E) › rejects bad signature\n\n    TypeError: modRef.createNestApplication is not a function\n\n      18 |     });\n      19 |\n    > 20 |     app = modRef.createNestApplication();\n         |                  ^\n      21 |     await app.init();\n      22 |   });\n      23 |\n\n      at Object.<anonymous> (e2e/webhook.replay.slice.e2e-spec.ts:20:18)\n","name":"/workspaces/chefcloud/services/api/test/e2e/webhook.replay.slice.e2e-spec.ts","startTime":1766792887800,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Payments (Slice E2E)"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) GET /payments -> 401 without token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"GET /payments -> 401 without token"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":41,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) GET /payments -> 200 with token (lists payments)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /payments -> 200 with token (lists payments)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) GET /payments/pay_001 -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /payments/pay_001 -> 200"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) GET /payments/pay_missing -> 404/400 (invalid id)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /payments/pay_missing -> 404/400 (invalid id)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments -> 201 (create payment)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /payments -> 201 (create payment)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments -> 400/422 (invalid payload)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /payments -> 400/422 (invalid payload)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments/pay_001/capture -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /payments/pay_001/capture -> 200"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments/pay_001/refund -> 201","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /payments/pay_001/refund -> 201"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments/intents -> 201 (create intent)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /payments/intents -> 201 (create intent)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments/intents/pi_001/cancel -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /payments/intents/pi_001/cancel -> 200"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments-test-webhook/gateway -> 200 (valid HMAC)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /payments-test-webhook/gateway -> 200 (valid HMAC)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments-test-webhook/gateway -> 200 { ok:false } (bad HMAC)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /payments-test-webhook/gateway -> 200 { ok:false } (bad HMAC)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments-test-webhook/gateway -> 200 { ok:false } (missing signature)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /payments-test-webhook/gateway -> 200 { ok:false } (missing signature)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) Rate limiting produces >= one 429 on /payments","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 on /payments"}],"endTime":1766792888497,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/payments.slice.e2e-spec.ts","startTime":1766792888030,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Reservations (Slice E2E)"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations -> 401 without token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"GET /reservations -> 401 without token"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":25,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations -> 200 with token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /reservations -> 200 with token"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) POST /reservations -> 201 (create booking)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /reservations -> 201 (create booking)"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) POST /reservations -> 400/422 (invalid payload)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /reservations -> 400/422 (invalid payload)"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) POST /reservations/:id/confirm -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /reservations/:id/confirm -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) POST /reservations/:id/cancel -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /reservations/:id/cancel -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) POST /reservations/:id/seat -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /reservations/:id/seat -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations?status=CONFIRMED -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /reservations?status=CONFIRMED -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations?from=2025-11-13&to=2025-11-14 -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /reservations?from=2025-11-13&to=2025-11-14 -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations/summary?from=2025-11-01&to=2025-11-30 -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /reservations/summary?from=2025-11-01&to=2025-11-30 -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations-test/availability?date=2025-11-13&party=2 -> 200","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"GET /reservations-test/availability?date=2025-11-13&party=2 -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations-test/availability?date=2025-11-13&party=6 -> 200 (fewer slots)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"GET /reservations-test/availability?date=2025-11-13&party=6 -> 200 (fewer slots)"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":24,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) Rate limiting produces >= one 429 on /reservations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 on /reservations"}],"endTime":1766792888895,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/reservations.slice.e2e-spec.ts","startTime":1766792888500,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SSE Black-Box Smoke (Slice E2E)"],"duration":24,"failureDetails":[],"failureMessages":[],"fullName":"SSE Black-Box Smoke (Slice E2E) GET /sse-test/stream -> 401 without token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /sse-test/stream -> 401 without token"},{"ancestorTitles":["SSE Black-Box Smoke (Slice E2E)"],"duration":47,"failureDetails":[],"failureMessages":[],"fullName":"SSE Black-Box Smoke (Slice E2E) Sends first SSE event quickly and has correct headers","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"Sends first SSE event quickly and has correct headers"},{"ancestorTitles":["SSE Black-Box Smoke (Slice E2E)"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"SSE Black-Box Smoke (Slice E2E) Event payload contains deterministic requestId from header","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Event payload contains deterministic requestId from header"},{"ancestorTitles":["SSE Black-Box Smoke (Slice E2E)"],"duration":75,"failureDetails":[],"failureMessages":[],"fullName":"SSE Black-Box Smoke (Slice E2E) Deterministic rate limit: >= one 429 on SSE connect burst","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Deterministic rate limit: >= one 429 on SSE connect burst"}],"endTime":1766792890256,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/sse.smoke.e2e-spec.ts","startTime":1766792888902,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Dev-Portal (Slice E2E) — Plan-aware limits + HMAC"],"duration":56,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) — Plan-aware limits + HMAC GET /dev/keys without token -> 200 (test controller)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"GET /dev/keys without token -> 200 (test controller)"},{"ancestorTitles":["Dev-Portal (Slice E2E) — Plan-aware limits + HMAC"],"duration":48,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) — Plan-aware limits + HMAC GET /dev/keys -> 200 with token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"GET /dev/keys -> 200 with token"},{"ancestorTitles":["Dev-Portal (Slice E2E) — Plan-aware limits + HMAC"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) — Plan-aware limits + HMAC POST /dev/keys -> 201 (create)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"POST /dev/keys -> 201 (create)"},{"ancestorTitles":["Dev-Portal (Slice E2E) — Plan-aware limits + HMAC"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) — Plan-aware limits + HMAC POST /dev/keys -> 400 (invalid payload)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /dev/keys -> 400 (invalid payload)"},{"ancestorTitles":["Dev-Portal (Slice E2E) — Plan-aware limits + HMAC"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) — Plan-aware limits + HMAC POST /dev/keys/key_1/revoke -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /dev/keys/key_1/revoke -> 200"},{"ancestorTitles":["Dev-Portal (Slice E2E) — Plan-aware limits + HMAC"],"duration":114,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) — Plan-aware limits + HMAC Plan-aware limit hits 429 for free but not for pro (same burst)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"Plan-aware limit hits 429 for free but not for pro (same burst)"},{"ancestorTitles":["Dev-Portal (Slice E2E) — Plan-aware limits + HMAC"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) — Plan-aware limits + HMAC POST /dev-webhook/events -> 200 { ok:true } (valid HMAC)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"POST /dev-webhook/events -> 200 { ok:true } (valid HMAC)"},{"ancestorTitles":["Dev-Portal (Slice E2E) — Plan-aware limits + HMAC"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) — Plan-aware limits + HMAC POST /dev-webhook/events -> 200 { ok:false } (bad HMAC)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /dev-webhook/events -> 200 { ok:false } (bad HMAC)"},{"ancestorTitles":["Dev-Portal (Slice E2E) — Plan-aware limits + HMAC"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) — Plan-aware limits + HMAC POST /dev-webhook/events -> 200 { ok:false } (missing signature)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /dev-webhook/events -> 200 { ok:false } (missing signature)"},{"ancestorTitles":["Dev-Portal (Slice E2E) — Plan-aware limits + HMAC"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) — Plan-aware limits + HMAC GET /dev/keys returns multiple keys with plan info","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"GET /dev/keys returns multiple keys with plan info"},{"ancestorTitles":["Dev-Portal (Slice E2E) — Plan-aware limits + HMAC"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) — Plan-aware limits + HMAC POST /dev/keys with pro plan -> 201","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /dev/keys with pro plan -> 201"}],"endTime":1766792891644,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/devportal.slice.e2e-spec.ts","startTime":1766792890266,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth (Slice E2E) — Deterministic","POST /auth/login"],"duration":148,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic POST /auth/login returns 200 with access_token on valid credentials","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns 200 with access_token on valid credentials"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","POST /auth/login"],"duration":90,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic POST /auth/login returns 401 on invalid credentials","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 401 on invalid credentials"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","POST /auth/login"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic POST /auth/login returns 400 on invalid email format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 400 on invalid email format"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","POST /auth/login"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic POST /auth/login returns 400 on missing password","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 400 on missing password"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","POST /auth/pin-login"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic POST /auth/pin-login returns 200 with access_token on valid PIN","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns 200 with access_token on valid PIN"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","POST /auth/pin-login"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic POST /auth/pin-login returns 401 on invalid PIN","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 401 on invalid PIN"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","POST /auth/msr-swipe"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic POST /auth/msr-swipe returns 200 with access_token on valid badge","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns 200 with access_token on valid badge"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","POST /auth/msr-swipe"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic POST /auth/msr-swipe returns 404 on unknown badge","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 404 on unknown badge"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","POST /auth/enroll-badge"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic POST /auth/enroll-badge returns 200 on successful badge enrollment (L4+ role)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 200 on successful badge enrollment (L4+ role)"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","GET /me"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic GET /me returns 401 without authorization header","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 401 without authorization header"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","Rate limiting"],"duration":23,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic Rate limiting handles burst requests to /auth/login without crashing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles burst requests to /auth/login without crashing"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","Login methods"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic Login methods supports email/password login","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"supports email/password login"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","Login methods"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic Login methods supports PIN login","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"supports PIN login"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","Login methods"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic Login methods supports badge swipe login","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"supports badge swipe login"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","Login methods"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic Login methods returns consistent user structure across all auth methods","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"returns consistent user structure across all auth methods"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","Endpoint availability"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic Endpoint availability POST /auth/login is available","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"POST /auth/login is available"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","Endpoint availability"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic Endpoint availability POST /auth/pin-login is available","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /auth/pin-login is available"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","Endpoint availability"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic Endpoint availability POST /auth/msr-swipe is available","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /auth/msr-swipe is available"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","Endpoint availability"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic Endpoint availability POST /auth/enroll-badge is available","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /auth/enroll-badge is available"},{"ancestorTitles":["Auth (Slice E2E) — Deterministic","Endpoint availability"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) — Deterministic Endpoint availability GET /me is available (requires auth)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /me is available (requires auth)"}],"endTime":1766792893333,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/auth.slice.e2e-spec.ts","startTime":1766792891657,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["KDS (Slice E2E)"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) GET /kds-test/tickets without token -> 200 (test controller)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"GET /kds-test/tickets without token -> 200 (test controller)"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":44,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) GET /kds-test/tickets -> 200 with token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"GET /kds-test/tickets -> 200 with token"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) GET /kds-test/tickets/tkt-001 -> 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /kds-test/tickets/tkt-001 -> 200"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) GET /kds-test/tickets/tkt-missing -> 404","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /kds-test/tickets/tkt-missing -> 404"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) POST /kds-test/tickets/tkt-001/ack -> 200 (ACK)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /kds-test/tickets/tkt-001/ack -> 200 (ACK)"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) POST /kds-test/tickets/tkt-001/bump -> 200 (BUMPED)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /kds-test/tickets/tkt-001/bump -> 200 (BUMPED)"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) POST /kds-test/tickets/tkt-001/expo -> 200 (EXPO)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /kds-test/tickets/tkt-001/expo -> 200 (EXPO)"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) POST /kds-test/screens/scr-001/heartbeat -> 200","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /kds-test/screens/scr-001/heartbeat -> 200"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) Rate limiting produces >= one 429 on /kds-test/tickets","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 on /kds-test/tickets"}],"endTime":1766792894496,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/kds.slice.e2e-spec.ts","startTime":1766792893358,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Authentication & Authorization"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Authentication & Authorization GET /inventory/items should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /inventory/items should return 401 if no authorization token is provided"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Authentication & Authorization"],"duration":37,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Authentication & Authorization POST /inventory/items should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/items should return 401 if no authorization token is provided"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Authentication & Authorization"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Authentication & Authorization POST /inventory/adjustments should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/adjustments should return 401 if no authorization token is provided"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Authentication & Authorization"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Authentication & Authorization POST /inventory/wastage should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/wastage should return 401 if no authorization token is provided"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Rate Limiting"],"duration":124,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Rate Limiting Rate limiting produces >= one 429 deterministically","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 deterministically"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Basic Functionality (without auth)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Basic Functionality (without auth) should bootstrap successfully without metatype errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should bootstrap successfully without metatype errors"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Basic Functionality (without auth)"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Basic Functionality (without auth) GET /inventory/items should exist (not 404)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /inventory/items should exist (not 404)"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Basic Functionality (without auth)"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Basic Functionality (without auth) POST /inventory/items should validate request body","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/items should validate request body"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Basic Functionality (without auth)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Basic Functionality (without auth) POST /inventory/adjustments should validate request body","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/adjustments should validate request body"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Endpoint Availability"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Endpoint Availability GET /inventory/items endpoint exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /inventory/items endpoint exists"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Endpoint Availability"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Endpoint Availability POST /inventory/items endpoint exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/items endpoint exists"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Endpoint Availability"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Endpoint Availability GET /inventory/levels endpoint exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /inventory/levels endpoint exists"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Endpoint Availability"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Endpoint Availability POST /inventory/adjustments endpoint exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/adjustments endpoint exists"},{"ancestorTitles":["Inventory (Slice E2E) — Deterministic","Endpoint Availability"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) — Deterministic Endpoint Availability POST /inventory/wastage endpoint exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/wastage endpoint exists"}],"endTime":1766792895290,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/inventory.slice.e2e-spec.ts","startTime":1766792894500,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Orders (Slice E2E)"],"duration":41,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders -> 401 without token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"POST /pos/orders -> 401 without token"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":55,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders -> 201 with token (creates open order)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders -> 201 with token (creates open order)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/send-to-kitchen -> 401 without token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/send-to-kitchen -> 401 without token"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/modify -> 401 without token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/modify -> 401 without token"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/send-to-kitchen -> 200/201 (sends to kitchen)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/send-to-kitchen -> 200/201 (sends to kitchen)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/modify -> 200 (modifies order)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/modify -> 200 (modifies order)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/void -> 200 (voids order)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/void -> 200 (voids order)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/close -> 200 (closes order)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/close -> 200 (closes order)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/discount -> 200 (applies discount)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/discount -> 200 (applies discount)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/post-close-void -> 200 (voids closed order)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/post-close-void -> 200 (voids closed order)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders -> 400/422 (bad payload)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders -> 400/422 (bad payload)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/invalid-id/send-to-kitchen -> 404/400 (invalid order id)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/invalid-id/send-to-kitchen -> 404/400 (invalid order id)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/ord_001/modify -> 400/422 (bad modify payload)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/ord_001/modify -> 400/422 (bad modify payload)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) Rate limiting produces >= one 429 on /pos/orders","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 on /pos/orders"}],"endTime":1766792895956,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/orders.slice.e2e-spec.ts","startTime":1766792895300,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Purchasing (Slice E2E) — Deterministic","Authentication & Authorization"],"duration":57,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) — Deterministic Authentication & Authorization POST /purchasing/po should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po should return 401 if no authorization token is provided"},{"ancestorTitles":["Purchasing (Slice E2E) — Deterministic","Authentication & Authorization"],"duration":53,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) — Deterministic Authentication & Authorization POST /purchasing/po/:id/place should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po/:id/place should return 401 if no authorization token is provided"},{"ancestorTitles":["Purchasing (Slice E2E) — Deterministic","Authentication & Authorization"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) — Deterministic Authentication & Authorization POST /purchasing/po/:id/receive should return 401 if no authorization token is provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po/:id/receive should return 401 if no authorization token is provided"},{"ancestorTitles":["Purchasing (Slice E2E) — Deterministic","Rate Limiting"],"duration":49,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) — Deterministic Rate Limiting Rate limiting produces >= one 429 deterministically","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 deterministically"},{"ancestorTitles":["Purchasing (Slice E2E) — Deterministic","Basic Functionality (without auth)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) — Deterministic Basic Functionality (without auth) should bootstrap successfully without metatype errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should bootstrap successfully without metatype errors"},{"ancestorTitles":["Purchasing (Slice E2E) — Deterministic","Basic Functionality (without auth)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) — Deterministic Basic Functionality (without auth) POST /purchasing/po should validate request body","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po should validate request body"},{"ancestorTitles":["Purchasing (Slice E2E) — Deterministic","Basic Functionality (without auth)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) — Deterministic Basic Functionality (without auth) POST /purchasing/po/:id/place should handle invalid ID gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po/:id/place should handle invalid ID gracefully"},{"ancestorTitles":["Purchasing (Slice E2E) — Deterministic","Endpoint Availability"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) — Deterministic Endpoint Availability POST /purchasing/po endpoint exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po endpoint exists"},{"ancestorTitles":["Purchasing (Slice E2E) — Deterministic","Endpoint Availability"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) — Deterministic Endpoint Availability POST /purchasing/po/:id/place endpoint exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po/:id/place endpoint exists"},{"ancestorTitles":["Purchasing (Slice E2E) — Deterministic","Endpoint Availability"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) — Deterministic Endpoint Availability POST /purchasing/po/:id/receive endpoint exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po/:id/receive endpoint exists"}],"endTime":1766792896562,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/purchasing.slice.e2e-spec.ts","startTime":1766792895962,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["InventoryModule + KpisModule test"],"duration":94,"failureDetails":[],"failureMessages":[],"fullName":"InventoryModule + KpisModule test should compile these modules together","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should compile these modules together"}],"endTime":1766792896965,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/inventory-kpis.e2e-spec.ts","startTime":1766792896573,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Metrics endpoint"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Metrics endpoint /metrics returns text exposition","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"/metrics returns text exposition"}],"endTime":1766792897268,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/metrics.e2e-spec.ts","startTime":1766792896969,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["EventsModule isolation test"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"EventsModule isolation test should compile EventsModule","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should compile EventsModule"}],"endTime":1766792897537,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/events-isolation.e2e-spec.ts","startTime":1766792897271,"status":"passed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1766792899284,"message":"  ● Test suite failed to run\n\n    AppModule.imports not accessible; in AppModule, add: public static __imports = [ ...imports ]\n\n      10 |\n      11 | if (!appModuleImports || !Array.isArray(appModuleImports)) {\n    > 12 |   throw new Error('AppModule.imports not accessible; in AppModule, add: public static __imports = [ ...imports ]');\n         |         ^\n      13 | }\n      14 |\n      15 | async function tryImports(imports: any[]) {\n\n      at Object.<anonymous> (e2e/app-bisect.e2e-spec.ts:12:9)\n","name":"/workspaces/chefcloud/services/api/test/e2e/app-bisect.e2e-spec.ts","startTime":1766792899284,"status":"failed","summary":""}],"wasInterrupted":false}
