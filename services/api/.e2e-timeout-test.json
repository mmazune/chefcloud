
> @chefcloud/api@1.0.0-rc.1 test:e2e /workspaces/chefcloud/services/api
> jest --config ./test/jest-e2e.json "--runInBand" "--json"

✓ E2E environment loaded
  DATABASE_URL: postgresql://postgres:***@localhost:5432/chefcloud_test
{"level":"info","time":1766888961634,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":111,"requestId":"c3e308b7-d528-4bdd-9e12-2a0a9d13cb2b","route":"/auth/login"}
{"level":"info","time":1766888961728,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":90,"requestId":"120ebda7-e83e-4859-988a-a9def9be9e54","route":"/auth/login"}
{"level":"info","time":1766888961832,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":102,"requestId":"9d005cdd-ee7f-44d4-90d7-befcfa63a501","route":"/auth/login"}
{"level":"info","time":1766888961922,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":88,"requestId":"27ab5c54-7973-4e11-b7b3-32d66563093d","route":"/auth/login"}
{"level":"info","time":1766888961957,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/access/matrix","statusCode":200,"durationMs":12,"requestId":"dec74004-5805-41e4-b2c4-41e4210fb94f","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1766888961970,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/access/matrix","statusCode":403,"durationMs":7,"requestId":"892fa062-318e-4db8-81e3-d19da15d01b9","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1766888961977,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/access/matrix","statusCode":403,"durationMs":4,"requestId":"42c4ec59-ccf8-461d-b409-6af04cfc6b1d","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1766888961983,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/access/matrix","statusCode":403,"durationMs":4,"requestId":"cb5a89df-c469-4b4e-93e4-380a5ae237f6","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1766888961987,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/access/matrix","statusCode":401,"durationMs":1,"requestId":"b07ea02c-cdc5-4be4-8e77-17e55c9cc22b","route":"/access/matrix"}
{"level":"info","time":1766888961998,"service":"chefcloud-api","env":"test","type":"http_request","method":"PATCH","url":"/access/matrix","statusCode":200,"durationMs":8,"requestId":"86fc5c9b-05c1-434d-946e-30e36ef8f939","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1766888962018,"service":"chefcloud-api","env":"test","type":"http_request","method":"PATCH","url":"/access/matrix","statusCode":500,"durationMs":17,"requestId":"a4e37598-96c4-4277-9fa2-a10f9f79a611","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1766888962032,"service":"chefcloud-api","env":"test","type":"http_request","method":"PATCH","url":"/access/matrix","statusCode":403,"durationMs":8,"requestId":"15c7501e-529d-4a49-b562-4ac7da320b50","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1766888962043,"service":"chefcloud-api","env":"test","type":"http_request","method":"PATCH","url":"/access/matrix","statusCode":403,"durationMs":7,"requestId":"2064dc5d-4f6d-4610-98b9-6afa3cb73009","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1766888962050,"service":"chefcloud-api","env":"test","type":"http_request","method":"PATCH","url":"/access/matrix","statusCode":401,"durationMs":2,"requestId":"a4a6175b-fbf8-49f0-8a18-0356aa1e01f9","route":"/access/matrix"}
{"level":"info","time":1766888962145,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":91,"requestId":"3ff25a2e-86b1-4883-836c-53960e8dcb3b","route":"/auth/login"}
{"level":"info","time":1766888962255,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":103,"requestId":"816160ba-5ec2-44c1-a510-e2f4a9b998cd","route":"/auth/login"}
{"level":"info","time":1766888962353,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":94,"requestId":"3a6e028f-883a-426d-9249-b8ff960ea012","route":"/auth/login"}
{"level":"info","time":1766888962493,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":137,"requestId":"090e474a-4ff4-4a14-a013-eec4d7f5bff3","route":"/auth/login"}
{"level":"info","time":1766888962587,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":91,"requestId":"f1457069-de8b-4345-8af1-aa5e7410628b","route":"/auth/login"}
{"level":"info","time":1766888962703,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":113,"requestId":"b6104303-14c5-4dbe-96cc-afe8b891b819","route":"/auth/login"}
{"level":"info","time":1766888962712,"service":"chefcloud-api","env":"test","type":"http_request","method":"PATCH","url":"/access/matrix","statusCode":200,"durationMs":7,"requestId":"8aef71f1-084c-43d3-8e6b-2442a4955825","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1766888962719,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/access/matrix","statusCode":200,"durationMs":5,"requestId":"4a2bcf52-c666-43ff-b81e-24999026ff92","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1766888968088,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":94,"requestId":"1ce50518-e7f6-4a84-818f-011099f13b03","route":"/auth/login"}
{"level":"info","time":1766888968096,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/inventory/items/beef-cmjo545si0037fwk5b46m83e0","statusCode":404,"durationMs":2,"requestId":"2217ef01-fd5f-48f7-a58a-7d2d64f380b5"}
{"level":"info","time":1766888970688,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":96,"requestId":"b2ee6607-7766-4c0f-a399-c27790acee14","route":"/auth/login"}
{"level":"info","time":1766888970806,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":116,"requestId":"b751825f-5635-4fd1-99f4-3d2ea9092298","route":"/auth/login"}
{"level":"info","time":1766888970830,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/workforce/attendance/clock-in","statusCode":404,"durationMs":15,"requestId":"5fd6f1f7-97e8-4b2c-9fa4-eacc1bb0b3f8"}
{"level":"info","time":1766888971655,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":101,"requestId":"deb47cfb-1120-4797-a2db-b2bfd6819210","route":"/auth/login"}
{"level":"info","time":1766888971662,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/menu/items","statusCode":400,"durationMs":5,"requestId":"f0b41549-a3e4-42e9-8e94-01ec17d09a05","orgId":"00000000-0000-4000-8000-000000000001","route":"/menu/items"}
{"level":"info","time":1766888973507,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":126,"requestId":"8e050cf0-186a-4ccd-b6de-502c7599c60f","route":"/auth/login"}
{"level":"info","time":1766888973515,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/reports/x-report","statusCode":404,"durationMs":4,"requestId":"dbe9da87-17b7-4b9f-aeac-b96d6eb3a0e2"}
{"level":"info","time":1766888973519,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/reports/owner-overview?startDate=2025-01-01&endDate=2025-01-31","statusCode":404,"durationMs":1,"requestId":"9dd434e1-a1a4-4bcc-9b2d-7fed71b5a3c3"}
{"level":"info","time":1766888974230,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/dev/orgs","statusCode":404,"durationMs":6,"requestId":"de171e64-c85c-4b6a-8a9f-2966c831b6a6"}
{"level":"info","time":1766888974234,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/dev/orgs","statusCode":404,"durationMs":2,"requestId":"6bf0b2ac-9e08-4284-ba96-5626bfda146f"}
{"level":"info","time":1766888974237,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/dev/subscriptions","statusCode":404,"durationMs":1,"requestId":"a10f7c7c-fa4b-462d-ad0d-e5e89571edc9"}
{"level":"info","time":1766888974240,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/dev/plans","statusCode":404,"durationMs":1,"requestId":"7981126e-2bea-4f00-a889-5b16674944c3"}
{"level":"info","time":1766888974283,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/dev/plans","statusCode":404,"durationMs":2,"requestId":"fae87ecc-2f35-4dca-b7a3-b18330255043"}
{"level":"info","time":1766888974379,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":93,"requestId":"2924dbbb-ccb2-4948-9478-07458382e2f1","route":"/auth/login"}
{"level":"info","time":1766888974387,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":404,"durationMs":7,"requestId":"4ad48e2d-6916-4fe5-84ea-fb403228c989","orgId":"00000000-0000-4000-8000-000000000001","route":"/billing/subscription"}
{"level":"info","time":1766888974514,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":125,"requestId":"77bfc4aa-7b3a-44ca-a6a8-68dc74877b69","route":"/auth/login"}
{"level":"info","time":1766888974520,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":403,"durationMs":4,"requestId":"ac6c76cc-c69f-4966-a48c-b90f371010e9","orgId":"00000000-0000-4000-8000-000000000001","route":"/billing/subscription"}
{"level":"info","time":1766888974608,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":86,"requestId":"e3b94871-c324-4870-9de2-c244624c8cf7","route":"/auth/login"}
{"level":"info","time":1766888974616,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/billing/plan/change","statusCode":403,"durationMs":6,"requestId":"ba0fa354-4882-448d-836d-24f417ae247e","orgId":"00000000-0000-4000-8000-000000000001","route":"/billing/plan/change"}
{"level":"info","time":1766888974705,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":87,"requestId":"40d266c8-dc9d-4e60-bb13-deb07f5c40b4","route":"/auth/login"}
{"level":"info","time":1766888974712,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/billing/cancel","statusCode":403,"durationMs":5,"requestId":"adc084e2-eb3f-48fa-b1ac-6e194c75fcf0","orgId":"00000000-0000-4000-8000-000000000001","route":"/billing/cancel"}
{"level":"info","time":1766888977211,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":92,"requestId":"f187f118-32e4-4ce3-81c0-86459662563e","route":"/auth/login"}
{"level":"info","time":1766888977217,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":3,"requestId":"dfce4123-23f5-49a8-80da-445af4a358e5","route":"/auth/login"}
{"level":"info","time":1766888977297,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":79,"requestId":"05b3286e-80c9-462b-91b1-ba1e57844aea","route":"/auth/login"}
{"level":"info","time":1766888977301,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":400,"durationMs":1,"requestId":"0f094b5c-418a-402b-b234-73d4f7eb1d20","route":"/auth/login"}
{"level":"info","time":1766888977308,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/pin-login","statusCode":401,"durationMs":4,"requestId":"56a9ad7b-4671-4fa0-8edc-7a7ab25718f8","route":"/auth/pin-login"}
{"level":"info","time":1766888977312,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/pin-login","statusCode":401,"durationMs":2,"requestId":"8c69108a-aa6c-46ea-93f3-b90bd9b7b83c","route":"/auth/pin-login"}
{"level":"info","time":1766888977317,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/pin-login","statusCode":401,"durationMs":3,"requestId":"9b1ac701-ee93-4423-89cc-76f8a53b16cc","route":"/auth/pin-login"}
{"level":"info","time":1766888977321,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/pin-login","statusCode":401,"durationMs":3,"requestId":"1aed5eb0-c872-40e8-8877-1b433275b92b","route":"/auth/pin-login"}
{"level":"info","time":1766888977325,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/msr-swipe","statusCode":400,"durationMs":2,"requestId":"53d71140-e6d9-4feb-9b52-75b12cecb6b0","route":"/auth/msr-swipe"}
{"level":"info","time":1766888977329,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/msr-swipe","statusCode":400,"durationMs":2,"requestId":"a4920b21-98b6-4679-820f-0b316c9652b8","route":"/auth/msr-swipe"}
{"level":"info","time":1766888977333,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/msr-swipe","statusCode":400,"durationMs":2,"requestId":"b52f1979-b2f1-4035-a0fc-afb206b0fe94","route":"/auth/msr-swipe"}
{"level":"info","time":1766888977421,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":87,"requestId":"0df67b6a-d726-4c04-9849-2c78da3b2819","route":"/auth/login"}
{"level":"info","time":1766888977430,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/me","statusCode":200,"durationMs":7,"requestId":"9c739f2d-66dc-49f5-a067-f0e4bb9458ec","orgId":"00000000-0000-4000-8000-000000000001","route":"/me"}
{"level":"info","time":1766888977439,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/me","statusCode":401,"durationMs":1,"requestId":"e49f5e11-0ff9-491f-a419-86c1c3e36aa0","route":"/me"}
{"level":"info","time":1766888977441,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/me","statusCode":401,"durationMs":0,"requestId":"1e459bea-fa4a-4675-9c81-ad830157723d","route":"/me"}
{"level":"info","time":1766888977569,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":127,"requestId":"0e2d5046-5d18-498e-99a8-c2d38f09e54d","route":"/auth/login"}
{"level":"info","time":1766888977581,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/devices/register","statusCode":201,"durationMs":9,"requestId":"c28cabf8-ec9f-4bb7-b9e3-4ad587886ec2","orgId":"00000000-0000-4000-8000-000000000001","route":"/devices/register"}
{"level":"info","time":1766888977584,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/devices/register","statusCode":401,"durationMs":0,"requestId":"7ffe2396-aa5f-40cb-8bcc-6d8dcf755d98","route":"/devices/register"}
{"level":"info","time":1766888978303,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":108,"requestId":"dfe1d061-038a-413f-a41c-9e1825d2edfd","route":"/auth/login"}
{"level":"info","time":1766888978406,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":101,"requestId":"ea98f7d3-4ee9-40ca-a880-d703cab28865","route":"/auth/login"}
{"level":"info","time":1766888978414,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/menu/items","statusCode":400,"durationMs":7,"requestId":"d5d54222-8237-4641-a699-2e3788ae2408","orgId":"00000000-0000-4000-8000-000000000001","route":"/menu/items"}
{"level":"info","time":1766888983864,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/health","statusCode":404,"durationMs":5,"requestId":"1f33018e-8094-498c-8c2a-60c7d70eaeca"}
{"level":"info","time":1766888983871,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/health","statusCode":404,"durationMs":4,"requestId":"bdbc8485-6d0b-465a-94bb-6203c9c9aae7"}
{"level":"info","time":1766888983881,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":6,"requestId":"1a860042-40fe-4503-9b50-6f318c58c98c","route":"/auth/login"}
{"level":"info","time":1766888983883,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/health","statusCode":404,"durationMs":0,"requestId":"f9f7c225-dbf3-4fc9-aa37-3531907e61fb"}
 ELIFECYCLE  Command failed.
