
> @chefcloud/api@1.0.0-rc.1 test:e2e /workspaces/chefcloud/services/api
> jest --config ./test/jest-e2e.json "--runInBand" "--json" "--outputFile=.e2e-results-full.json"

✓ E2E environment loaded
  DATABASE_URL: postgresql://postgres:***@localhost:5432/chefcloud_test
FAIL test/sse-security.e2e-spec.ts
  ● SSE /stream/kpis Security (E26) › Authentication › should return 401 when no token provided

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Authentication › should return 401 with invalid token

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Authorization › should return 403 for L1 (Waiter) role

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Authorization › should allow L4 (Manager) role

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Authorization › should allow L5 (Owner) role

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › SSE Headers › should set correct SSE headers

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Event Emission › should emit at least one KPIs event with valid token

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Org-Scope Isolation › should only stream data for authenticated user's org

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Rate Limiting › should return 429 after exceeding rate limit

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Rate Limiting › should block concurrent connections beyond limit

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Connection Cleanup › should clean up resources on disconnect

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › CORS › should respect CORS allowlist

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)


  ● Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'delete')

      72 |     await prisma.user.deleteMany({ where: { orgId } });
      73 |     await prisma.branch.deleteMany({ where: { orgId } });
    > 74 |     await prisma.organization.delete({ where: { id: orgId } });
         |                               ^
      75 |     await app.close();
      76 |   });
      77 |

      at Object.<anonymous> (sse-security.e2e-spec.ts:74:31)

FAIL test/webhook-security.e2e-spec.ts
  ● Webhook Security E2E (E24) › Authentication › should reject webhook without signature header

    TypeError: request is not a function

      70 |   describe('Authentication', () => {
      71 |     it('should reject webhook without signature header', async () => {
    > 72 |       const response = await request(app.getHttpServer())
         |                              ^
      73 |         .post('/webhooks/billing')
      74 |         .set('Content-Type', 'application/json')
      75 |         .set('X-Ts', Date.now().toString())

      at Object.<anonymous> (webhook-security.e2e-spec.ts:72:30)

  ● Webhook Security E2E (E24) › Authentication › should reject webhook without timestamp header

    TypeError: request is not a function

      82 |
      83 |     it('should reject webhook without timestamp header', async () => {
    > 84 |       const response = await request(app.getHttpServer())
         |                              ^
      85 |         .post('/webhooks/billing')
      86 |         .set('Content-Type', 'application/json')
      87 |         .set('X-Sig', 'some-signature')

      at Object.<anonymous> (webhook-security.e2e-spec.ts:84:30)

  ● Webhook Security E2E (E24) › Authentication › should reject webhook without request ID header

    TypeError: request is not a function

      93 |
      94 |     it('should reject webhook without request ID header', async () => {
    > 95 |       const response = await request(app.getHttpServer())
         |                              ^
      96 |         .post('/webhooks/billing')
      97 |         .set('Content-Type', 'application/json')
      98 |         .set('X-Sig', 'some-signature')

      at Object.<anonymous> (webhook-security.e2e-spec.ts:95:30)

  ● Webhook Security E2E (E24) › Authentication › should reject webhook with invalid signature

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:107:30)

  ● Webhook Security E2E (E24) › Authentication › should accept webhook with valid signature

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:117:30)

  ● Webhook Security E2E (E24) › Timestamp validation › should reject webhook with stale timestamp (>5 minutes old)

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:132:30)

  ● Webhook Security E2E (E24) › Timestamp validation › should reject webhook with future timestamp (>5 minutes ahead)

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:148:30)

  ● Webhook Security E2E (E24) › Timestamp validation › should accept webhook with timestamp at edge of window (4 minutes old)

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:162:30)

  ● Webhook Security E2E (E24) › Timestamp validation › should reject webhook with invalid timestamp format

    TypeError: request is not a function

      169 |
      170 |     it('should reject webhook with invalid timestamp format', async () => {
    > 171 |       const response = await request(app.getHttpServer())
          |                              ^
      172 |         .post('/webhooks/billing')
      173 |         .set('Content-Type', 'application/json')
      174 |         .set('X-Sig', 'some-signature')

      at Object.<anonymous> (webhook-security.e2e-spec.ts:171:30)

  ● Webhook Security E2E (E24) › Replay protection › should reject duplicate request ID (replay attack)

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:190:31)

  ● Webhook Security E2E (E24) › Replay protection › should allow same payload with different request IDs

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:206:31)

  ● Webhook Security E2E (E24) › Body integrity › should reject webhook with tampered body

    TypeError: request is not a function

      221 |
      222 |       // Send tampered payload with signature from original
    > 223 |       const response = await request(app.getHttpServer())
          |                              ^
      224 |         .post('/webhooks/billing')
      225 |         .set('Content-Type', 'application/json')
      226 |         .set('X-Sig', signature)

      at Object.<anonymous> (webhook-security.e2e-spec.ts:223:30)

  ● Webhook Security E2E (E24) › Body integrity › should handle empty body correctly

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:237:30)

  ● Webhook Security E2E (E24) › Body integrity › should handle complex nested JSON

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:257:30)

  ● Webhook Security E2E (E24) › Multiple webhook endpoints › should protect MTN webhook endpoint

    TypeError: request is not a function

      263 |     it('should protect MTN webhook endpoint', async () => {
      264 |       const payload = { transactionId: 'mtn-123', status: 'completed' };
    > 265 |       const response = await request(app.getHttpServer())
          |                              ^
      266 |         .post('/webhooks/mtn')
      267 |         .set('Content-Type', 'application/json')
      268 |         .send(payload);

      at Object.<anonymous> (webhook-security.e2e-spec.ts:265:30)

  ● Webhook Security E2E (E24) › Multiple webhook endpoints › should protect Airtel webhook endpoint

    TypeError: request is not a function

      274 |     it('should protect Airtel webhook endpoint', async () => {
      275 |       const payload = { transactionId: 'airtel-123', status: 'completed' };
    > 276 |       const response = await request(app.getHttpServer())
          |                              ^
      277 |         .post('/webhooks/airtel')
      278 |         .set('Content-Type', 'application/json')
      279 |         .send(payload);

      at Object.<anonymous> (webhook-security.e2e-spec.ts:276:30)

  ● Webhook Security E2E (E24) › Response format › should return proper success response

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:289:30)

  ● Webhook Security E2E (E24) › Response format › should return proper error response for auth failure

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:302:30)

  ● Webhook Security E2E (E24) › Performance and load › should handle multiple concurrent valid webhooks

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at webhook-security.e2e-spec.ts:314:9
          at Function.from (<anonymous>)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:313:30)

FAIL test/b3-multi-tenant.e2e-spec.ts
  ● Console

    console.log
      prisma:error 
      Invalid `prisma.session.create()` invocation in
      /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37
      
        61   },
        62 });
        63 
      → 64 sessionA = await prisma.session.create({
             data: {
               userId: "cmjodas8e000hmraprswbxh0k",
               token: "token-a-1766844000880",
               expiresAt: new Date("2025-12-28T14:00:00.880Z"),
           +   user: {
           +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
           +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
           +     connect: UserWhereUniqueInput
           +   }
             }
           })
      
      Argument `user` is missing.

      at Object.mc (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:21:432)

  ● Multi-Tenant Isolation (E2E) › Cross-org menu item access › should deny user A access to org B menu items with wrong x-org-id

    PrismaClientValidationError: 
    Invalid `prisma.session.create()` invocation in
    /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37

      61   },
      62 });
      63 
    → 64 sessionA = await prisma.session.create({
           data: {
             userId: "cmjodas8e000hmraprswbxh0k",
             token: "token-a-1766844000880",
             expiresAt: new Date("2025-12-28T14:00:00.880Z"),
         +   user: {
         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
         +     connect: UserWhereUniqueInput
         +   }
           }
         })

    Argument `user` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:64:16)

  ● Multi-Tenant Isolation (E2E) › Cross-org menu item access › should return 404 when user A requests org B resource with correct x-org-id

    PrismaClientValidationError: 
    Invalid `prisma.session.create()` invocation in
    /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37

      61   },
      62 });
      63 
    → 64 sessionA = await prisma.session.create({
           data: {
             userId: "cmjodas8e000hmraprswbxh0k",
             token: "token-a-1766844000880",
             expiresAt: new Date("2025-12-28T14:00:00.880Z"),
         +   user: {
         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
         +     connect: UserWhereUniqueInput
         +   }
           }
         })

    Argument `user` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:64:16)

  ● Multi-Tenant Isolation (E2E) › Cross-org menu item access › should allow user A to access org A menu items

    PrismaClientValidationError: 
    Invalid `prisma.session.create()` invocation in
    /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37

      61   },
      62 });
      63 
    → 64 sessionA = await prisma.session.create({
           data: {
             userId: "cmjodas8e000hmraprswbxh0k",
             token: "token-a-1766844000880",
             expiresAt: new Date("2025-12-28T14:00:00.880Z"),
         +   user: {
         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
         +     connect: UserWhereUniqueInput
         +   }
           }
         })

    Argument `user` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:64:16)

  ● Multi-Tenant Isolation (E2E) › Cross-org menu item access › should require x-org-id header

    PrismaClientValidationError: 
    Invalid `prisma.session.create()` invocation in
    /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37

      61   },
      62 });
      63 
    → 64 sessionA = await prisma.session.create({
           data: {
             userId: "cmjodas8e000hmraprswbxh0k",
             token: "token-a-1766844000880",
             expiresAt: new Date("2025-12-28T14:00:00.880Z"),
         +   user: {
         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
         +     connect: UserWhereUniqueInput
         +   }
           }
         })

    Argument `user` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:64:16)

  ● Multi-Tenant Isolation (E2E) › Cross-org data isolation › should not leak org B data when user A lists menu items

    PrismaClientValidationError: 
    Invalid `prisma.session.create()` invocation in
    /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37

      61   },
      62 });
      63 
    → 64 sessionA = await prisma.session.create({
           data: {
             userId: "cmjodas8e000hmraprswbxh0k",
             token: "token-a-1766844000880",
             expiresAt: new Date("2025-12-28T14:00:00.880Z"),
         +   user: {
         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
         +     connect: UserWhereUniqueInput
         +   }
           }
         })

    Argument `user` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:64:16)

  ● Multi-Tenant Isolation (E2E) › Cross-org data isolation › should isolate org B user from org A data

    PrismaClientValidationError: 
    Invalid `prisma.session.create()` invocation in
    /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37

      61   },
      62 });
      63 
    → 64 sessionA = await prisma.session.create({
           data: {
             userId: "cmjodas8e000hmraprswbxh0k",
             token: "token-a-1766844000880",
             expiresAt: new Date("2025-12-28T14:00:00.880Z"),
         +   user: {
         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
         +     connect: UserWhereUniqueInput
         +   }
           }
         })

    Argument `user` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:64:16)


  ● Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'id')

      152 |     // Cleanup in reverse order
      153 |     await prisma.client.menuItem.deleteMany({ where: { branchId: branchA.id } });
    > 154 |     await prisma.client.menuItem.deleteMany({ where: { branchId: branchB.id } });
          |                                                                          ^
      155 |     await prisma.category.deleteMany({ where: { branchId: branchA.id } });
      156 |     await prisma.category.deleteMany({ where: { branchId: branchB.id } });
      157 |     await prisma.session.deleteMany({ where: { userId: userA.id } });

      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:154:74)

FAIL test/e23-platform-access.e2e-spec.ts
  ● E23 Platform Access (e2e) › Public routes bypass › should allow unauthenticated access to /health

    expected 200 "OK", got 404 "Not Found"

      27 |         .get('/health')
      28 |         .set('X-Client-Platform', 'mobile')
    > 29 |         .expect(200);
         |          ^
      30 |     });
      31 |
      32 |     it('should allow unauthenticated access to /health from any platform', async () => {

      at Object.<anonymous> (e23-platform-access.e2e-spec.ts:29:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● E23 Platform Access (e2e) › Public routes bypass › should allow unauthenticated access to /health from any platform

    expected 200 "OK", got 404 "Not Found"

      34 |         .get('/health')
      35 |         .set('X-Client-Platform', 'desktop')
    > 36 |         .expect(200);
         |          ^
      37 |
      38 |       await request(app.getHttpServer()).get('/health').set('X-Client-Platform', 'web').expect(200);
      39 |     });

      at Object.<anonymous> (e23-platform-access.e2e-spec.ts:36:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● E23 Platform Access (e2e) › Platform header handling › should work without X-Client-Platform header (defaults to web)

    expected 200 "OK", got 404 "Not Found"

      53 |         .get('/health')
      54 |         // No X-Client-Platform header
    > 55 |         .expect(200);
         |          ^
      56 |     });
      57 |   });
      58 | });

      at Object.<anonymous> (e23-platform-access.e2e-spec.ts:55:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

{"level":"info","time":1766844001827,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/health","statusCode":404,"durationMs":7,"requestId":"094e1501-2992-4917-8b71-ac2d0b589938"}
{"level":"info","time":1766844001836,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/health","statusCode":404,"durationMs":4,"requestId":"a6521b83-385b-4c19-925f-85d0cd035329"}
{"level":"info","time":1766844001858,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":12,"requestId":"3f465750-7fd4-4daa-8636-dc884eda86ff","route":"/auth/login"}
{"level":"info","time":1766844001861,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/health","statusCode":404,"durationMs":1,"requestId":"582f9225-042e-41f7-be79-6d42158e3afb"}
FAIL test/auth.e2e-spec.ts
  ● Auth (e2e) › POST /auth/login › should login with valid credentials

    expected 200 "OK", got 401 "Unauthorized"

      40 |           password: 'Owner#123',
      41 |         })
    > 42 |         .expect(200);
         |          ^
      43 |
      44 |       expect(response.body).toHaveProperty('access_token');
      45 |       expect(response.body).toHaveProperty('user');

      at Object.<anonymous> (auth.e2e-spec.ts:42:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Auth (e2e) › POST /auth/pin-login › should login with valid employee code and PIN

    expected 200 "OK", got 401 "Unauthorized"

      91 |           branchId: await getMainBranchId(),
      92 |         })
    > 93 |         .expect(200);
         |          ^
      94 |
      95 |       expect(response.body).toHaveProperty('access_token');
      96 |       expect(response.body.user).toMatchObject({

      at Object.<anonymous> (auth.e2e-spec.ts:93:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Auth (e2e) › POST /auth/msr-swipe › should login with valid badge ID

    expected 200 "OK", got 400 "Bad Request"

      142 |           badgeId: 'CASHIER001',
      143 |         })
    > 144 |         .expect(200);
          |          ^
      145 |
      146 |       expect(response.body).toHaveProperty('access_token');
      147 |       expect(response.body.user).toMatchObject({

      at Object.<anonymous> (auth.e2e-spec.ts:144:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Auth (e2e) › POST /auth/msr-swipe › should reject unknown badge ID

    expected 404 "Not Found", got 400 "Bad Request"

      158 |           badgeId: 'UNKNOWN_BADGE',
      159 |         })
    > 160 |         .expect(404);
          |          ^
      161 |     });
      162 |
      163 |     it('should login with branch verification', async () => {

      at Object.<anonymous> (auth.e2e-spec.ts:160:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Auth (e2e) › POST /auth/msr-swipe › should login with branch verification

    expected 200 "OK", got 400 "Bad Request"

      168 |           branchId: await getMainBranchId(),
      169 |         })
    > 170 |         .expect(200);
          |          ^
      171 |
      172 |       expect(response.body).toHaveProperty('access_token');
      173 |     });

      at Object.<anonymous> (auth.e2e-spec.ts:170:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Auth (e2e) › GET /me › should return user profile with valid token

    expected 200 "OK", got 401 "Unauthorized"

      190 |         .get('/me')
      191 |         .set('Authorization', `Bearer ${accessToken}`)
    > 192 |         .expect(200);
          |          ^
      193 |
      194 |       expect(response.body).toMatchObject({
      195 |         email: 'owner@demo.local',

      at Object.<anonymous> (auth.e2e-spec.ts:192:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Auth (e2e) › POST /devices/register › should allow L4 manager to register a device

    expected 201 "Created", got 401 "Unauthorized"

      235 |           branchId: await getMainBranchId(),
      236 |         })
    > 237 |         .expect(201);
          |          ^
      238 |
      239 |       expect(response.body).toHaveProperty('id');
      240 |       expect(response.body).toHaveProperty('deviceKey');

      at Object.<anonymous> (auth.e2e-spec.ts:237:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

{"level":"info","time":1766844002376,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":9,"requestId":"198c5b9e-7db9-4078-9baf-18465d0fc250","route":"/auth/login"}
{"level":"info","time":1766844002388,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":3,"requestId":"299d15ca-82ba-41ee-aa87-4a9bed7d7808","route":"/auth/login"}
{"level":"info","time":1766844002393,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":2,"requestId":"9880db1c-77bc-4799-8d81-cda2d1ec7e71","route":"/auth/login"}
{"level":"info","time":1766844002398,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":400,"durationMs":1,"requestId":"fc02ba03-102f-4e96-9f95-19eb48c2a9ca","route":"/auth/login"}
{"level":"info","time":1766844002404,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/pin-login","statusCode":401,"durationMs":2,"requestId":"4d1533f1-b30f-40ae-9fb2-b0eb79bd887a","route":"/auth/pin-login"}
{"level":"info","time":1766844002411,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/pin-login","statusCode":401,"durationMs":3,"requestId":"193ebe7b-ef5f-4c53-a6bd-27a425fc44eb","route":"/auth/pin-login"}
{"level":"info","time":1766844002415,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/pin-login","statusCode":401,"durationMs":2,"requestId":"3ad0d705-b439-4632-8cfe-3630d1767197","route":"/auth/pin-login"}
{"level":"info","time":1766844002419,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/pin-login","statusCode":401,"durationMs":2,"requestId":"08f6408a-f5f9-4d29-b128-a6197bfd6081","route":"/auth/pin-login"}
{"level":"info","time":1766844002424,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/msr-swipe","statusCode":400,"durationMs":3,"requestId":"fbcff0a5-371b-4026-893b-e32671bd0b43","route":"/auth/msr-swipe"}
{"level":"info","time":1766844002429,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/msr-swipe","statusCode":400,"durationMs":3,"requestId":"6e3a7f95-80b0-46e7-b00a-3eda7f67b795","route":"/auth/msr-swipe"}
{"level":"info","time":1766844002433,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/msr-swipe","statusCode":400,"durationMs":1,"requestId":"1ba12c62-1943-4090-b65e-f6f003876f29","route":"/auth/msr-swipe"}
{"level":"info","time":1766844002438,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":2,"requestId":"b9342555-7e0f-416c-9cdd-86be5ed3fc75","route":"/auth/login"}
{"level":"info","time":1766844002441,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/me","statusCode":401,"durationMs":1,"requestId":"46fff4c7-f813-440a-a49d-38c14096ab3c","route":"/me"}
{"level":"info","time":1766844002444,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/me","statusCode":401,"durationMs":1,"requestId":"1931b211-c864-46a9-8cd4-9aeef732d425","route":"/me"}
{"level":"info","time":1766844002446,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/me","statusCode":401,"durationMs":1,"requestId":"45ef6b16-3748-4e3f-92cb-8c38dc1418b9","route":"/me"}
{"level":"info","time":1766844002451,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":3,"requestId":"a320df91-8622-4948-bbd0-8e0478c79107","route":"/auth/login"}
{"level":"info","time":1766844002454,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/devices/register","statusCode":401,"durationMs":0,"requestId":"79c9c8d3-d700-487b-8e62-99722e043b99","route":"/devices/register"}
{"level":"info","time":1766844002457,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/devices/register","statusCode":401,"durationMs":1,"requestId":"4416fc01-90ee-464a-88dd-4017deeb4884","route":"/devices/register"}
FAIL test/plan-rate-limit.e2e-spec.ts
  ● Console

    console.log
      prisma:error 
      Invalid `prisma.user.upsert()` invocation in
      /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40
      
        157 });
        158 
        159 // Create test users
      → 160 const freeUser = await prisma.user.upsert({
              where: {
                email: "rate-limit-free@test.local"
              },
              update: {},
              create: {
                email: "rate-limit-free@test.local",
                role: "L5",
                orgId: "cmjodau0u000nmrapi3rj6var",
            +   firstName: String
              }
            })
      
      Argument `firstName` is missing.

      at Object.mc (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:21:432)

  ● Plan-Aware Rate Limiting E2E › POST /billing/plan/change › should enforce free tier rate limit (10/min)

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

  ● Plan-Aware Rate Limiting E2E › POST /billing/plan/change › should allow pro tier higher limits (60/min)

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

  ● Plan-Aware Rate Limiting E2E › POST /billing/plan/change › should allow enterprise tier highest limits (240/min)

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

  ● Plan-Aware Rate Limiting E2E › POST /billing/cancel › should apply rate limiting to cancel endpoint

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

  ● Plan-Aware Rate Limiting E2E › Rate limit headers › should include Retry-After header in 429 responses

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

  ● Plan-Aware Rate Limiting E2E › Authentication requirement › should reject requests without authentication

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

  ● Plan-Aware Rate Limiting E2E › Metrics › should emit rate limit hit metrics

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

FAIL test/m7-service-providers.e2e-spec.ts
  ● Console

    console.log
      prisma:error 
      Invalid `prisma.client.org.create()` invocation in
      /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41
      
        51 
        52 async function setupTestData() {
        53   // Create test org
      → 54   const org = await prisma.client.org.create({
               data: {
                 name: "M7 Test Restaurant",
                 email: "m7test@example.com",
             +   slug: String
               }
             })
      
      Argument `slug` is missing.

      at Object.mc (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:21:432)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 1. Service Providers Management › should create a service provider

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 1. Service Providers Management › should create a monthly contract

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 2. Payment Reminders › should generate reminders for active contracts

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 2. Payment Reminders › should list reminders for a branch

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 2. Payment Reminders › should get reminder summary

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 2. Payment Reminders › should mark reminder as paid

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 3. Ops Budget Management › should set a budget for a category

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 3. Ops Budget Management › should compute budget actuals

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 3. Ops Budget Management › should get budget summary

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 3. Ops Budget Management › should get franchise budget summary

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 4. Cost-Cutting Insights › should generate cost insights for a branch

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 4. Cost-Cutting Insights › should generate franchise-wide insights

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 5. Integration with Owner Digests › should include M7 data in franchise digest

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 6. Validation & Error Handling › should validate dueDay for monthly contracts

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 6. Validation & Error Handling › should prevent deleting provider with active contracts

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 6. Validation & Error Handling › should require budget parameters

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)


  ● Test suite failed to run

    TypeError: prisma.$disconnect is not a function

      46 |     // Cleanup
      47 |     await cleanupTestData();
    > 48 |     await prisma.$disconnect();
         |                  ^
      49 |     await app.close();
      50 |   });
      51 |

      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:48:18)

FAIL test/msr-card.e2e-spec.ts
  ● MSR Card Management (e2e) › POST /auth/msr/assign › should assign MSR card to employee

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › POST /auth/msr/assign › should reject duplicate card assignment to same employee

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › POST /auth/msr/assign › should reject unauthorized access (no token)

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › POST /auth/msr-swipe › should authenticate with valid MSR card

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › POST /auth/msr-swipe › should reject invalid badge ID

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › GET /auth/msr/cards › should list MSR cards for organization

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › GET /auth/msr/cards › should reject unauthorized access

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › POST /auth/msr/revoke › should revoke MSR card

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › POST /auth/msr/revoke › should reject unauthorized access

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

{"level":"info","time":1766844004612,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":6,"requestId":"2ac544a4-7e36-4de9-b3ed-430522cf5c41","route":"/auth/login"}
PASS test/smoke/di.e2e-spec.ts
PASS test/smoke/minimal-boot.e2e-spec.ts
  ● Console

    console.log
      Starting module compilation...

      at Object.<anonymous> (smoke/minimal-boot.e2e-spec.ts:16:13)

    console.log
      Module compiled in 61ms

      at Object.<anonymous> (smoke/minimal-boot.e2e-spec.ts:27:15)

    console.log
      App initialized in 209ms total

      at Object.<anonymous> (smoke/minimal-boot.e2e-spec.ts:32:15)

[BOOTSTRAP] Starting ChefCloud API {
  NODE_ENV: 'test',
  PORT: '4050',
  DATABASE_URL: '***configured***',
  JWT_SECRET: '***configured***'
}
[BOOTSTRAP] Creating NestJS application...
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +45ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mEventsModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[CacheService] [39m[32mCacheService initialized with Redis fallback to memory[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[SseRateLimiterGuard] [39m[32mSSE Rate Limiter initialized: 60/min per user/IP, max 2 concurrent/user[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mThrottlerModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mThrottlerModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMetaModule dependencies initialized[39m[38;5;3m +2ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCurrencyModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mTaxModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mObservabilityModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCommonModule dependencies initialized[39m[38;5;3m +2ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCacheModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[SseRateLimiterGuard] [39m[32mSSE Rate Limiter initialized: 60/min per user/IP, max 2 concurrent/user[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[OwnerService] [39m[32m[SMTP] Configured: localhost:1025 (secure=false)[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDemoModule dependencies initialized[39m[38;5;3m +3ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PaymentsService] [39m[32mPayment adapters running in SANDBOX mode[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMeModule dependencies initialized[39m[38;5;3m +2ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mSettingsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDeviceModule dependencies initialized[39m[38;5;3m +2ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMenuModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mFloorModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPromotionsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAccountingModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mShiftTemplatesModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mShiftSchedulesModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mShiftAssignmentsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDashboardsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mFeedbackModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mFinanceModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mSupportModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mThresholdsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAccessModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDocumentsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mKpisModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mStreamModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mWorkforceModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mEfrisModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mReservationsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mWebAuthnModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mKdsModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHardwareModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOpsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAnalyticsModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBillingModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBookingsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBadgesModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCashModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAntiTheftModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mReportsModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPurchasingModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAlertsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOwnerModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mStaffModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mInventoryModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mFranchiseModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPosModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mShiftsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +1ms[39m
[BOOTSTRAP] NestJS application created
[BOOTSTRAP] CORS enabled for 1 origin(s): http://localhost:3000
[BOOTSTRAP] Binding to 0.0.0.0:4050...
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +32ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +2ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mWebhooksController {/webhooks}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webhooks/mtn, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webhooks/airtel, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webhooks/billing, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mMetricsController {/}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/metrics, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/healthz, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/readiness, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/auth}:[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/login, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/pin-login, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/msr-swipe, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/enroll-badge, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/logout, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/logout-all, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/sessions, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/msr/assign, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/msr/revoke, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/msr/cards, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mMeController {/me}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/me, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDeviceController {/devices}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/devices/register, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mMenuController {/menu}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/menu/items, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/menu/items, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/menu/items/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/menu/modifier-groups, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/menu/items/:id/groups/:groupId, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mFloorController {/floor}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/floor, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/floor/availability, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mTableController {/tables}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/tables/:id, PATCH} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPosController {/pos/orders}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id/send-to-kitchen, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id/modify, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id/void, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id/close, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id/discount, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id/post-close-void, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mEfrisController {/fiscal}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/fiscal/push/:orderId, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/fiscal/retry/:orderId, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mInventoryController {/inventory}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/items, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/items, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/items/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/levels, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/adjustments, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mRecipesController {/inventory/recipes}:[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/recipes/:menuItemId, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/recipes/:menuItemId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mWastageController {/inventory/wastage}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/wastage, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCountsController {/inventory/counts}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/counts/begin, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/counts/:id/submit, PATCH} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/counts/current, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mReconciliationController {/inventory/reconciliation}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/reconciliation, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/reconciliation/summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mLowStockAlertsController {/inventory/low-stock}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/low-stock/alerts, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/low-stock/config, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/low-stock/config, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/low-stock/config/:configId, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mTemplatesController {/inventory/templates}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/templates, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/templates/:packId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/templates/apply, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mImportController {/inventory/import}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/import, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/import/template, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mKpisController {/stream/kpis}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/stream/kpis, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPromotionsController {/promotions}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/promotions, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/promotions, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/promotions/:id/approve, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/promotions/:id/toggle, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAccountingController {/accounting}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/vendors, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/vendors, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/vendor-bills, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/vendor-bills/:billId/open, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/vendor-payments, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/ap/aging, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/ar/aging, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/trial-balance, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/pnl, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/balance-sheet, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPeriodsController {/accounting/periods}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/periods, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/periods/:id/lock, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/periods, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/periods/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBankRecController {/accounting/bank}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/bank/accounts, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/bank/accounts, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/bank/:accountId/import-csv, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/bank/match, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/bank/:accountId/auto-match, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/bank/unreconciled, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mKdsController {/kds}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/kds/queue, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/kds/sla-config/:station, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/kds/sla-config/:station, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/kds/tickets/:id/mark-ready, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/kds/tickets/:id/recall, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mShiftsController {/shifts}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shifts/open, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shifts/:id/close, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shifts/current, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shifts/history, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mShiftTemplatesController {/shift-templates}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-templates, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-templates, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-templates/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-templates/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-templates/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mShiftSchedulesController {/shift-schedules}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-schedules, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-schedules/by-branch/:branchId, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-schedules/current/:branchId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-schedules/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-schedules/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mShiftAssignmentsController {/shift-assignments}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-assignments, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-assignments/by-schedule/:scheduleId, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-assignments/by-user/:userId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-assignments/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mReportsController {/reports}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reports/x, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reports/z/:shiftId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reports/subscriptions, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reports/subscriptions, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reports/subscriptions/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reports/subscriptions/:id, DELETE} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDashboardsController {/dash}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/dash/leaderboards/voids, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/dash/leaderboards/discounts, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/dash/no-drinks-rate, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/dash/late-void-heatmap, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/dash/anomalies/recent, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mFranchiseController {/franchise}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/analytics/overview, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/analytics/rankings, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/overview, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/rankings, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/budgets, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/budgets, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/forecast/items, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/procurement/suggest, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/procurement/generate-drafts, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/procurement/drafts, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/procurement/approve, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/branch-metrics, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/budgets, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/budgets, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/budgets/variance, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/forecast, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/export/overview.csv, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/export/rankings.csv, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/export/budgets.csv, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/export/budgets-variance.csv, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mStaffController {/staff}:[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/waiters/metrics, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/waiters/rankings, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/waiters/top-performers, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/waiters/risk-staff, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mStaffInsightsController {/staff/insights}:[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/insights/rankings, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/insights/employee-of-:period, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/insights/awards, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/insights/awards, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/insights/me, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPromotionInsightsController {/staff/promotion-suggestions}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/promotion-suggestions/preview, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/promotion-suggestions/generate, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/promotion-suggestions, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/promotion-suggestions/:id, PATCH} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAntiTheftController {/anti-theft}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/anti-theft/summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mFeedbackController {/feedback}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback/public, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback/:id, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback/analytics/nps-summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback/analytics/breakdown, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback/analytics/top-comments, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAnalyticsController {/analytics}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/daily, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/top-items, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/staff/voids, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/staff/discounts, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/orders/no-drinks, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/late-voids, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/anomalies, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/daily-metrics, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/risk-summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/risk-events, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/financial-summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/branch-ranking, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/cogs-timeseries, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/stock-valuation, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/wastage-summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBudgetController {/finance/budgets}:[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets/summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets/franchise, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets/update-actuals, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets/insights, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets/insights/franchise, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets/reminders/summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPurchasingController {/purchasing}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/purchasing/po, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/purchasing/po/:id/place, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/purchasing/po/:id/receive, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mWebAuthnController {/webauthn}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webauthn/registration/options, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webauthn/registration/verify, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webauthn/authentication/options, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webauthn/authentication/verify, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPaymentsController {/payments}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payments/intents, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payments/intents/:intentId/cancel, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAlertsController {/alerts}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/alerts/channels, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/alerts/schedules, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/alerts/run-now/:id, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mReservationsController {/reservations}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reservations, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reservations, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reservations/:id/confirm, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reservations/:id/cancel, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reservations/:id/seat, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reservations/summary, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOpsController {/ops}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/health, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/ready, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/metrics, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/diag/snapshot, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/apikeys, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/apikeys, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/apikeys/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/flags, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/flags, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/flags/:key, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/flags/:key/toggle, PATCH} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/flags/:key/kill, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/flags/:key/audit, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/maintenance, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/maintenance/active, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/maintenance, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mSupportController {/support}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/support/sessions, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/support/ingest, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/support/sessions/events, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mSpoutController {/hardware/spout}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hardware/spout/ingest, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hardware/spout/devices, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hardware/spout/calibrate, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hardware/spout/events, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOwnerController {/owner}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/owner/overview, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/owner/digest, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/owner/digest/:id, PATCH} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/owner/digest/run-now/:id, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mStreamController {/stream}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/stream/spout, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/stream/kds, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mThresholdsController {/thresholds}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/thresholds, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/thresholds, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAccessController {/access}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/access/matrix, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/access/matrix, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/access/matrix/reset-defaults, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBillingController {/billing}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/billing/subscription, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/billing/plan/change, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/billing/cancel, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBadgesController {/badges}:[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/badges/register, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/badges/assign, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/badges/revoke, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/badges/report-lost, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/badges/mark-returned, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/badges, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCashController {/cash}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/cash/till/open, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/cash/till/:id/close, PATCH} route[39m[38;5;3m +2ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/cash/movements, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/cash/till/current, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/cash/till/sessions, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mSettingsController {/settings}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/currency, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/currency, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/tax-matrix, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/tax-matrix, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/rounding, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/rounding, PUT} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/exchange-rate, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBookingsController {/bookings}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/events, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/events/:id/publish, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/events/:id/unpublish, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/events/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/:id/confirm, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/:id/cancel, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPublicBookingsController {/public/bookings}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/public/bookings/events/:slug, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/public/bookings, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/public/bookings/:id/pay, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/public/bookings/:id/status, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCheckinController {/events}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/events/checkin, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/events/booking/:id/ticket, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mWorkforceController {/workforce}:[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/leave, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/leave/:id/approve, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/roster, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/swaps, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/swaps/:id/approve, PATCH} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/clock/in, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/clock/out, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/time-entries, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/payroll/export, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/absence-violations, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPayrollController {/payroll}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payroll/runs, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payroll/runs, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payroll/runs/:id/approve, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payroll/runs/:id/post, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payroll/runs/:id/slips, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payroll/components, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mVersionController {/}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/version, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDocumentsController {/documents}:[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/:id/download, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/links/purchase-orders/:id, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/links/pay-slips/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/links/reservations/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/links/service-providers/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/links/employees/:id, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RedisService] [39m[32mRedis connected to redis://localhost:6379[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RedisService] [39m[32mRedis connected to redis://localhost:6379[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RedisService] [39m[32mRedis connected to redis://localhost:6379[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RedisService] [39m[32mRedis connected to redis://localhost:6379[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RedisService] [39m[32mRedis client ready[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RedisService] [39m[32mRedis client ready[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RedisService] [39m[32mRedis client ready[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[RedisService] [39m[32mRedis client ready[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 187469  - [39m12/27/2025, 2:00:07 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +5ms[39m
{"level":"info","time":1766844007905,"service":"chefcloud-api","env":"test","msg":"🚀 ChefCloud API running on http://0.0.0.0:4050"}
[BOOTSTRAP] Server started successfully
{"level":"info","time":1766844007905,"service":"chefcloud-api","env":"test","msg":"CORS allowlist: http://localhost:3000"}
{"level":30,"time":1766844007947,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"81f45400-ee39-4309-b2d8-5671e9ad7753","method":"GET","url":"/readiness","body":{}},"requestId":"81f45400-ee39-4309-b2d8-5671e9ad7753","msg":"REQ GET /readiness"}
{"level":"info","time":1766844007953,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/readiness","statusCode":200,"durationMs":6,"requestId":"fefc6cb7-de26-481f-b196-5c1098564ec4","route":"/readiness"}
{"level":30,"time":1766844007953,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"81f45400-ee39-4309-b2d8-5671e9ad7753","method":"GET","url":"/readiness","body":{}},"requestId":"81f45400-ee39-4309-b2d8-5671e9ad7753","requestId":"fefc6cb7-de26-481f-b196-5c1098564ec4","res":{"statusCode":200},"responseTime":6,"msg":"GET /readiness -> 200"}
{"level":30,"time":1766844007960,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ed99d6fc-3e70-482f-973f-a2898a968236","method":"GET","url":"/readiness","body":{}},"requestId":"ed99d6fc-3e70-482f-973f-a2898a968236","msg":"REQ GET /readiness"}
{"level":"info","time":1766844007961,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/readiness","statusCode":200,"durationMs":1,"requestId":"8020cfe5-9fe0-4674-9790-3ec8c9b06fb9","route":"/readiness"}
{"level":30,"time":1766844007961,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ed99d6fc-3e70-482f-973f-a2898a968236","method":"GET","url":"/readiness","body":{}},"requestId":"ed99d6fc-3e70-482f-973f-a2898a968236","requestId":"8020cfe5-9fe0-4674-9790-3ec8c9b06fb9","res":{"statusCode":200},"responseTime":1,"msg":"GET /readiness -> 200"}
{"level":30,"time":1766844007999,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"d4be9054-7089-4907-b425-64c1653165fd","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d4be9054-7089-4907-b425-64c1653165fd","msg":"REQ GET /billing/subscription"}
{"level":"info","time":1766844008006,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":7,"requestId":"781983e1-e3c7-4ee0-a842-4877a888e783","route":"/billing/subscription"}
{"level":40,"time":1766844008005,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"d4be9054-7089-4907-b425-64c1653165fd","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d4be9054-7089-4907-b425-64c1653165fd","requestId":"781983e1-e3c7-4ee0-a842-4877a888e783","res":{"statusCode":401},"responseTime":6,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1766844008023,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ba5ad2fc-4f4d-43b9-b6d0-7f95d9e64a56","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ba5ad2fc-4f4d-43b9-b6d0-7f95d9e64a56","msg":"REQ GET /billing/subscription"}
{"level":"info","time":1766844008032,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":9,"requestId":"7bd4ff35-5200-40bc-8d54-a05d44bd28ce","route":"/billing/subscription"}
{"level":40,"time":1766844008032,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ba5ad2fc-4f4d-43b9-b6d0-7f95d9e64a56","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ba5ad2fc-4f4d-43b9-b6d0-7f95d9e64a56","requestId":"7bd4ff35-5200-40bc-8d54-a05d44bd28ce","res":{"statusCode":401},"responseTime":9,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1766844008034,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"db5bf538-0481-4cc5-86da-11acadba4ced","method":"GET","url":"/billing/subscription","body":{}},"requestId":"db5bf538-0481-4cc5-86da-11acadba4ced","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008035,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"db5bf538-0481-4cc5-86da-11acadba4ced","method":"GET","url":"/billing/subscription","body":{}},"requestId":"db5bf538-0481-4cc5-86da-11acadba4ced","requestId":"c3ebe552-6eee-4c96-9e22-0c18a2ee6abb","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1766844008036,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"9420b3cf-06dc-43c2-97db-869142d00dac","method":"GET","url":"/billing/subscription","body":{}},"requestId":"9420b3cf-06dc-43c2-97db-869142d00dac","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008039,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"9420b3cf-06dc-43c2-97db-869142d00dac","method":"GET","url":"/billing/subscription","body":{}},"requestId":"9420b3cf-06dc-43c2-97db-869142d00dac","requestId":"6839e48b-0a9e-4d2b-beab-c1700bfaf6cd","res":{"statusCode":401},"responseTime":3,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1766844008041,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"1b9e95a5-c133-4a06-83ee-7d06935bddab","method":"GET","url":"/billing/subscription","body":{}},"requestId":"1b9e95a5-c133-4a06-83ee-7d06935bddab","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008042,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"1b9e95a5-c133-4a06-83ee-7d06935bddab","method":"GET","url":"/billing/subscription","body":{}},"requestId":"1b9e95a5-c133-4a06-83ee-7d06935bddab","requestId":"74f9dab8-a28d-441f-9519-f7cdf7be0ed2","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1766844008045,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"45af051e-4715-4042-a6d1-806c02984ef2","method":"GET","url":"/billing/subscription","body":{}},"requestId":"45af051e-4715-4042-a6d1-806c02984ef2","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008047,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"45af051e-4715-4042-a6d1-806c02984ef2","method":"GET","url":"/billing/subscription","body":{}},"requestId":"45af051e-4715-4042-a6d1-806c02984ef2","requestId":"ae335d0c-30fe-47be-a4d6-fccd14daa8d2","res":{"statusCode":401},"responseTime":2,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1766844008047,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ada8e8a2-4338-4bf7-90bf-0b5c48164114","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ada8e8a2-4338-4bf7-90bf-0b5c48164114","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008057,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ada8e8a2-4338-4bf7-90bf-0b5c48164114","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ada8e8a2-4338-4bf7-90bf-0b5c48164114","requestId":"6d94b7c3-2580-481f-8c19-901749ab7d43","res":{"statusCode":401},"responseTime":10,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1766844008061,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"8794e172-81d9-40ba-935c-d4a49dc7310f","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8794e172-81d9-40ba-935c-d4a49dc7310f","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008065,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"8794e172-81d9-40ba-935c-d4a49dc7310f","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8794e172-81d9-40ba-935c-d4a49dc7310f","requestId":"6dc47cd4-f9ed-455d-b80c-af92ff85b6ba","res":{"statusCode":401},"responseTime":4,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1766844008066,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"8d3d8980-173d-4bbb-9bc4-976f828e7449","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8d3d8980-173d-4bbb-9bc4-976f828e7449","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008077,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"8d3d8980-173d-4bbb-9bc4-976f828e7449","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8d3d8980-173d-4bbb-9bc4-976f828e7449","requestId":"789ff786-0e0a-480e-936f-4b10d2646c01","res":{"statusCode":401},"responseTime":11,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1766844008035,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"c3ebe552-6eee-4c96-9e22-0c18a2ee6abb","route":"/billing/subscription"}
{"level":"info","time":1766844008040,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":4,"requestId":"6839e48b-0a9e-4d2b-beab-c1700bfaf6cd","route":"/billing/subscription"}
{"level":"info","time":1766844008042,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"74f9dab8-a28d-441f-9519-f7cdf7be0ed2","route":"/billing/subscription"}
{"level":"info","time":1766844008047,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":2,"requestId":"ae335d0c-30fe-47be-a4d6-fccd14daa8d2","route":"/billing/subscription"}
{"level":"info","time":1766844008057,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":9,"requestId":"6d94b7c3-2580-481f-8c19-901749ab7d43","route":"/billing/subscription"}
{"level":"info","time":1766844008066,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":5,"requestId":"6dc47cd4-f9ed-455d-b80c-af92ff85b6ba","route":"/billing/subscription"}
{"level":"info","time":1766844008077,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":10,"requestId":"789ff786-0e0a-480e-936f-4b10d2646c01","route":"/billing/subscription"}
{"level":30,"time":1766844008080,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"e99fe12f-365b-417d-beec-4b14baa6e659","method":"GET","url":"/billing/subscription","body":{}},"requestId":"e99fe12f-365b-417d-beec-4b14baa6e659","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008091,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"e99fe12f-365b-417d-beec-4b14baa6e659","method":"GET","url":"/billing/subscription","body":{}},"requestId":"e99fe12f-365b-417d-beec-4b14baa6e659","requestId":"95674713-2b64-4d7f-9692-4e021f55f394","res":{"statusCode":401},"responseTime":11,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1766844008091,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"3502c6d2-83bc-4682-9c63-f14f3478d285","method":"GET","url":"/billing/subscription","body":{}},"requestId":"3502c6d2-83bc-4682-9c63-f14f3478d285","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008096,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"3502c6d2-83bc-4682-9c63-f14f3478d285","method":"GET","url":"/billing/subscription","body":{}},"requestId":"3502c6d2-83bc-4682-9c63-f14f3478d285","requestId":"d35faafb-fa2e-4d9a-a109-0e3655df75f0","res":{"statusCode":429},"responseTime":5,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008097,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"201a50be-f6f5-4af4-b261-696223511240","method":"GET","url":"/billing/subscription","body":{}},"requestId":"201a50be-f6f5-4af4-b261-696223511240","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008099,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"201a50be-f6f5-4af4-b261-696223511240","method":"GET","url":"/billing/subscription","body":{}},"requestId":"201a50be-f6f5-4af4-b261-696223511240","requestId":"f20a3c3b-981c-4563-a910-142fd4924533","res":{"statusCode":429},"responseTime":2,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008099,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"120a729a-886e-4b51-bcd7-961a85e9ee26","method":"GET","url":"/billing/subscription","body":{}},"requestId":"120a729a-886e-4b51-bcd7-961a85e9ee26","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008102,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"120a729a-886e-4b51-bcd7-961a85e9ee26","method":"GET","url":"/billing/subscription","body":{}},"requestId":"120a729a-886e-4b51-bcd7-961a85e9ee26","requestId":"9d314d28-3340-424b-ac9f-c31af9ee7b71","res":{"statusCode":429},"responseTime":3,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008103,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"e7c7d1ee-c72a-4848-bf46-20b5c5b364c4","method":"GET","url":"/billing/subscription","body":{}},"requestId":"e7c7d1ee-c72a-4848-bf46-20b5c5b364c4","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008103,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"e7c7d1ee-c72a-4848-bf46-20b5c5b364c4","method":"GET","url":"/billing/subscription","body":{}},"requestId":"e7c7d1ee-c72a-4848-bf46-20b5c5b364c4","requestId":"c0c6bec4-9afe-423a-9f9a-580257f0f31a","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008106,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"1519bd5e-7711-45c8-bae1-6d96987e85d5","method":"GET","url":"/billing/subscription","body":{}},"requestId":"1519bd5e-7711-45c8-bae1-6d96987e85d5","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008107,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"1519bd5e-7711-45c8-bae1-6d96987e85d5","method":"GET","url":"/billing/subscription","body":{}},"requestId":"1519bd5e-7711-45c8-bae1-6d96987e85d5","requestId":"ff75e719-5ace-4cfc-ba9b-3406ae0253e9","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008107,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"d2e03ca2-d217-4854-b34f-9f37e6f8a319","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d2e03ca2-d217-4854-b34f-9f37e6f8a319","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008110,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"d2e03ca2-d217-4854-b34f-9f37e6f8a319","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d2e03ca2-d217-4854-b34f-9f37e6f8a319","requestId":"20f73f9e-6c04-4e6b-903c-a069d30b5419","res":{"statusCode":429},"responseTime":2,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008110,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"77929adf-1b2e-4dd9-b57e-77005a407a43","method":"GET","url":"/billing/subscription","body":{}},"requestId":"77929adf-1b2e-4dd9-b57e-77005a407a43","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008111,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"77929adf-1b2e-4dd9-b57e-77005a407a43","method":"GET","url":"/billing/subscription","body":{}},"requestId":"77929adf-1b2e-4dd9-b57e-77005a407a43","requestId":"0414866c-8dc7-499b-8f35-bc3c189c53ab","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008111,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"a8c8b49d-adef-4633-9ed0-fc047abcc76a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"a8c8b49d-adef-4633-9ed0-fc047abcc76a","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008112,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"a8c8b49d-adef-4633-9ed0-fc047abcc76a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"a8c8b49d-adef-4633-9ed0-fc047abcc76a","requestId":"7f3267a2-91b3-4ffd-9c78-91aaba6129ae","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008112,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"1e977d77-95d6-4989-9cb0-c62c057f03c9","method":"GET","url":"/billing/subscription","body":{}},"requestId":"1e977d77-95d6-4989-9cb0-c62c057f03c9","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008113,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"1e977d77-95d6-4989-9cb0-c62c057f03c9","method":"GET","url":"/billing/subscription","body":{}},"requestId":"1e977d77-95d6-4989-9cb0-c62c057f03c9","requestId":"463fcb5e-c537-46e4-8d92-aa1995a599b0","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008113,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ced9e55c-f632-4784-8fa2-43a5397a5f70","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ced9e55c-f632-4784-8fa2-43a5397a5f70","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008118,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ced9e55c-f632-4784-8fa2-43a5397a5f70","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ced9e55c-f632-4784-8fa2-43a5397a5f70","requestId":"09265682-1475-4868-8585-33a143de5290","res":{"statusCode":429},"responseTime":5,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008119,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"d5a0d480-f81f-4a1c-a086-4f172dfdd296","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d5a0d480-f81f-4a1c-a086-4f172dfdd296","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008119,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"d5a0d480-f81f-4a1c-a086-4f172dfdd296","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d5a0d480-f81f-4a1c-a086-4f172dfdd296","requestId":"01399e55-2027-4527-a404-4037d2508901","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008120,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ecec53fc-f04b-4575-9869-ae39cff39d8c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ecec53fc-f04b-4575-9869-ae39cff39d8c","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008121,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ecec53fc-f04b-4575-9869-ae39cff39d8c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ecec53fc-f04b-4575-9869-ae39cff39d8c","requestId":"26cef90a-e4b1-4f6d-abef-5d1a5a125651","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008124,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"c75fa593-d779-4aee-a26e-91f3ac187662","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c75fa593-d779-4aee-a26e-91f3ac187662","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008126,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"c75fa593-d779-4aee-a26e-91f3ac187662","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c75fa593-d779-4aee-a26e-91f3ac187662","requestId":"26a30c73-fe87-420e-bb26-3f9627239590","res":{"statusCode":429},"responseTime":2,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008130,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"f7dfdc97-1f63-4a6e-a252-7a4c689fcad7","method":"GET","url":"/billing/subscription","body":{}},"requestId":"f7dfdc97-1f63-4a6e-a252-7a4c689fcad7","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008133,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"f7dfdc97-1f63-4a6e-a252-7a4c689fcad7","method":"GET","url":"/billing/subscription","body":{}},"requestId":"f7dfdc97-1f63-4a6e-a252-7a4c689fcad7","requestId":"d614329b-9982-4a71-a741-f902d0c516b6","res":{"statusCode":429},"responseTime":3,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008133,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"02ae1937-40b5-4238-916b-fec0673a37de","method":"GET","url":"/billing/subscription","body":{}},"requestId":"02ae1937-40b5-4238-916b-fec0673a37de","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008137,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"02ae1937-40b5-4238-916b-fec0673a37de","method":"GET","url":"/billing/subscription","body":{}},"requestId":"02ae1937-40b5-4238-916b-fec0673a37de","requestId":"f6b3932e-ae87-48dc-adfc-977dec06fd79","res":{"statusCode":429},"responseTime":4,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008137,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"93f6b14d-27ce-4979-9edb-657839de55b7","method":"GET","url":"/billing/subscription","body":{}},"requestId":"93f6b14d-27ce-4979-9edb-657839de55b7","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008138,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"93f6b14d-27ce-4979-9edb-657839de55b7","method":"GET","url":"/billing/subscription","body":{}},"requestId":"93f6b14d-27ce-4979-9edb-657839de55b7","requestId":"ffef0cbd-327f-4a51-b8a8-ef81d4512e64","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008139,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"a10c2960-d413-4fd4-816e-9fbcc1e4de68","method":"GET","url":"/billing/subscription","body":{}},"requestId":"a10c2960-d413-4fd4-816e-9fbcc1e4de68","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008141,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"a10c2960-d413-4fd4-816e-9fbcc1e4de68","method":"GET","url":"/billing/subscription","body":{}},"requestId":"a10c2960-d413-4fd4-816e-9fbcc1e4de68","requestId":"e8844dc7-cf2c-4c63-8715-79f913a5d67f","res":{"statusCode":429},"responseTime":2,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008141,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"268ba064-d8af-4189-89f3-6f44a8c7cd8d","method":"GET","url":"/billing/subscription","body":{}},"requestId":"268ba064-d8af-4189-89f3-6f44a8c7cd8d","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008142,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"268ba064-d8af-4189-89f3-6f44a8c7cd8d","method":"GET","url":"/billing/subscription","body":{}},"requestId":"268ba064-d8af-4189-89f3-6f44a8c7cd8d","requestId":"39812142-22c9-47c8-8c31-188a2126f28a","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008150,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"e3337751-3228-4a82-9019-ccdcb21919de","method":"GET","url":"/billing/subscription","body":{}},"requestId":"e3337751-3228-4a82-9019-ccdcb21919de","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008151,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"e3337751-3228-4a82-9019-ccdcb21919de","method":"GET","url":"/billing/subscription","body":{}},"requestId":"e3337751-3228-4a82-9019-ccdcb21919de","requestId":"12472fef-6730-4057-a9b2-8d4d5330db8d","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008151,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"6fa7c179-0458-4aef-bd95-84d887235366","method":"GET","url":"/billing/subscription","body":{}},"requestId":"6fa7c179-0458-4aef-bd95-84d887235366","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008152,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"6fa7c179-0458-4aef-bd95-84d887235366","method":"GET","url":"/billing/subscription","body":{}},"requestId":"6fa7c179-0458-4aef-bd95-84d887235366","requestId":"0dad59b3-4488-4938-9377-1ea8d8e81c37","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008152,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"e9125322-7a8d-45ae-9374-180534dc98f1","method":"GET","url":"/billing/subscription","body":{}},"requestId":"e9125322-7a8d-45ae-9374-180534dc98f1","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008153,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"e9125322-7a8d-45ae-9374-180534dc98f1","method":"GET","url":"/billing/subscription","body":{}},"requestId":"e9125322-7a8d-45ae-9374-180534dc98f1","requestId":"0a211239-9520-4011-9b57-9592e84c91bb","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008153,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"8d9f801d-b297-4395-8d89-d36bb27caa49","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8d9f801d-b297-4395-8d89-d36bb27caa49","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008154,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"8d9f801d-b297-4395-8d89-d36bb27caa49","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8d9f801d-b297-4395-8d89-d36bb27caa49","requestId":"16e2ffb5-9f7a-4806-a051-5a4ea1195d3a","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008154,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"5678cbdd-6b83-4b4c-a339-dd03f4df6458","method":"GET","url":"/billing/subscription","body":{}},"requestId":"5678cbdd-6b83-4b4c-a339-dd03f4df6458","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008155,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"5678cbdd-6b83-4b4c-a339-dd03f4df6458","method":"GET","url":"/billing/subscription","body":{}},"requestId":"5678cbdd-6b83-4b4c-a339-dd03f4df6458","requestId":"0d0c54b9-67ce-45af-912b-22558ea6d476","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008155,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"7cd5ad2c-4587-4161-8499-0a224ae9aeff","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7cd5ad2c-4587-4161-8499-0a224ae9aeff","msg":"REQ GET /billing/subscription"}
{"level":"info","time":1766844008091,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":11,"requestId":"95674713-2b64-4d7f-9692-4e021f55f394","route":"/billing/subscription"}
{"level":"info","time":1766844008096,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":5,"requestId":"d35faafb-fa2e-4d9a-a109-0e3655df75f0","route":"/billing/subscription"}
{"level":"info","time":1766844008099,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":2,"requestId":"f20a3c3b-981c-4563-a910-142fd4924533","route":"/billing/subscription"}
{"level":"info","time":1766844008102,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":3,"requestId":"9d314d28-3340-424b-ac9f-c31af9ee7b71","route":"/billing/subscription"}
{"level":"info","time":1766844008103,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"c0c6bec4-9afe-423a-9f9a-580257f0f31a","route":"/billing/subscription"}
{"level":"info","time":1766844008107,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"ff75e719-5ace-4cfc-ba9b-3406ae0253e9","route":"/billing/subscription"}
{"level":"info","time":1766844008110,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":3,"requestId":"20f73f9e-6c04-4e6b-903c-a069d30b5419","route":"/billing/subscription"}
{"level":"info","time":1766844008111,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"0414866c-8dc7-499b-8f35-bc3c189c53ab","route":"/billing/subscription"}
{"level":"info","time":1766844008112,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"7f3267a2-91b3-4ffd-9c78-91aaba6129ae","route":"/billing/subscription"}
{"level":"info","time":1766844008113,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"463fcb5e-c537-46e4-8d92-aa1995a599b0","route":"/billing/subscription"}
{"level":"info","time":1766844008118,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":4,"requestId":"09265682-1475-4868-8585-33a143de5290","route":"/billing/subscription"}
{"level":"info","time":1766844008119,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"01399e55-2027-4527-a404-4037d2508901","route":"/billing/subscription"}
{"level":"info","time":1766844008121,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"26cef90a-e4b1-4f6d-abef-5d1a5a125651","route":"/billing/subscription"}
{"level":"info","time":1766844008126,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":2,"requestId":"26a30c73-fe87-420e-bb26-3f9627239590","route":"/billing/subscription"}
{"level":"info","time":1766844008133,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":3,"requestId":"d614329b-9982-4a71-a741-f902d0c516b6","route":"/billing/subscription"}
{"level":"info","time":1766844008137,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":4,"requestId":"f6b3932e-ae87-48dc-adfc-977dec06fd79","route":"/billing/subscription"}
{"level":"info","time":1766844008138,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"ffef0cbd-327f-4a51-b8a8-ef81d4512e64","route":"/billing/subscription"}
{"level":"info","time":1766844008141,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":2,"requestId":"e8844dc7-cf2c-4c63-8715-79f913a5d67f","route":"/billing/subscription"}
{"level":"info","time":1766844008142,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"39812142-22c9-47c8-8c31-188a2126f28a","route":"/billing/subscription"}
{"level":"info","time":1766844008151,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"12472fef-6730-4057-a9b2-8d4d5330db8d","route":"/billing/subscription"}
{"level":"info","time":1766844008152,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"0dad59b3-4488-4938-9377-1ea8d8e81c37","route":"/billing/subscription"}
{"level":"info","time":1766844008153,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"0a211239-9520-4011-9b57-9592e84c91bb","route":"/billing/subscription"}
{"level":"info","time":1766844008154,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"16e2ffb5-9f7a-4806-a051-5a4ea1195d3a","route":"/billing/subscription"}
{"level":"info","time":1766844008155,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"0d0c54b9-67ce-45af-912b-22558ea6d476","route":"/billing/subscription"}
{"level":"info","time":1766844008156,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"7dcd69af-b9da-41ea-894b-7bd42a033ae8","route":"/billing/subscription"}
{"level":"info","time":1766844008157,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"77dae692-c182-4c76-b5a0-6db70530ac13","route":"/billing/subscription"}
{"level":"info","time":1766844008158,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"39ec1d31-6db4-45ce-89b5-14446e4f867c","route":"/billing/subscription"}
{"level":"info","time":1766844008159,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"f4dbc193-bf6a-4ca7-b026-2f12a3a6c37f","route":"/billing/subscription"}
{"level":"info","time":1766844008160,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"754bf310-8015-4c01-bf0b-a6bab96d5e74","route":"/billing/subscription"}
{"level":"info","time":1766844008162,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"7e026235-7192-436b-be04-f36e9d3995af","route":"/billing/subscription"}
{"level":"info","time":1766844008163,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"7f9c3c2d-38da-45bf-9413-c47e9d724dd0","route":"/billing/subscription"}
{"level":"info","time":1766844008164,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"6d22526d-348d-434f-b779-18ee0b13b21f","route":"/billing/subscription"}
{"level":"info","time":1766844008168,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":3,"requestId":"947b77af-e9da-4f41-8432-3dce3f1c598a","route":"/billing/subscription"}
{"level":"info","time":1766844008169,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"0c886670-022f-4074-8925-fb17d38da164","route":"/billing/subscription"}
{"level":"info","time":1766844008170,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"f13b58de-1184-4ed7-a991-f619570a59ce","route":"/billing/subscription"}
{"level":"info","time":1766844008171,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"bde85ba3-df80-4600-8421-9e1abba1d0f9","route":"/billing/subscription"}
{"level":"info","time":1766844008173,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"31586d8b-b364-4325-8646-7b5a7cd105a3","route":"/billing/subscription"}
{"level":"info","time":1766844008175,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":2,"requestId":"62aa5d61-3e41-4fe6-acdc-d97611265974","route":"/billing/subscription"}
{"level":"info","time":1766844008176,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"7085f57d-3ee7-4695-8f55-1bee64d8d25b","route":"/billing/subscription"}
{"level":"info","time":1766844008177,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"ef55a180-77b6-47f9-9a2b-f610440c8986","route":"/billing/subscription"}
{"level":"info","time":1766844008178,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"f144e61a-2b5d-4cc4-9b09-94a60ba9b27f","route":"/billing/subscription"}
{"level":"info","time":1766844008179,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"b5c38d32-b100-46c7-9fac-7a52e9f2b2e0","route":"/billing/subscription"}
{"level":"info","time":1766844008180,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"683021bf-b3e7-4cd5-bed9-494b6b87dddc","route":"/billing/subscription"}
{"level":"info","time":1766844008181,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"5b411b79-8300-46c9-b839-c1a9fed6f77b","route":"/billing/subscription"}
{"level":"info","time":1766844008182,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"e9713cbe-79ac-44a6-8127-ee36be313198","route":"/billing/subscription"}
{"level":"info","time":1766844008184,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"33ec46f3-22fd-4efe-86f8-de05765f9523","route":"/billing/subscription"}
{"level":"info","time":1766844008186,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"03eab8b4-ddac-430c-b4ce-a3290fa99e70","route":"/billing/subscription"}
{"level":"info","time":1766844008187,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"8fa3dcfc-417c-4242-a282-6dd41a0f37b9","route":"/billing/subscription"}
{"level":"info","time":1766844008188,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"377c554e-0871-48bb-94db-58b2bf7c02d5","route":"/billing/subscription"}
{"level":"info","time":1766844008188,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"db4aa161-3092-4923-a2ef-c23adc98d68c","route":"/billing/subscription"}
{"level":"info","time":1766844008189,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"afe4d45e-c182-40b4-abe4-574b46fd1947","route":"/billing/subscription"}
{"level":"info","time":1766844008190,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"11975b26-703e-40dc-be6d-c02fd15e74d5","route":"/billing/subscription"}
{"level":"info","time":1766844008193,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":2,"requestId":"1a875d06-d4d0-4546-bc3c-e60aee4bde0c","route":"/billing/subscription"}
{"level":"info","time":1766844008194,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"ec3505f8-cdfb-488c-9c68-5012dd9e85c7","route":"/billing/subscription"}
{"level":"info","time":1766844008195,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"ed6df873-250b-4b04-a738-26e367bb9a71","route":"/billing/subscription"}
{"level":"info","time":1766844008196,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"3d954012-4e5c-4497-89aa-ee6775f082ae","route":"/billing/subscription"}
{"level":"info","time":1766844008197,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"020a2442-4cbd-48a6-8ecf-fd0e3c672d4d","route":"/billing/subscription"}
{"level":"info","time":1766844008198,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"5e22b719-a1cd-499a-9afa-d6bdf47fecde","route":"/billing/subscription"}
{"level":"info","time":1766844008199,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"b8d87c1e-bb3c-4006-852e-dc3c8f97c612","route":"/billing/subscription"}
{"level":"info","time":1766844008200,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"3da13559-a90a-4597-90fa-fb9a44e446e5","route":"/billing/subscription"}
{"level":"info","time":1766844008201,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"c6e923cc-0357-4056-9a20-812de857c9e8","route":"/billing/subscription"}
{"level":"info","time":1766844008202,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"660fe33c-6dd7-483a-826b-1d7d076abd40","route":"/billing/subscription"}
{"level":"info","time":1766844008203,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"317c94db-f54a-45bc-bae1-5451c0a237f6","route":"/billing/subscription"}
{"level":40,"time":1766844008156,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"7cd5ad2c-4587-4161-8499-0a224ae9aeff","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7cd5ad2c-4587-4161-8499-0a224ae9aeff","requestId":"7dcd69af-b9da-41ea-894b-7bd42a033ae8","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008156,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"a2e904db-6456-490b-bdd8-bb06082f1795","method":"GET","url":"/billing/subscription","body":{}},"requestId":"a2e904db-6456-490b-bdd8-bb06082f1795","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008157,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"a2e904db-6456-490b-bdd8-bb06082f1795","method":"GET","url":"/billing/subscription","body":{}},"requestId":"a2e904db-6456-490b-bdd8-bb06082f1795","requestId":"77dae692-c182-4c76-b5a0-6db70530ac13","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008157,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"0259eea4-33eb-4963-8083-2fa5d97b0f3e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0259eea4-33eb-4963-8083-2fa5d97b0f3e","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008158,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"0259eea4-33eb-4963-8083-2fa5d97b0f3e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0259eea4-33eb-4963-8083-2fa5d97b0f3e","requestId":"39ec1d31-6db4-45ce-89b5-14446e4f867c","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008158,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"75ca5440-c0f7-4ae3-9300-355e8ff4f18d","method":"GET","url":"/billing/subscription","body":{}},"requestId":"75ca5440-c0f7-4ae3-9300-355e8ff4f18d","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008159,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"75ca5440-c0f7-4ae3-9300-355e8ff4f18d","method":"GET","url":"/billing/subscription","body":{}},"requestId":"75ca5440-c0f7-4ae3-9300-355e8ff4f18d","requestId":"f4dbc193-bf6a-4ca7-b026-2f12a3a6c37f","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008160,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"773658dc-d7ad-4f38-9b45-d92892a58796","method":"GET","url":"/billing/subscription","body":{}},"requestId":"773658dc-d7ad-4f38-9b45-d92892a58796","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008160,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"773658dc-d7ad-4f38-9b45-d92892a58796","method":"GET","url":"/billing/subscription","body":{}},"requestId":"773658dc-d7ad-4f38-9b45-d92892a58796","requestId":"754bf310-8015-4c01-bf0b-a6bab96d5e74","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008161,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"46e7950c-f470-4dc1-b75e-17a0b306bdf4","method":"GET","url":"/billing/subscription","body":{}},"requestId":"46e7950c-f470-4dc1-b75e-17a0b306bdf4","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008162,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"46e7950c-f470-4dc1-b75e-17a0b306bdf4","method":"GET","url":"/billing/subscription","body":{}},"requestId":"46e7950c-f470-4dc1-b75e-17a0b306bdf4","requestId":"7e026235-7192-436b-be04-f36e9d3995af","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008162,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"fbbabd49-1a00-48d9-9d23-26fd56dcd15f","method":"GET","url":"/billing/subscription","body":{}},"requestId":"fbbabd49-1a00-48d9-9d23-26fd56dcd15f","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008163,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"fbbabd49-1a00-48d9-9d23-26fd56dcd15f","method":"GET","url":"/billing/subscription","body":{}},"requestId":"fbbabd49-1a00-48d9-9d23-26fd56dcd15f","requestId":"7f9c3c2d-38da-45bf-9413-c47e9d724dd0","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008164,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"13b85a5a-42fa-4ade-a47c-c886abad7dd3","method":"GET","url":"/billing/subscription","body":{}},"requestId":"13b85a5a-42fa-4ade-a47c-c886abad7dd3","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008164,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"13b85a5a-42fa-4ade-a47c-c886abad7dd3","method":"GET","url":"/billing/subscription","body":{}},"requestId":"13b85a5a-42fa-4ade-a47c-c886abad7dd3","requestId":"6d22526d-348d-434f-b779-18ee0b13b21f","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008165,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"334f46eb-a741-489a-b453-af90e07bd3b0","method":"GET","url":"/billing/subscription","body":{}},"requestId":"334f46eb-a741-489a-b453-af90e07bd3b0","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008168,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"334f46eb-a741-489a-b453-af90e07bd3b0","method":"GET","url":"/billing/subscription","body":{}},"requestId":"334f46eb-a741-489a-b453-af90e07bd3b0","requestId":"947b77af-e9da-4f41-8432-3dce3f1c598a","res":{"statusCode":429},"responseTime":3,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008169,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"d5238ecb-cd39-4bcc-bdf0-25f6a0bc2e09","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d5238ecb-cd39-4bcc-bdf0-25f6a0bc2e09","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008169,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"d5238ecb-cd39-4bcc-bdf0-25f6a0bc2e09","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d5238ecb-cd39-4bcc-bdf0-25f6a0bc2e09","requestId":"0c886670-022f-4074-8925-fb17d38da164","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008170,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"00d4f5e5-4d47-401a-b051-0a5c3b33aeb3","method":"GET","url":"/billing/subscription","body":{}},"requestId":"00d4f5e5-4d47-401a-b051-0a5c3b33aeb3","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008170,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"00d4f5e5-4d47-401a-b051-0a5c3b33aeb3","method":"GET","url":"/billing/subscription","body":{}},"requestId":"00d4f5e5-4d47-401a-b051-0a5c3b33aeb3","requestId":"f13b58de-1184-4ed7-a991-f619570a59ce","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008171,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"3379fda4-1d4c-482a-b19b-712f1c57bb68","method":"GET","url":"/billing/subscription","body":{}},"requestId":"3379fda4-1d4c-482a-b19b-712f1c57bb68","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008171,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"3379fda4-1d4c-482a-b19b-712f1c57bb68","method":"GET","url":"/billing/subscription","body":{}},"requestId":"3379fda4-1d4c-482a-b19b-712f1c57bb68","requestId":"bde85ba3-df80-4600-8421-9e1abba1d0f9","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008172,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"33bb013e-c663-4f83-8fed-41aba96ddebd","method":"GET","url":"/billing/subscription","body":{}},"requestId":"33bb013e-c663-4f83-8fed-41aba96ddebd","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008172,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"33bb013e-c663-4f83-8fed-41aba96ddebd","method":"GET","url":"/billing/subscription","body":{}},"requestId":"33bb013e-c663-4f83-8fed-41aba96ddebd","requestId":"31586d8b-b364-4325-8646-7b5a7cd105a3","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008173,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"5e360a4d-e784-4599-a099-7240334c0c87","method":"GET","url":"/billing/subscription","body":{}},"requestId":"5e360a4d-e784-4599-a099-7240334c0c87","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008175,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"5e360a4d-e784-4599-a099-7240334c0c87","method":"GET","url":"/billing/subscription","body":{}},"requestId":"5e360a4d-e784-4599-a099-7240334c0c87","requestId":"62aa5d61-3e41-4fe6-acdc-d97611265974","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008175,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"8a161130-60b7-4930-826d-2661032bd1ab","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8a161130-60b7-4930-826d-2661032bd1ab","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008176,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"8a161130-60b7-4930-826d-2661032bd1ab","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8a161130-60b7-4930-826d-2661032bd1ab","requestId":"7085f57d-3ee7-4695-8f55-1bee64d8d25b","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008176,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"0c57e5a4-7d60-43e0-9a8d-4b386331d4f1","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0c57e5a4-7d60-43e0-9a8d-4b386331d4f1","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008177,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"0c57e5a4-7d60-43e0-9a8d-4b386331d4f1","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0c57e5a4-7d60-43e0-9a8d-4b386331d4f1","requestId":"ef55a180-77b6-47f9-9a2b-f610440c8986","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008178,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"58b24226-43dd-45a2-a67d-037ce1a8d9d1","method":"GET","url":"/billing/subscription","body":{}},"requestId":"58b24226-43dd-45a2-a67d-037ce1a8d9d1","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008178,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"58b24226-43dd-45a2-a67d-037ce1a8d9d1","method":"GET","url":"/billing/subscription","body":{}},"requestId":"58b24226-43dd-45a2-a67d-037ce1a8d9d1","requestId":"f144e61a-2b5d-4cc4-9b09-94a60ba9b27f","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008179,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"f83bb0c7-853a-4a6e-8f6f-07de95ad95b2","method":"GET","url":"/billing/subscription","body":{}},"requestId":"f83bb0c7-853a-4a6e-8f6f-07de95ad95b2","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008179,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"f83bb0c7-853a-4a6e-8f6f-07de95ad95b2","method":"GET","url":"/billing/subscription","body":{}},"requestId":"f83bb0c7-853a-4a6e-8f6f-07de95ad95b2","requestId":"b5c38d32-b100-46c7-9fac-7a52e9f2b2e0","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008180,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"d2e72e17-854b-4b0e-8ae8-dcc8680d01d6","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d2e72e17-854b-4b0e-8ae8-dcc8680d01d6","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008180,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"d2e72e17-854b-4b0e-8ae8-dcc8680d01d6","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d2e72e17-854b-4b0e-8ae8-dcc8680d01d6","requestId":"683021bf-b3e7-4cd5-bed9-494b6b87dddc","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008181,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"b94dca6d-b1bf-456e-ada8-bf67bcb8f1e1","method":"GET","url":"/billing/subscription","body":{}},"requestId":"b94dca6d-b1bf-456e-ada8-bf67bcb8f1e1","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008181,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"b94dca6d-b1bf-456e-ada8-bf67bcb8f1e1","method":"GET","url":"/billing/subscription","body":{}},"requestId":"b94dca6d-b1bf-456e-ada8-bf67bcb8f1e1","requestId":"5b411b79-8300-46c9-b839-c1a9fed6f77b","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008182,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"b7c6f12b-a471-44b0-a35d-b854f394b2b5","method":"GET","url":"/billing/subscription","body":{}},"requestId":"b7c6f12b-a471-44b0-a35d-b854f394b2b5","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008182,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"b7c6f12b-a471-44b0-a35d-b854f394b2b5","method":"GET","url":"/billing/subscription","body":{}},"requestId":"b7c6f12b-a471-44b0-a35d-b854f394b2b5","requestId":"e9713cbe-79ac-44a6-8127-ee36be313198","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008183,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"0cd59efc-499b-4778-b4a7-e84f63029753","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0cd59efc-499b-4778-b4a7-e84f63029753","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008183,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"0cd59efc-499b-4778-b4a7-e84f63029753","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0cd59efc-499b-4778-b4a7-e84f63029753","requestId":"33ec46f3-22fd-4efe-86f8-de05765f9523","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008185,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"92a9803b-443e-4e89-adff-bda04cc22414","method":"GET","url":"/billing/subscription","body":{}},"requestId":"92a9803b-443e-4e89-adff-bda04cc22414","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008186,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"92a9803b-443e-4e89-adff-bda04cc22414","method":"GET","url":"/billing/subscription","body":{}},"requestId":"92a9803b-443e-4e89-adff-bda04cc22414","requestId":"03eab8b4-ddac-430c-b4ce-a3290fa99e70","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008186,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"505c9106-f2b8-48b4-adda-579ac1af800a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"505c9106-f2b8-48b4-adda-579ac1af800a","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008187,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"505c9106-f2b8-48b4-adda-579ac1af800a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"505c9106-f2b8-48b4-adda-579ac1af800a","requestId":"8fa3dcfc-417c-4242-a282-6dd41a0f37b9","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008187,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"b4451ad9-97ee-48f6-b914-c0259c18d782","method":"GET","url":"/billing/subscription","body":{}},"requestId":"b4451ad9-97ee-48f6-b914-c0259c18d782","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008187,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"b4451ad9-97ee-48f6-b914-c0259c18d782","method":"GET","url":"/billing/subscription","body":{}},"requestId":"b4451ad9-97ee-48f6-b914-c0259c18d782","requestId":"377c554e-0871-48bb-94db-58b2bf7c02d5","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":"info","time":1766844008204,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"8217f492-3c88-4a08-bf2b-cb722ba10ed8","route":"/billing/subscription"}
{"level":"info","time":1766844008205,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"eee7e99e-9de8-4af7-91ff-7bf7f0ae6ddc","route":"/billing/subscription"}
{"level":"info","time":1766844008205,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"3d0afd10-58d5-4993-ada6-6de3e535cdc0","route":"/billing/subscription"}
{"level":"info","time":1766844008206,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"1fec56b7-f3ea-4bb0-8b2d-00c37588d135","route":"/billing/subscription"}
{"level":"info","time":1766844008208,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"31f17864-920b-4188-a434-6c707394f2f8","route":"/billing/subscription"}
{"level":"info","time":1766844008209,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"097c53be-cb93-41e9-8fec-df316d797475","route":"/billing/subscription"}
{"level":"info","time":1766844008210,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":1,"requestId":"69036b8e-9329-4e50-b832-5bc813f6fdcf","route":"/billing/subscription"}
{"level":30,"time":1766844008188,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"9d1255b3-73ef-4f04-913e-e598086ee29c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"9d1255b3-73ef-4f04-913e-e598086ee29c","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008188,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"9d1255b3-73ef-4f04-913e-e598086ee29c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"9d1255b3-73ef-4f04-913e-e598086ee29c","requestId":"db4aa161-3092-4923-a2ef-c23adc98d68c","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008189,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"b429209b-ad40-469c-b1f5-24099467712e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"b429209b-ad40-469c-b1f5-24099467712e","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008189,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"b429209b-ad40-469c-b1f5-24099467712e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"b429209b-ad40-469c-b1f5-24099467712e","requestId":"afe4d45e-c182-40b4-abe4-574b46fd1947","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008190,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"7941b701-ac2d-4515-889a-999025df1d7a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7941b701-ac2d-4515-889a-999025df1d7a","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008190,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"7941b701-ac2d-4515-889a-999025df1d7a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7941b701-ac2d-4515-889a-999025df1d7a","requestId":"11975b26-703e-40dc-be6d-c02fd15e74d5","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008191,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"a6195e4f-2dc8-4c5a-bb9b-2fdc80853307","method":"GET","url":"/billing/subscription","body":{}},"requestId":"a6195e4f-2dc8-4c5a-bb9b-2fdc80853307","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008193,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"a6195e4f-2dc8-4c5a-bb9b-2fdc80853307","method":"GET","url":"/billing/subscription","body":{}},"requestId":"a6195e4f-2dc8-4c5a-bb9b-2fdc80853307","requestId":"1a875d06-d4d0-4546-bc3c-e60aee4bde0c","res":{"statusCode":429},"responseTime":2,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008193,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ce9ebf7b-d57e-4ff0-82e3-5d5bac0b0c75","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ce9ebf7b-d57e-4ff0-82e3-5d5bac0b0c75","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008194,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ce9ebf7b-d57e-4ff0-82e3-5d5bac0b0c75","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ce9ebf7b-d57e-4ff0-82e3-5d5bac0b0c75","requestId":"ec3505f8-cdfb-488c-9c68-5012dd9e85c7","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008194,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"2cc75e89-4a88-468c-8380-13f0f1a0450a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"2cc75e89-4a88-468c-8380-13f0f1a0450a","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008195,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"2cc75e89-4a88-468c-8380-13f0f1a0450a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"2cc75e89-4a88-468c-8380-13f0f1a0450a","requestId":"ed6df873-250b-4b04-a738-26e367bb9a71","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008195,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"27b7de10-a2a8-48ab-a311-3095f6fb2a5a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"27b7de10-a2a8-48ab-a311-3095f6fb2a5a","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008196,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"27b7de10-a2a8-48ab-a311-3095f6fb2a5a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"27b7de10-a2a8-48ab-a311-3095f6fb2a5a","requestId":"3d954012-4e5c-4497-89aa-ee6775f082ae","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008196,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"9dcdc615-e814-49cf-adb6-09dc90bf8dfb","method":"GET","url":"/billing/subscription","body":{}},"requestId":"9dcdc615-e814-49cf-adb6-09dc90bf8dfb","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008197,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"9dcdc615-e814-49cf-adb6-09dc90bf8dfb","method":"GET","url":"/billing/subscription","body":{}},"requestId":"9dcdc615-e814-49cf-adb6-09dc90bf8dfb","requestId":"020a2442-4cbd-48a6-8ecf-fd0e3c672d4d","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008197,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"5adfadc7-40b3-4199-a59a-d647b76e9277","method":"GET","url":"/billing/subscription","body":{}},"requestId":"5adfadc7-40b3-4199-a59a-d647b76e9277","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008198,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"5adfadc7-40b3-4199-a59a-d647b76e9277","method":"GET","url":"/billing/subscription","body":{}},"requestId":"5adfadc7-40b3-4199-a59a-d647b76e9277","requestId":"5e22b719-a1cd-499a-9afa-d6bdf47fecde","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008198,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"8ad08f4c-c5ed-4b51-a50c-d9ad04dd9103","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8ad08f4c-c5ed-4b51-a50c-d9ad04dd9103","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008199,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"8ad08f4c-c5ed-4b51-a50c-d9ad04dd9103","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8ad08f4c-c5ed-4b51-a50c-d9ad04dd9103","requestId":"b8d87c1e-bb3c-4006-852e-dc3c8f97c612","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008199,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ec5e62c0-6e01-405b-bd56-307e4cbb708c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ec5e62c0-6e01-405b-bd56-307e4cbb708c","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008200,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ec5e62c0-6e01-405b-bd56-307e4cbb708c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ec5e62c0-6e01-405b-bd56-307e4cbb708c","requestId":"3da13559-a90a-4597-90fa-fb9a44e446e5","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008200,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"442e246d-ef56-45eb-94ba-c68626e7f9cd","method":"GET","url":"/billing/subscription","body":{}},"requestId":"442e246d-ef56-45eb-94ba-c68626e7f9cd","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008201,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"442e246d-ef56-45eb-94ba-c68626e7f9cd","method":"GET","url":"/billing/subscription","body":{}},"requestId":"442e246d-ef56-45eb-94ba-c68626e7f9cd","requestId":"c6e923cc-0357-4056-9a20-812de857c9e8","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008201,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"efa29a30-8250-49e7-8ebb-20b4f5a35420","method":"GET","url":"/billing/subscription","body":{}},"requestId":"efa29a30-8250-49e7-8ebb-20b4f5a35420","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008202,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"efa29a30-8250-49e7-8ebb-20b4f5a35420","method":"GET","url":"/billing/subscription","body":{}},"requestId":"efa29a30-8250-49e7-8ebb-20b4f5a35420","requestId":"660fe33c-6dd7-483a-826b-1d7d076abd40","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008202,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"af4f5316-629a-4f51-9b2e-98d9e77a1dce","method":"GET","url":"/billing/subscription","body":{}},"requestId":"af4f5316-629a-4f51-9b2e-98d9e77a1dce","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008203,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"af4f5316-629a-4f51-9b2e-98d9e77a1dce","method":"GET","url":"/billing/subscription","body":{}},"requestId":"af4f5316-629a-4f51-9b2e-98d9e77a1dce","requestId":"317c94db-f54a-45bc-bae1-5451c0a237f6","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008203,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"36945bd6-ca60-4da0-b678-d4a0a547966d","method":"GET","url":"/billing/subscription","body":{}},"requestId":"36945bd6-ca60-4da0-b678-d4a0a547966d","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008204,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"36945bd6-ca60-4da0-b678-d4a0a547966d","method":"GET","url":"/billing/subscription","body":{}},"requestId":"36945bd6-ca60-4da0-b678-d4a0a547966d","requestId":"8217f492-3c88-4a08-bf2b-cb722ba10ed8","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008204,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"cd7d0187-fd37-4f1b-bf81-5157ef76cb03","method":"GET","url":"/billing/subscription","body":{}},"requestId":"cd7d0187-fd37-4f1b-bf81-5157ef76cb03","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008204,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"cd7d0187-fd37-4f1b-bf81-5157ef76cb03","method":"GET","url":"/billing/subscription","body":{}},"requestId":"cd7d0187-fd37-4f1b-bf81-5157ef76cb03","requestId":"eee7e99e-9de8-4af7-91ff-7bf7f0ae6ddc","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008205,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"fd51c4a2-4c15-4dd4-b901-59d582f0e838","method":"GET","url":"/billing/subscription","body":{}},"requestId":"fd51c4a2-4c15-4dd4-b901-59d582f0e838","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008205,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"fd51c4a2-4c15-4dd4-b901-59d582f0e838","method":"GET","url":"/billing/subscription","body":{}},"requestId":"fd51c4a2-4c15-4dd4-b901-59d582f0e838","requestId":"3d0afd10-58d5-4993-ada6-6de3e535cdc0","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008206,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"6c37db7c-8b09-450f-8b97-2207a2baaf3f","method":"GET","url":"/billing/subscription","body":{}},"requestId":"6c37db7c-8b09-450f-8b97-2207a2baaf3f","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008206,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"6c37db7c-8b09-450f-8b97-2207a2baaf3f","method":"GET","url":"/billing/subscription","body":{}},"requestId":"6c37db7c-8b09-450f-8b97-2207a2baaf3f","requestId":"1fec56b7-f3ea-4bb0-8b2d-00c37588d135","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008207,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"7a6ea25d-d779-4e41-9c06-7fa7b2ffa14d","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7a6ea25d-d779-4e41-9c06-7fa7b2ffa14d","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008208,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"7a6ea25d-d779-4e41-9c06-7fa7b2ffa14d","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7a6ea25d-d779-4e41-9c06-7fa7b2ffa14d","requestId":"31f17864-920b-4188-a434-6c707394f2f8","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008208,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"0d6af4a5-89fb-41fb-b9f9-ff52e4f6709e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0d6af4a5-89fb-41fb-b9f9-ff52e4f6709e","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008209,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"0d6af4a5-89fb-41fb-b9f9-ff52e4f6709e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0d6af4a5-89fb-41fb-b9f9-ff52e4f6709e","requestId":"097c53be-cb93-41e9-8fec-df316d797475","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008209,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ad6fe650-fb6a-4789-a1de-c0a2873c0faf","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ad6fe650-fb6a-4789-a1de-c0a2873c0faf","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008210,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"ad6fe650-fb6a-4789-a1de-c0a2873c0faf","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ad6fe650-fb6a-4789-a1de-c0a2873c0faf","requestId":"69036b8e-9329-4e50-b832-5bc813f6fdcf","res":{"statusCode":429},"responseTime":1,"msg":"GET /billing/subscription -> 429"}
{"level":30,"time":1766844008211,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"2d7e1640-ea5b-4ecb-8b8c-f55b317a264c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"2d7e1640-ea5b-4ecb-8b8c-f55b317a264c","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1766844008211,"pid":187469,"hostname":"codespaces-242710","req":{"requestId":"2d7e1640-ea5b-4ecb-8b8c-f55b317a264c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"2d7e1640-ea5b-4ecb-8b8c-f55b317a264c","requestId":"2a44319c-215b-4da7-a679-3e9fc4a2201d","res":{"statusCode":429},"responseTime":0,"msg":"GET /billing/subscription -> 429"}
{"level":"info","time":1766844008211,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":429,"durationMs":0,"requestId":"2a44319c-215b-4da7-a679-3e9fc4a2201d","route":"/billing/subscription"}
PASS test/blackbox/billing.blackbox.e2e-spec.ts
PASS test/e2e/minimal-harness.e2e-spec.ts
  ● Console

    console.log
      [HARNESS] Starting minimal module compilation...

      at Object.<anonymous> (e2e/minimal-harness.e2e-spec.ts:31:13)

    console.log
      [HARNESS] Module compiled in 2ms

      at Object.<anonymous> (e2e/minimal-harness.e2e-spec.ts:38:13)

    console.log
      [HARNESS] App initialized in 33ms total

      at Object.<anonymous> (e2e/minimal-harness.e2e-spec.ts:43:13)

    console.log
      [HARNESS] App closed successfully

      at Object.<anonymous> (e2e/minimal-harness.e2e-spec.ts:48:13)

{"level":"info","time":1766844009607,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":108,"requestId":"2a532f8c-0ec2-4755-a0c9-7f885e187bc9","route":"/auth/login"}
FAIL test/e2e/workforce.e2e-spec.ts
  ● Workforce E2E › should clock in → clock out

    expected 201 "Created", got 404 "Not Found"

      58 |       .post('/workforce/attendance/clock-in')
      59 |       .set('Authorization', `Bearer ${waiterToken}`)
    > 60 |       .expect(201);
         |        ^
      61 |
      62 |     const _attendanceId = clockInResponse.body.id;
      63 |     expect(clockInResponse.body.clockIn).toBeDefined();

      at Object.<anonymous> (e2e/workforce.e2e-spec.ts:60:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

{"level":"info","time":1766844009788,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":179,"requestId":"9ffaa033-1c64-45b5-b537-bb199e2641de","route":"/auth/login"}
{"level":"info","time":1766844009803,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/workforce/attendance/clock-in","statusCode":404,"durationMs":6,"requestId":"97a0efde-12d3-4f40-9726-e4dffc0439e5"}
PASS test/e2e/webhook.replay.slice.e2e-spec.ts
FAIL test/e2e/transfer.invalidation.slice.e2e-spec.ts
  ● Transfer Invalidation (Slice E2E) — E22.D › POST /transfer-test/event -> 401 without token

    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.

    Potential solutions:
    - Is TransferEventsTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModule({
         |                    ^
      23 |       imports: [
      24 |         // minimal prod deps for parityObservabilityModule, AuthModule,
      25 |         // test-only modules

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:22:20)

  ● Transfer Invalidation (Slice E2E) — E22.D › POST /transfer-test/event -> 200 {ok:false} on invalid payload

    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.

    Potential solutions:
    - Is TransferEventsTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModule({
         |                    ^
      23 |       imports: [
      24 |         // minimal prod deps for parityObservabilityModule, AuthModule,
      25 |         // test-only modules

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:22:20)

  ● Transfer Invalidation (Slice E2E) — E22.D › HIT → transfer.changed → MISS (forecast cache proves invalidation)

    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.

    Potential solutions:
    - Is TransferEventsTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModule({
         |                    ^
      23 |       imports: [
      24 |         // minimal prod deps for parityObservabilityModule, AuthModule,
      25 |         // test-only modules

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:22:20)

  ● Transfer Invalidation (Slice E2E) — E22.D › Idempotency: repeating same event still returns ok:true

    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.

    Potential solutions:
    - Is TransferEventsTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModule({
         |                    ^
      23 |       imports: [
      24 |         // minimal prod deps for parityObservabilityModule, AuthModule,
      25 |         // test-only modules

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:22:20)

  ● Transfer Invalidation (Slice E2E) — E22.D › Deterministic rate limit: >= one 429 on /forecast-test/sales

    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.

    Potential solutions:
    - Is TransferEventsTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModule({
         |                    ^
      23 |       imports: [
      24 |         // minimal prod deps for parityObservabilityModule, AuthModule,
      25 |         // test-only modules

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:22:20)

PASS test/e2e/sse.smoke.e2e-spec.ts
FAIL test/e2e/reservations.slice.e2e-spec.ts
  ● Reservations (Slice E2E) › GET /reservations -> 401 without token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › GET /reservations -> 200 with token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › POST /reservations -> 201 (create booking)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › POST /reservations -> 400/422 (invalid payload)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › POST /reservations/:id/confirm -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › POST /reservations/:id/cancel -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › POST /reservations/:id/seat -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › GET /reservations?status=CONFIRMED -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › GET /reservations?from=2025-11-13&to=2025-11-14 -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › GET /reservations/summary?from=2025-11-01&to=2025-11-30 -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › GET /reservations-test/availability?date=2025-11-13&party=2 -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › GET /reservations-test/availability?date=2025-11-13&party=6 -> 200 (fewer slots)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › Rate limiting produces >= one 429 on /reservations

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

FAIL test/e2e/reports.e2e-spec.ts
  ● Reports E2E › should fetch X report (shift summary)

    expected 200 "OK", got 404 "Not Found"

      48 |       .get('/reports/x-report')
      49 |       .set('Authorization', `Bearer ${authToken}`)
    > 50 |       .expect(200);
         |        ^
      51 |
      52 |     expect(response.body).toBeDefined();
      53 |     expect(response.body.shift).toBeDefined();

      at Object.<anonymous> (e2e/reports.e2e-spec.ts:50:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Reports E2E › should fetch owner overview

    expected 200 "OK", got 404 "Not Found"

      62 |         endDate: '2025-01-31',
      63 |       })
    > 64 |       .expect(200);
         |        ^
      65 |
      66 |     expect(response.body).toBeDefined();
      67 |   });

      at Object.<anonymous> (e2e/reports.e2e-spec.ts:64:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

{"level":"info","time":1766844013066,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":163,"requestId":"37f8a348-5120-4a06-bc1f-dd13274898ce","route":"/auth/login"}
{"level":"info","time":1766844013077,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/reports/x-report","statusCode":404,"durationMs":5,"requestId":"e0798ac5-3b97-4fb9-9bb5-1327ffd5b677"}
{"level":"info","time":1766844013084,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/reports/owner-overview?startDate=2025-01-01&endDate=2025-01-31","statusCode":404,"durationMs":3,"requestId":"f0b0c741-07c8-4203-8db9-afa6a4de5d40"}
PASS test/e2e/purchasing.slice.e2e-spec.ts
  ● Console

    console.log
      Rate limit test results: { '401': 20 }

      at Object.<anonymous> (e2e/purchasing.slice.e2e-spec.ts:102:15)

    console.warn
      WARNING: No 429 responses observed. Rate limiter may not be active (auth guard runs first).

      104 |       // Verify we actually got some 429s (not just 401s)
      105 |       if (!has429) {
    > 106 |         console.warn('WARNING: No 429 responses observed. Rate limiter may not be active (auth guard runs first).');
          |                 ^
      107 |       }
      108 |     });
      109 |   });

      at Object.<anonymous> (e2e/purchasing.slice.e2e-spec.ts:106:17)

FAIL test/e2e/pos.e2e-spec.ts
  ● POS E2E › should create order → send-to-kitchen → close

    TypeError: Cannot read properties of undefined (reading 'upsert')

      236 |  */
      237 | export async function createFloor(prisma: PrismaClient, orgId: string, branchId: string) {
    > 238 |   const floorPlan = await prisma.floorPlan.upsert({
          |                                            ^
      239 |     where: { id: `floor-e2e-${orgId}` },
      240 |     update: {},
      241 |     create: {

      at createFloor (e2e/factory.ts:238:44)
      at Object.<anonymous> (e2e/pos.e2e-spec.ts:36:36)

FAIL test/e2e/pos-isolation.e2e-spec.ts
  ● PosModule isolation test › should compile PosModule to show exact failing provider

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

       8 | describe('PosModule isolation test', () => {
       9 |   it('should compile PosModule to show exact failing provider', async () => {
    > 10 |     const moduleRef = await createE2ETestingModule({
         |                       ^
      11 |       imports: [PosModule],
      12 |     });
      13 |     await moduleRef.init();

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/pos-isolation.e2e-spec.ts:10:23)

FAIL test/e2e/pos-imports-bisect.e2e-spec.ts
  ● PosModule imports bisect › should test all PosModule imports together

    Nest can't resolve dependencies of the EfrisService (PrismaService, ?). Please make sure that the argument ConfigService at index [1] is available in the EfrisModule context.

    Potential solutions:
    - Is EfrisModule a valid NestJS module?
    - If ConfigService is a provider, is it part of the current EfrisModule?
    - If ConfigService is exported from a separate @Module, is that module imported within EfrisModule?
      @Module({
        imports: [ /* the Module containing ConfigService */ ]
      })

      14 | describe('PosModule imports bisect', () => {
      15 |   it('should test all PosModule imports together', async () => {
    > 16 |     const moduleRef = await createE2ETestingModule({
         |                       ^
      17 |       imports: [
      18 |         EfrisModule,
      19 |         ConfigModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/pos-imports-bisect.e2e-spec.ts:16:23)

FAIL test/e2e/payments.slice.e2e-spec.ts
  ● Payments (Slice E2E) › GET /payments -> 401 without token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › GET /payments -> 200 with token (lists payments)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › GET /payments/pay_001 -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › GET /payments/pay_missing -> 404/400 (invalid id)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments -> 201 (create payment)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments -> 400/422 (invalid payload)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments/pay_001/capture -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments/pay_001/refund -> 201

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments/intents -> 201 (create intent)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments/intents/pi_001/cancel -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments-test-webhook/gateway -> 200 (valid HMAC)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments-test-webhook/gateway -> 200 { ok:false } (bad HMAC)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments-test-webhook/gateway -> 200 { ok:false } (missing signature)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › Rate limiting produces >= one 429 on /payments

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

FAIL test/e2e/orders.slice.e2e-spec.ts
  ● Orders (Slice E2E) › POST /pos/orders -> 401 without token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders -> 201 with token (creates open order)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/send-to-kitchen -> 401 without token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/modify -> 401 without token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/send-to-kitchen -> 200/201 (sends to kitchen)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/modify -> 200 (modifies order)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/void -> 200 (voids order)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/close -> 200 (closes order)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/discount -> 200 (applies discount)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/post-close-void -> 200 (voids closed order)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders -> 400/422 (bad payload)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/invalid-id/send-to-kitchen -> 404/400 (invalid order id)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/ord_001/modify -> 400/422 (bad modify payload)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › Rate limiting produces >= one 429 on /pos/orders

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

PASS test/e2e/metrics.e2e-spec.ts
FAIL test/e2e/kds.slice.e2e-spec.ts
  ● KDS (Slice E2E) › GET /kds-test/tickets without token -> 200 (test controller)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › GET /kds-test/tickets -> 200 with token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › GET /kds-test/tickets/tkt-001 -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › GET /kds-test/tickets/tkt-missing -> 404

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › POST /kds-test/tickets/tkt-001/ack -> 200 (ACK)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › POST /kds-test/tickets/tkt-001/bump -> 200 (BUMPED)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › POST /kds-test/tickets/tkt-001/expo -> 200 (EXPO)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › POST /kds-test/screens/scr-001/heartbeat -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › Rate limiting produces >= one 429 on /kds-test/tickets

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

FAIL test/e2e/inventory.slice.e2e-spec.ts
  ● Inventory (Slice E2E) — Deterministic › Authentication & Authorization › GET /inventory/items should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Authentication & Authorization › POST /inventory/items should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Authentication & Authorization › POST /inventory/adjustments should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Authentication & Authorization › POST /inventory/wastage should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Rate Limiting › Rate limiting produces >= one 429 deterministically

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Basic Functionality (without auth) › should bootstrap successfully without metatype errors

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Basic Functionality (without auth) › GET /inventory/items should exist (not 404)

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Basic Functionality (without auth) › POST /inventory/items should validate request body

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Basic Functionality (without auth) › POST /inventory/adjustments should validate request body

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Endpoint Availability › GET /inventory/items endpoint exists

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Endpoint Availability › POST /inventory/items endpoint exists

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Endpoint Availability › GET /inventory/levels endpoint exists

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Endpoint Availability › POST /inventory/adjustments endpoint exists

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Endpoint Availability › POST /inventory/wastage endpoint exists

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

FAIL test/e2e/inventory.e2e-spec.ts
  ● Inventory E2E › should receive PO → on-hand increases

    expected 200 "OK", got 404 "Not Found"

      57 |       .get(`/inventory/items/${beefId}`)
      58 |       .set('Authorization', `Bearer ${authToken}`)
    > 59 |       .expect(200);
         |        ^
      60 |
      61 |     const initialOnHand = initialResponse.body.onHand || 0;
      62 |

      at Object.<anonymous> (e2e/inventory.e2e-spec.ts:59:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

{"level":"info","time":1766844018502,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":123,"requestId":"c4f853e1-ff43-4fc3-ad3a-486de4f69748","route":"/auth/login"}
{"level":"info","time":1766844018513,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/inventory/items/beef-cmjo545si0037fwk5b46m83e0","statusCode":404,"durationMs":5,"requestId":"1e0c59d0-cae7-4037-8e9c-bdb9fa557f23"}
FAIL test/e2e/inventory-kpis.e2e-spec.ts
  ● InventoryModule + KpisModule test › should compile these modules together

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

       8 | describe('InventoryModule + KpisModule test', () => {
       9 |   it('should compile these modules together', async () => {
    > 10 |     const moduleRef = await createE2ETestingModule({
         |                       ^
      11 |       imports: [InventoryModule, KpisModule],
      12 |     });
      13 |     await moduleRef.init();

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory-kpis.e2e-spec.ts:10:23)

FAIL test/e2e/franchise.slice.e2e-spec.ts
  ● Franchise (Slice E2E) › GET /franchise/overview -> 401 without token

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › GET /franchise/overview -> 200

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › GET /franchise/rankings -> 200

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › GET /franchise/budgets -> 200

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › Two reads of /franchise/overview return consistent payload shape

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › POST /franchise-test/invalidate -> { ok:true }

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › GET /franchise/overview after invalidation -> 200

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › GET /franchise/forecast/items -> 200

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › Rate limiting produces >= one 429 on /franchise/overview

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

FAIL test/e2e/franchise-rankings-cache.e2e-spec.ts
  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should return cached=false on first call (cache miss)

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |   async function setupTestData() {
      59 |     // Create test organization
    > 60 |     const org = await prisma.organization.create({
         |                                           ^
      61 |       data: {
      62 |         name: 'E22B Test Org',
      63 |         slug: `e22b-test-${Date.now()}`,

      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)
      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)

  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should return cached=true on second call within TTL (cache hit)

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |   async function setupTestData() {
      59 |     // Create test organization
    > 60 |     const org = await prisma.organization.create({
         |                                           ^
      61 |       data: {
      62 |         name: 'E22B Test Org',
      63 |         slug: `e22b-test-${Date.now()}`,

      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)
      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)

  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should return same data structure on cache hit and miss

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |   async function setupTestData() {
      59 |     // Create test organization
    > 60 |     const org = await prisma.organization.create({
         |                                           ^
      61 |       data: {
      62 |         name: 'E22B Test Org',
      63 |         slug: `e22b-test-${Date.now()}`,

      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)
      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)

  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should cache separately for different periods

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |   async function setupTestData() {
      59 |     // Create test organization
    > 60 |     const org = await prisma.organization.create({
         |                                           ^
      61 |       data: {
      62 |         name: 'E22B Test Org',
      63 |         slug: `e22b-test-${Date.now()}`,

      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)
      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)

  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should return error for invalid period format

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |   async function setupTestData() {
      59 |     // Create test organization
    > 60 |     const org = await prisma.organization.create({
         |                                           ^
      61 |       data: {
      62 |         name: 'E22B Test Org',
      63 |         slug: `e22b-test-${Date.now()}`,

      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)
      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)

  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should measure response time difference between miss and hit

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |   async function setupTestData() {
      59 |     // Create test organization
    > 60 |     const org = await prisma.organization.create({
         |                                           ^
      61 |       data: {
      62 |         name: 'E22B Test Org',
      63 |         slug: `e22b-test-${Date.now()}`,

      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)
      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)

FAIL test/e2e/franchise-cache-invalidation.e2e-spec.ts
  ● E22.D - Franchise Cache Invalidation (e2e) › Budget Update Invalidation › should invalidate budgets cache after budget update

    TypeError: Cannot read properties of undefined (reading 'create')

      57 |   async function setupTestData() {
      58 |     // Create test organization
    > 59 |     const org = await prisma.organization.create({
         |                                           ^
      60 |       data: {
      61 |         name: 'E22D Test Org',
      62 |         slug: `e22d-test-${Date.now()}`,

      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)
      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)

  ● E22.D - Franchise Cache Invalidation (e2e) › Budget Update Invalidation › should not affect other cache prefixes when updating budgets

    TypeError: Cannot read properties of undefined (reading 'create')

      57 |   async function setupTestData() {
      58 |     // Create test organization
    > 59 |     const org = await prisma.organization.create({
         |                                           ^
      60 |       data: {
      61 |         name: 'E22D Test Org',
      62 |         slug: `e22d-test-${Date.now()}`,

      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)
      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)

  ● E22.D - Franchise Cache Invalidation (e2e) › Cache Miss After Invalidation › should return fresh data after cache invalidation

    TypeError: Cannot read properties of undefined (reading 'create')

      57 |   async function setupTestData() {
      58 |     // Create test organization
    > 59 |     const org = await prisma.organization.create({
         |                                           ^
      60 |       data: {
      61 |         name: 'E22D Test Org',
      62 |         slug: `e22d-test-${Date.now()}`,

      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)
      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)

  ● E22.D - Franchise Cache Invalidation (e2e) › Multiple Invalidations › should handle multiple rapid invalidations without errors

    TypeError: Cannot read properties of undefined (reading 'create')

      57 |   async function setupTestData() {
      58 |     // Create test organization
    > 59 |     const org = await prisma.organization.create({
         |                                           ^
      60 |       data: {
      61 |         name: 'E22D Test Org',
      62 |         slug: `e22d-test-${Date.now()}`,

      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)
      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)

FAIL test/e2e/franchise-budgets-cache.e2e-spec.ts
  ● E22.C - Franchise Budgets Caching (e2e) › should return cached=false on first call (cache miss)

    TypeError: Cannot read properties of undefined (reading 'create')

      60 |   async function setupTestData() {
      61 |     // Create test organization
    > 62 |     const org = await prisma.organization.create({
         |                                           ^
      63 |       data: {
      64 |         name: 'E22C Test Org',
      65 |         slug: `e22c-test-${Date.now()}`,

      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)
      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)

  ● E22.C - Franchise Budgets Caching (e2e) › should return cached=true on second call within TTL (cache hit)

    TypeError: Cannot read properties of undefined (reading 'create')

      60 |   async function setupTestData() {
      61 |     // Create test organization
    > 62 |     const org = await prisma.organization.create({
         |                                           ^
      63 |       data: {
      64 |         name: 'E22C Test Org',
      65 |         slug: `e22c-test-${Date.now()}`,

      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)
      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)

  ● E22.C - Franchise Budgets Caching (e2e) › should maintain data structure consistency between cached and non-cached responses

    TypeError: Cannot read properties of undefined (reading 'create')

      60 |   async function setupTestData() {
      61 |     // Create test organization
    > 62 |     const org = await prisma.organization.create({
         |                                           ^
      63 |       data: {
      64 |         name: 'E22C Test Org',
      65 |         slug: `e22c-test-${Date.now()}`,

      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)
      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)

  ● E22.C - Franchise Budgets Caching (e2e) › should use different cache keys for different periods

    TypeError: Cannot read properties of undefined (reading 'create')

      60 |   async function setupTestData() {
      61 |     // Create test organization
    > 62 |     const org = await prisma.organization.create({
         |                                           ^
      63 |       data: {
      64 |         name: 'E22C Test Org',
      65 |         slug: `e22c-test-${Date.now()}`,

      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)
      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)

  ● E22.C - Franchise Budgets Caching (e2e) › should return error for invalid period format

    TypeError: Cannot read properties of undefined (reading 'create')

      60 |   async function setupTestData() {
      61 |     // Create test organization
    > 62 |     const org = await prisma.organization.create({
         |                                           ^
      63 |       data: {
      64 |         name: 'E22C Test Org',
      65 |         slug: `e22c-test-${Date.now()}`,

      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)
      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)

  ● E22.C - Franchise Budgets Caching (e2e) › cache hit should be significantly faster than cache miss

    TypeError: Cannot read properties of undefined (reading 'create')

      60 |   async function setupTestData() {
      61 |     // Create test organization
    > 62 |     const org = await prisma.organization.create({
         |                                           ^
      63 |       data: {
      64 |         name: 'E22C Test Org',
      65 |         slug: `e22c-test-${Date.now()}`,

      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)
      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)

PASS test/e2e/forecast.slice.e2e-spec.ts
PASS test/e2e/events-isolation.e2e-spec.ts
  ● Console

    console.log
      EventsModule: [class EventsModule]

      at Object.<anonymous> (e2e/events-isolation.e2e-spec.ts:10:13)

    console.log
      EventsModule is constructor: true

      at Object.<anonymous> (e2e/events-isolation.e2e-spec.ts:11:13)

PASS test/e2e/docs.e2e-spec.ts
FAIL test/e2e/devportal.slice.e2e-spec.ts
  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › GET /dev/keys without token -> 200 (test controller)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › GET /dev/keys -> 200 with token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev/keys -> 201 (create)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev/keys -> 400 (invalid payload)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev/keys/key_1/revoke -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › Plan-aware limit hits 429 for free but not for pro (same burst)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev-webhook/events -> 200 { ok:true } (valid HMAC)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev-webhook/events -> 200 { ok:false } (bad HMAC)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev-webhook/events -> 200 { ok:false } (missing signature)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › GET /dev/keys returns multiple keys with plan info

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev/keys with pro plan -> 201

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

FAIL test/e2e/devportal.prod.slice.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../../src/dev-portal/ports/devportal.port' from 'e2e/devportal.prod.slice.e2e-spec.ts'

      15 | import { SuperDevGuard } from '../../src/dev-portal.disabled/guards/super-dev.guard'; // Fixed: was dev-portal (now disabled)
      16 | import { signBody } from '../payments/webhook.hmac';
    > 17 | import { DevPortalKeyRepo } from '../../src/dev-portal/ports/devportal.port';
         | ^
      18 | import { TestBypassAuthGuard } from '../devportal/auth-override.guard';
      19 | import { cleanup } from '../helpers/cleanup';
      20 |

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (e2e/devportal.prod.slice.e2e-spec.ts:17:1)

FAIL test/e2e/bookings.e2e-spec.ts
  ● Bookings E2E › should create booking → HOLD → pay → confirm

    TypeError: Cannot read properties of undefined (reading 'upsert')

      327 |  */
      328 | export async function createEvent(prisma: PrismaClient, orgId: string, branchId: string) {
    > 329 |   const event = await prisma.event.upsert({
          |                                    ^
      330 |     where: { id: `event-${orgId}` },
      331 |     update: {},
      332 |     create: {

      at createEvent (e2e/factory.ts:329:36)
      at Object.<anonymous> (e2e/bookings.e2e-spec.ts:33:36)

FAIL test/e2e/billing.slice.e2e-spec.ts
  ● Billing (Slice E2E) — Deterministic › Authentication & Authorization › POST /billing/plan/change should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Authentication & Authorization › POST /billing/cancel should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Authentication & Authorization › GET /billing/subscription should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Rate Limiting › Rate limiting produces >= one 429 deterministically

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Basic Functionality (without auth) › should bootstrap successfully without metatype errors

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Basic Functionality (without auth) › should have billing controller mounted at /billing

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Basic Functionality (without auth) › POST /billing/plan/change should validate request body

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Basic Functionality (without auth) › POST /billing/cancel should be idempotent

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Endpoint Availability › GET /billing/subscription endpoint exists

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Endpoint Availability › POST /billing/plan/change endpoint exists

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Endpoint Availability › POST /billing/cancel endpoint exists

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

FAIL test/e2e/billing.e2e-spec.ts
  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 401 if no authorization token is provided

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 403 if user is not L5 (owner)

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 200 and log plan change for L5 owner

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 404 for non-existent plan code

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 429 after exceeding plan-aware rate limit (burst)

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/cancel › should return 401 if no authorization token is provided

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/cancel › should return 403 if user is not L5 (owner)

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/cancel › should return 200 and log cancellation for L5 owner

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/cancel › should be idempotent (canceling twice returns 200)

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › GET /billing/subscription › should return 401 if no authorization token is provided

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › GET /billing/subscription › should return 200 with subscription details for authenticated user

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

FAIL test/e2e/badge-revocation.e2e-spec.ts
  ● Console

    console.log
      prisma:error 
      Invalid `prisma.client.org.create()` invocation in
      /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39
      
        46 
        47 async function setupTestData() {
        48   // Create test organization
      → 49   testOrg = await prisma.client.org.create(
      Unique constraint failed on the fields: (`slug`)

      at Object.mc (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:21:432)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should authenticate via badge swipe and include badgeId in token

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should access protected endpoint with valid token

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should reject login with REVOKED badge

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should invalidate existing token when badge is revoked (< 2s)

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should allow new login after badge revocation with updated version

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should invalidate sessions when badge is reported LOST

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should NOT reinstate old tokens when badge is RETURNED

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Session Version Validation › should reject token with mismatched session version

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Performance & Timing › should invalidate session within 2 seconds (E25 requirement)

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)


  ● Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'id')

      124 |     // Delete in dependency order
      125 |     await prisma.client.employeeProfile.deleteMany({
    > 126 |       where: { userId: testUser.id },
          |                                 ^
      127 |     });
      128 |     await prisma.client.badgeAsset.deleteMany({
      129 |       where: { orgId: testOrg.id },

      at cleanupTestData (e2e/badge-revocation.e2e-spec.ts:126:33)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:43:11)

PASS test/e2e/auth.slice.e2e-spec.ts
  ● Console

    console.warn
      WARNING: No 429 responses observed. Rate limiter may not be active (auth guard runs first).

      224 |       const has429 = codes.includes(429);
      225 |       if (!has429) {
    > 226 |         console.warn('WARNING: No 429 responses observed. Rate limiter may not be active (auth guard runs first).');
          |                 ^
      227 |         console.log('Rate limit test results:', codes.reduce((acc, code) => {
      228 |           acc[code] = (acc[code] || 0) + 1;
      229 |           return acc;

      at Object.<anonymous> (e2e/auth.slice.e2e-spec.ts:226:17)

    console.log
      Rate limit test results: { '200': 7 }

      at Object.<anonymous> (e2e/auth.slice.e2e-spec.ts:227:17)

{"level":"info","time":1766844032471,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":199,"requestId":"3bbc7217-2f9b-4548-ad67-8ca793dc589a","route":"/auth/login"}
PASS test/e2e/auth.e2e-spec.ts
FAIL test/e2e/app-bisect.e2e-spec.ts
  ● Test suite failed to run

    AppModule.imports not accessible; in AppModule, add: public static __imports = [ ...imports ]

      11 |
      12 | if (!appModuleImports || !Array.isArray(appModuleImports)) {
    > 13 |   throw new Error('AppModule.imports not accessible; in AppModule, add: public static __imports = [ ...imports ]');
         |         ^
      14 | }
      15 |
      16 | async function tryImports(imports: any[]) {

      at Object.<anonymous> (e2e/app-bisect.e2e-spec.ts:13:9)

{"level":"info","time":1766844032639,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":164,"requestId":"b06db934-c4e9-4e00-a569-0817030afb0a","route":"/auth/login"}
FAIL test/e2e/accounting.e2e-spec.ts
  ● Accounting E2E › should create period → lock → posting blocked

    TypeError: Cannot read properties of undefined (reading 'upsert')

      362 |   const created = [];
      363 |   for (const acc of accounts) {
    > 364 |     const account = await prisma.account.upsert({
          |                                          ^
      365 |       where: { orgId_code: { orgId, code: acc.code } },
      366 |       update: {},
      367 |       create: {

      at createChartOfAccounts (e2e/factory.ts:364:42)
      at Object.<anonymous> (e2e/accounting.e2e-spec.ts:33:32)

FAIL test/m2-shifts-scheduling.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'm2-shifts-scheduling.e2e-spec.ts'

       8 | import { AppModule } from '../src/app.module';
       9 | import { PrismaService } from '../src/prisma.service';
    > 10 | import { cleanup } from '../helpers/cleanup';
         | ^
      11 |
      12 | describe('M2 - Shifts, Scheduling & Stock-Count Gate (E2E)', () => {
      13 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (m2-shifts-scheduling.e2e-spec.ts:10:1)

FAIL test/m1-kds-enterprise.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'm1-kds-enterprise.e2e-spec.ts'

      3 | import request from 'supertest';
      4 | import { AppModule } from '../src/app.module';
    > 5 | import { cleanup } from '../helpers/cleanup';
        | ^
      6 |
      7 | /**
      8 |  * M1-KDS: Enterprise-grade KDS tests

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (m1-kds-enterprise.e2e-spec.ts:5:1)

FAIL test/e37-promotions.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'e37-promotions.e2e-spec.ts'

      4 | import { AppModule } from '../src/app.module';
      5 | import { PrismaService } from '@chefcloud/db';
    > 6 | import { cleanup } from '../helpers/cleanup';
        | ^
      7 |
      8 | describe('E37 - Promotions & Pricing Engine (e2e)', () => {
      9 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (e37-promotions.e2e-spec.ts:6:1)

FAIL test/e27-costing.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'e27-costing.e2e-spec.ts'

      4 | import { AppModule } from '../src/app.module';
      5 | import { PrismaService } from '../src/prisma.service';
    > 6 | import { cleanup } from '../helpers/cleanup';
        | ^
      7 |
      8 | /**
      9 |  * E2E Test for E27-s1: Costing & Profit Engine

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (e27-costing.e2e-spec.ts:6:1)

FAIL test/e26-kpis.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'e26-kpis.e2e-spec.ts'

       5 | import { AppModule } from '../src/app.module';
       6 | import { PrismaService } from '../src/prisma.service';
    >  7 | import { cleanup } from '../helpers/cleanup';
         | ^
       8 |
       9 | describe('E26-s1: Live KPI Streaming (SSE)', () => {
      10 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (e26-kpis.e2e-spec.ts:7:1)

FAIL test/e24-subscriptions.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'e24-subscriptions.e2e-spec.ts'

      3 | import request from 'supertest';
      4 | import { AppModule } from '../src/app.module';
    > 5 | import { cleanup } from '../helpers/cleanup';
        | ^
      6 |
      7 | describe('E24 Subscriptions & Dev Portal (e2e)', () => {
      8 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (e24-subscriptions.e2e-spec.ts:5:1)

FAIL test/e23-roles-access.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'e23-roles-access.e2e-spec.ts'

      4 | import { AppModule } from '../src/app.module';
      5 | import { PrismaService } from '../src/prisma.service';
    > 6 | import { cleanup } from '../helpers/cleanup';
        | ^
      7 |
      8 | describe('E23 Roles & Platform Access (e2e)', () => {
      9 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (e23-roles-access.e2e-spec.ts:6:1)

FAIL test/e22-franchise.e2e-spec.ts
  ● Console

    console.log
      prisma:error 
      Invalid `prisma.client.org.create()` invocation in
      /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41
      
        24 prisma = app.get(PrismaService);
        25 
        26 // Create test org
      → 27 const org = await prisma.client.org.create({
             data: {
               name: "E22 Franchise Org",
               currency: "UGX",
           +   slug: String
             }
           })
      
      Argument `slug` is missing.

      at Object.mc (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:21:432)

    console.log
      prisma:error 
      Invalid `prisma.client.supplier.create()` invocation in
      /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:294:53
      
        291 
        292 beforeAll(async () => {
        293   // Create supplier with packSize and minOrderQty
      → 294   const supplier = await prisma.client.supplier.create({
                data: {
                  name: "Test Supplier",
                  email: "test-supplier@example.com",
                  contactPerson: "John Doe",
                  phone: "+256700000000",
                  leadTimeDays: 3,
                  packSize: 10,
                  minOrderQty: 50,
              +   orgId: String
                }
              })
      
      Argument `orgId` is missing.

      at Object.mc (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:21:432)

    console.log
      prisma:error 
      Invalid `prisma.client.inventoryItem.delete()` invocation in
      /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:344:47
      
        341 await prisma.client.purchaseOrder.deleteMany({ where: { orgId } });
        342 await prisma.client.procurementJob.deleteMany({ where: { orgId } });
        343 await prisma.client.stockBatch.deleteMany({ where: { itemId } });
      → 344 await prisma.client.inventoryItem.delete({
              where: {
                id: undefined,
            ?   orgId_sku?: InventoryItemOrgIdSkuCompoundUniqueInput,
            ?   AND?: InventoryItemWhereInput | InventoryItemWhereInput[],
            ?   OR?: InventoryItemWhereInput[],
            ?   NOT?: InventoryItemWhereInput | InventoryItemWhereInput[],
            ?   orgId?: StringFilter | String,
            ?   sku?: StringNullableFilter | String | Null,
            ?   name?: StringFilter | String,
            ?   unit?: StringFilter | String,
            ?   category?: StringNullableFilter | String | Null,
            ?   reorderLevel?: DecimalFilter | Decimal,
            ?   reorderQty?: DecimalFilter | Decimal,
            ?   isActive?: BoolFilter | Boolean,
            ?   metadata?: JsonNullableFilter,
            ?   createdAt?: DateTimeFilter | DateTime,
            ?   updatedAt?: DateTimeFilter | DateTime,
            ?   stockBatches?: StockBatchListRelationFilter,
            ?   recipeIngredients?: RecipeIngredientListRelationFilter,
            ?   wastageRecords?: WastageListRelationFilter,
            ?   adjustments?: AdjustmentListRelationFilter,
            ?   poItems?: PurchaseOrderItemListRelationFilter,
            ?   receiptLines?: GoodsReceiptLineListRelationFilter,
            ?   spoutCalibrations?: SpoutCalibrationListRelationFilter,
            ?   forecastProfiles?: ForecastProfileListRelationFilter,
            ?   forecastPoints?: ForecastPointListRelationFilter,
            ?   stockMovements?: StockMovementListRelationFilter,
            ?   lowStockConfigs?: LowStockConfigListRelationFilter
              }
            })
      
      Argument `where` of type InventoryItemWhereUniqueInput needs at least one of `id` or `orgId_sku` arguments. Available options are marked with ?.

      at Object.mc (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:21:432)

    console.log
      prisma:error 
      Invalid `prisma.client.franchiseBudget.createMany()` invocation in
      /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:652:45
      
        649 describe('GET /franchise/budgets (NEW)', () => {
        650   beforeAll(async () => {
        651     // Seed new FranchiseBudget records (year/month format)
      → 652     await prisma.client.franchiseBudget.createMany({
                  data: [
                    {
                      orgId: undefined,
                      branchId: undefined,
                      year: 2025,
                      month: 1,
                      category: "NET_SALES",
                      amountCents: 2000000,
                      currencyCode: "UGX"
                    },
                    {
                      orgId: undefined,
                      branchId: undefined,
                      year: 2025,
                      month: 1,
                      category: "NET_SALES",
                      amountCents: 1500000,
                      currencyCode: "UGX"
                    },
                    {
                      orgId: undefined,
                      branchId: undefined,
                      year: 2025,
                      month: 2,
                      category: "NET_SALES",
                      amountCents: 2500000,
                      currencyCode: "UGX"
                    }
                  ]
                })
      
      Argument `orgId` is missing.

      at Object.mc (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:21:432)

    console.log
      prisma:error 
      Invalid `prisma.client.franchiseBudget.createMany()` invocation in
      /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:943:45
      
        940   where: { orgId, year: 2025, month: 1 },
        941 });
        942 
      → 943 await prisma.client.franchiseBudget.createMany({
              data: [
                {
                  orgId: undefined,
                  branchId: undefined,
                  year: 2025,
                  month: 1,
                  category: "NET_SALES",
                  amountCents: 5000000,
                  currencyCode: "UGX"
                },
                {
                  orgId: undefined,
                  branchId: undefined,
                  year: 2025,
                  month: 1,
                  category: "NET_SALES",
                  amountCents: 3000000,
                  currencyCode: "UGX"
                }
              ]
            })
      
      Argument `orgId` is missing.

      at Object.mc (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:21:432)

  ● E22-s2: Franchise APIs (e2e) › POST /franchise/budgets › should upsert a budget for a branch

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › POST /franchise/budgets › should update existing budget on re-upsert

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/budgets › should fetch budgets for a period

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/budgets › should reject invalid period format

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/rankings › should return ranked branches with deterministic ordering

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/procurement/suggest › should return items below safety stock

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/generate-drafts › should generate draft POs with packSize rounding

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/generate-drafts › should generate draft POs with packSize rounding

    PrismaClientValidationError: 
    Invalid `prisma.client.supplier.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:294:53

      291 
      292 beforeAll(async () => {
      293   // Create supplier with packSize and minOrderQty
    → 294   const supplier = await prisma.client.supplier.create({
              data: {
                name: "Test Supplier",
                email: "test-supplier@example.com",
                contactPerson: "John Doe",
                phone: "+256700000000",
                leadTimeDays: 3,
                packSize: 10,
                minOrderQty: 50,
            +   orgId: String
              }
            })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:294:24)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/generate-drafts › should generate drafts for specific branches only

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/generate-drafts › should generate drafts for specific branches only

    PrismaClientValidationError: 
    Invalid `prisma.client.supplier.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:294:53

      291 
      292 beforeAll(async () => {
      293   // Create supplier with packSize and minOrderQty
    → 294   const supplier = await prisma.client.supplier.create({
              data: {
                name: "Test Supplier",
                email: "test-supplier@example.com",
                contactPerson: "John Doe",
                phone: "+256700000000",
                leadTimeDays: 3,
                packSize: 10,
                minOrderQty: 50,
            +   orgId: String
              }
            })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:294:24)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › GET /franchise/procurement/drafts › should list all draft POs with supplier and branch names

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › GET /franchise/procurement/drafts › should list all draft POs with supplier and branch names

    PrismaClientValidationError: 
    Invalid `prisma.client.supplier.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:294:53

      291 
      292 beforeAll(async () => {
      293   // Create supplier with packSize and minOrderQty
    → 294   const supplier = await prisma.client.supplier.create({
              data: {
                name: "Test Supplier",
                email: "test-supplier@example.com",
                contactPerson: "John Doe",
                phone: "+256700000000",
                leadTimeDays: 3,
                packSize: 10,
                minOrderQty: 50,
            +   orgId: String
              }
            })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:294:24)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/approve › should approve draft POs and update status to PLACED

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/approve › should approve draft POs and update status to PLACED

    PrismaClientValidationError: 
    Invalid `prisma.client.supplier.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:294:53

      291 
      292 beforeAll(async () => {
      293   // Create supplier with packSize and minOrderQty
    → 294   const supplier = await prisma.client.supplier.create({
              data: {
                name: "Test Supplier",
                email: "test-supplier@example.com",
                contactPerson: "John Doe",
                phone: "+256700000000",
                leadTimeDays: 3,
                packSize: 10,
                minOrderQty: 50,
            +   orgId: String
              }
            })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:294:24)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/approve › should reject non-owner approval attempts

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/approve › should reject non-owner approval attempts

    PrismaClientValidationError: 
    Invalid `prisma.client.supplier.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:294:53

      291 
      292 beforeAll(async () => {
      293   // Create supplier with packSize and minOrderQty
    → 294   const supplier = await prisma.client.supplier.create({
              data: {
                name: "Test Supplier",
                email: "test-supplier@example.com",
                contactPerson: "John Doe",
                phone: "+256700000000",
                leadTimeDays: 3,
                packSize: 10,
                minOrderQty: 50,
            +   orgId: String
              }
            })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:294:24)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/overview › should return per-branch KPIs and totals for date range

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/overview › should filter by branchIds when provided

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/overview › should default to today when dates omitted

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/overview › should reject non-manager/owner users

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/rankings › should return branches ranked by NET_SALES

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/rankings › should return branches ranked by MARGIN_PERCENT

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/rankings › should apply limit parameter

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/rankings › should reject unsupported metrics

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/rankings › should reject requests without metric parameter

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should return all budgets without filters

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should return all budgets without filters

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:652:45

      649 describe('GET /franchise/budgets (NEW)', () => {
      650   beforeAll(async () => {
      651     // Seed new FranchiseBudget records (year/month format)
    → 652     await prisma.client.franchiseBudget.createMany({
                data: [
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 2000000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 1500000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 2,
                    category: "NET_SALES",
                    amountCents: 2500000,
                    currencyCode: "UGX"
                  }
                ]
              })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:652:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should filter by year and month

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should filter by year and month

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:652:45

      649 describe('GET /franchise/budgets (NEW)', () => {
      650   beforeAll(async () => {
      651     // Seed new FranchiseBudget records (year/month format)
    → 652     await prisma.client.franchiseBudget.createMany({
                data: [
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 2000000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 1500000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 2,
                    category: "NET_SALES",
                    amountCents: 2500000,
                    currencyCode: "UGX"
                  }
                ]
              })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:652:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should filter by branchIds

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should filter by branchIds

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:652:45

      649 describe('GET /franchise/budgets (NEW)', () => {
      650   beforeAll(async () => {
      651     // Seed new FranchiseBudget records (year/month format)
    → 652     await prisma.client.franchiseBudget.createMany({
                data: [
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 2000000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 1500000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 2,
                    category: "NET_SALES",
                    amountCents: 2500000,
                    currencyCode: "UGX"
                  }
                ]
              })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:652:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should allow L4 (Manager) to read budgets

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should allow L4 (Manager) to read budgets

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:652:45

      649 describe('GET /franchise/budgets (NEW)', () => {
      650   beforeAll(async () => {
      651     // Seed new FranchiseBudget records (year/month format)
    → 652     await prisma.client.franchiseBudget.createMany({
                data: [
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 2000000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 1500000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 2,
                    category: "NET_SALES",
                    amountCents: 2500000,
                    currencyCode: "UGX"
                  }
                ]
              })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:652:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › PUT /franchise/budgets (bulk upsert) › should create new budgets

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › PUT /franchise/budgets (bulk upsert) › should update existing budgets (idempotent)

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › PUT /franchise/budgets (bulk upsert) › should reject L4 (Manager) from upserting budgets

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › PUT /franchise/budgets (bulk upsert) › should validate year range (2000-9999)

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › PUT /franchise/budgets (bulk upsert) › should validate month range (1-12)

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should calculate variance for all branches

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should calculate variance for all branches

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:943:45

      940   where: { orgId, year: 2025, month: 1 },
      941 });
      942 
    → 943 await prisma.client.franchiseBudget.createMany({
            data: [
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 5000000,
                currencyCode: "UGX"
              },
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 3000000,
                currencyCode: "UGX"
              }
            ]
          })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:943:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should filter variance by branchIds

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should filter variance by branchIds

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:943:45

      940   where: { orgId, year: 2025, month: 1 },
      941 });
      942 
    → 943 await prisma.client.franchiseBudget.createMany({
            data: [
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 5000000,
                currencyCode: "UGX"
              },
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 3000000,
                currencyCode: "UGX"
              }
            ]
          })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:943:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should return empty array when no budgets exist

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should return empty array when no budgets exist

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:943:45

      940   where: { orgId, year: 2025, month: 1 },
      941 });
      942 
    → 943 await prisma.client.franchiseBudget.createMany({
            data: [
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 5000000,
                currencyCode: "UGX"
              },
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 3000000,
                currencyCode: "UGX"
              }
            ]
          })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:943:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should require year parameter

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should require year parameter

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:943:45

      940   where: { orgId, year: 2025, month: 1 },
      941 });
      942 
    → 943 await prisma.client.franchiseBudget.createMany({
            data: [
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 5000000,
                currencyCode: "UGX"
              },
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 3000000,
                currencyCode: "UGX"
              }
            ]
          })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:943:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should require month parameter

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should require month parameter

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:943:45

      940   where: { orgId, year: 2025, month: 1 },
      941 });
      942 
    → 943 await prisma.client.franchiseBudget.createMany({
            data: [
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 5000000,
                currencyCode: "UGX"
              },
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 3000000,
                currencyCode: "UGX"
              }
            ]
          })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:943:9)


  ● Test suite failed to run

    PrismaClientValidationError: 
    Invalid `prisma.client.inventoryItem.delete()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:344:47

      341 await prisma.client.purchaseOrder.deleteMany({ where: { orgId } });
      342 await prisma.client.procurementJob.deleteMany({ where: { orgId } });
      343 await prisma.client.stockBatch.deleteMany({ where: { itemId } });
    → 344 await prisma.client.inventoryItem.delete({
            where: {
              id: undefined,
          ?   orgId_sku?: InventoryItemOrgIdSkuCompoundUniqueInput,
          ?   AND?: InventoryItemWhereInput | InventoryItemWhereInput[],
          ?   OR?: InventoryItemWhereInput[],
          ?   NOT?: InventoryItemWhereInput | InventoryItemWhereInput[],
          ?   orgId?: StringFilter | String,
          ?   sku?: StringNullableFilter | String | Null,
          ?   name?: StringFilter | String,
          ?   unit?: StringFilter | String,
          ?   category?: StringNullableFilter | String | Null,
          ?   reorderLevel?: DecimalFilter | Decimal,
          ?   reorderQty?: DecimalFilter | Decimal,
          ?   isActive?: BoolFilter | Boolean,
          ?   metadata?: JsonNullableFilter,
          ?   createdAt?: DateTimeFilter | DateTime,
          ?   updatedAt?: DateTimeFilter | DateTime,
          ?   stockBatches?: StockBatchListRelationFilter,
          ?   recipeIngredients?: RecipeIngredientListRelationFilter,
          ?   wastageRecords?: WastageListRelationFilter,
          ?   adjustments?: AdjustmentListRelationFilter,
          ?   poItems?: PurchaseOrderItemListRelationFilter,
          ?   receiptLines?: GoodsReceiptLineListRelationFilter,
          ?   spoutCalibrations?: SpoutCalibrationListRelationFilter,
          ?   forecastProfiles?: ForecastProfileListRelationFilter,
          ?   forecastPoints?: ForecastPointListRelationFilter,
          ?   stockMovements?: StockMovementListRelationFilter,
          ?   lowStockConfigs?: LowStockConfigListRelationFilter
            }
          })

    Argument `where` of type InventoryItemWhereUniqueInput needs at least one of `id` or `orgId_sku` arguments. Available options are marked with ?.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:344:7)

  ● Test suite failed to run

    PrismaClientValidationError: 
    Invalid `prisma.client.order.deleteMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:996:35

      993 
      994 afterAll(async () => {
      995   // Cleanup variance test data
    → 996   await prisma.client.order.deleteMany({
              where: {
                branchId: {
                  in: [
                    undefined,
                    ~~~~~~~~~
                    undefined
                  ]
                },
                createdAt: {
                  gte: new Date("2025-01-01T00:00:00.000Z"),
                  lt: new Date("2025-02-01T00:00:00.000Z")
                }
              }
            })

    Invalid value for argument `in[0]`: Can not use `undefined` value within array. Use `null` or filter out `undefined` values.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                          ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at e.throwValidationError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:10206)
      at od (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:9323)
      at sa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8075)
      at aa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8908)
      at sa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8439)
      at aa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8908)
      at sa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8439)
      at aa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8908)
      at mr (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:6037)
      at vn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:5902)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:10186
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at t._executeRequest (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:10165)
      at Na (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:31:9955)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9639)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9933
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9913
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at t._request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9836)
      at s (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:31:5636)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:31:5864
      at i (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1016)
      at PrismaPromise.then (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1091)

  ● Test suite failed to run

    PrismaClientValidationError: 
    Invalid `prisma.client.order.deleteMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:129:31

      126 
      127 afterAll(async () => {
      128   // Cleanup
    → 129   await prisma.client.order.deleteMany({
              where: {
                branchId: {
                  in: [
                    undefined,
                    ~~~~~~~~~
                    undefined
                  ]
                }
              }
            })

    Invalid value for argument `in[0]`: Can not use `undefined` value within array. Use `null` or filter out `undefined` values.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                          ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at e.throwValidationError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:10206)
      at od (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:9323)
      at sa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8075)
      at aa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8908)
      at sa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8439)
      at aa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8908)
      at sa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8439)
      at aa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8908)
      at mr (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:6037)
      at vn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:5902)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:10186
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at t._executeRequest (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:10165)
      at Na (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:31:9955)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9639)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9933
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9913
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at t._request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9836)
      at s (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:31:5636)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:31:5864
      at i (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1016)
      at PrismaPromise.then (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1091)

FAIL test/billing-simple.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'billing-simple.e2e-spec.ts'

       6 | import { PrismaService } from '../src/prisma.service';
       7 | import { JwtService } from '@nestjs/jwt';
    >  8 | import { cleanup } from '../helpers/cleanup';
         | ^
       9 |
      10 | describe('Billing E2E (E24 - Auth, Authz, Rate Limiting)', () => {
      11 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (billing-simple.e2e-spec.ts:8:1)

FAIL test/b2-apikey.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'b2-apikey.e2e-spec.ts'

      4 | import { AppModule } from '../src/app.module';
      5 | import { PrismaService } from '../src/prisma.service';
    > 6 | import { cleanup } from '../helpers/cleanup';
        | ^
      7 |
      8 | describe('API Key Security (E2E)', () => {
      9 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (b2-apikey.e2e-spec.ts:6:1)

FAIL test/a3-pos.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'a3-pos.e2e-spec.ts'

      3 | import request from 'supertest';
      4 | import { AppModule } from '../src/app.module';
    > 5 | import { cleanup } from '../helpers/cleanup';
        | ^
      6 |
      7 | describe('A3 POS Core (e2e)', () => {
      8 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (a3-pos.e2e-spec.ts:5:1)

Summary of all failing tests
FAIL ./sse-security.e2e-spec.ts
  ● SSE /stream/kpis Security (E26) › Authentication › should return 401 when no token provided

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Authentication › should return 401 with invalid token

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Authorization › should return 403 for L1 (Waiter) role

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Authorization › should allow L4 (Manager) role

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Authorization › should allow L5 (Owner) role

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › SSE Headers › should set correct SSE headers

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Event Emission › should emit at least one KPIs event with valid token

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Org-Scope Isolation › should only stream data for authenticated user's org

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Rate Limiting › should return 429 after exceeding rate limit

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Rate Limiting › should block concurrent connections beyond limit

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › Connection Cleanup › should clean up resources on disconnect

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)

  ● SSE /stream/kpis Security (E26) › CORS › should respect CORS allowlist

    TypeError: Cannot read properties of undefined (reading 'id')

      37 |     // Create test org with users
      38 |     const { org, owner, manager, waiter } = await createOrgWithUsers(prisma, 'sse-test');
    > 39 |     orgId = org.id;
         |                 ^
      40 |
      41 |     // Generate tokens
      42 |     ownerToken = jwtService.sign({

      at Object.<anonymous> (sse-security.e2e-spec.ts:39:17)


  ● Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'delete')

      72 |     await prisma.user.deleteMany({ where: { orgId } });
      73 |     await prisma.branch.deleteMany({ where: { orgId } });
    > 74 |     await prisma.organization.delete({ where: { id: orgId } });
         |                               ^
      75 |     await app.close();
      76 |   });
      77 |

      at Object.<anonymous> (sse-security.e2e-spec.ts:74:31)

FAIL ./webhook-security.e2e-spec.ts
  ● Webhook Security E2E (E24) › Authentication › should reject webhook without signature header

    TypeError: request is not a function

      70 |   describe('Authentication', () => {
      71 |     it('should reject webhook without signature header', async () => {
    > 72 |       const response = await request(app.getHttpServer())
         |                              ^
      73 |         .post('/webhooks/billing')
      74 |         .set('Content-Type', 'application/json')
      75 |         .set('X-Ts', Date.now().toString())

      at Object.<anonymous> (webhook-security.e2e-spec.ts:72:30)

  ● Webhook Security E2E (E24) › Authentication › should reject webhook without timestamp header

    TypeError: request is not a function

      82 |
      83 |     it('should reject webhook without timestamp header', async () => {
    > 84 |       const response = await request(app.getHttpServer())
         |                              ^
      85 |         .post('/webhooks/billing')
      86 |         .set('Content-Type', 'application/json')
      87 |         .set('X-Sig', 'some-signature')

      at Object.<anonymous> (webhook-security.e2e-spec.ts:84:30)

  ● Webhook Security E2E (E24) › Authentication › should reject webhook without request ID header

    TypeError: request is not a function

      93 |
      94 |     it('should reject webhook without request ID header', async () => {
    > 95 |       const response = await request(app.getHttpServer())
         |                              ^
      96 |         .post('/webhooks/billing')
      97 |         .set('Content-Type', 'application/json')
      98 |         .set('X-Sig', 'some-signature')

      at Object.<anonymous> (webhook-security.e2e-spec.ts:95:30)

  ● Webhook Security E2E (E24) › Authentication › should reject webhook with invalid signature

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:107:30)

  ● Webhook Security E2E (E24) › Authentication › should accept webhook with valid signature

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:117:30)

  ● Webhook Security E2E (E24) › Timestamp validation › should reject webhook with stale timestamp (>5 minutes old)

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:132:30)

  ● Webhook Security E2E (E24) › Timestamp validation › should reject webhook with future timestamp (>5 minutes ahead)

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:148:30)

  ● Webhook Security E2E (E24) › Timestamp validation › should accept webhook with timestamp at edge of window (4 minutes old)

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:162:30)

  ● Webhook Security E2E (E24) › Timestamp validation › should reject webhook with invalid timestamp format

    TypeError: request is not a function

      169 |
      170 |     it('should reject webhook with invalid timestamp format', async () => {
    > 171 |       const response = await request(app.getHttpServer())
          |                              ^
      172 |         .post('/webhooks/billing')
      173 |         .set('Content-Type', 'application/json')
      174 |         .set('X-Sig', 'some-signature')

      at Object.<anonymous> (webhook-security.e2e-spec.ts:171:30)

  ● Webhook Security E2E (E24) › Replay protection › should reject duplicate request ID (replay attack)

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:190:31)

  ● Webhook Security E2E (E24) › Replay protection › should allow same payload with different request IDs

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:206:31)

  ● Webhook Security E2E (E24) › Body integrity › should reject webhook with tampered body

    TypeError: request is not a function

      221 |
      222 |       // Send tampered payload with signature from original
    > 223 |       const response = await request(app.getHttpServer())
          |                              ^
      224 |         .post('/webhooks/billing')
      225 |         .set('Content-Type', 'application/json')
      226 |         .set('X-Sig', signature)

      at Object.<anonymous> (webhook-security.e2e-spec.ts:223:30)

  ● Webhook Security E2E (E24) › Body integrity › should handle empty body correctly

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:237:30)

  ● Webhook Security E2E (E24) › Body integrity › should handle complex nested JSON

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:257:30)

  ● Webhook Security E2E (E24) › Multiple webhook endpoints › should protect MTN webhook endpoint

    TypeError: request is not a function

      263 |     it('should protect MTN webhook endpoint', async () => {
      264 |       const payload = { transactionId: 'mtn-123', status: 'completed' };
    > 265 |       const response = await request(app.getHttpServer())
          |                              ^
      266 |         .post('/webhooks/mtn')
      267 |         .set('Content-Type', 'application/json')
      268 |         .send(payload);

      at Object.<anonymous> (webhook-security.e2e-spec.ts:265:30)

  ● Webhook Security E2E (E24) › Multiple webhook endpoints › should protect Airtel webhook endpoint

    TypeError: request is not a function

      274 |     it('should protect Airtel webhook endpoint', async () => {
      275 |       const payload = { transactionId: 'airtel-123', status: 'completed' };
    > 276 |       const response = await request(app.getHttpServer())
          |                              ^
      277 |         .post('/webhooks/airtel')
      278 |         .set('Content-Type', 'application/json')
      279 |         .send(payload);

      at Object.<anonymous> (webhook-security.e2e-spec.ts:276:30)

  ● Webhook Security E2E (E24) › Response format › should return proper success response

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:289:30)

  ● Webhook Security E2E (E24) › Response format › should return proper error response for auth failure

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:302:30)

  ● Webhook Security E2E (E24) › Performance and load › should handle multiple concurrent valid webhooks

    TypeError: request is not a function

      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;
      60 |
    > 61 |     return request(app.getHttpServer())
         |            ^
      62 |       .post('/webhooks/billing')
      63 |       .set('Content-Type', 'application/json')
      64 |       .set('X-Sig', signature)

      at sendWebhook (webhook-security.e2e-spec.ts:61:12)
      at webhook-security.e2e-spec.ts:314:9
          at Function.from (<anonymous>)
      at Object.<anonymous> (webhook-security.e2e-spec.ts:313:30)

FAIL ./b3-multi-tenant.e2e-spec.ts
  ● Multi-Tenant Isolation (E2E) › Cross-org menu item access › should deny user A access to org B menu items with wrong x-org-id

    PrismaClientValidationError: 
    Invalid `prisma.session.create()` invocation in
    /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37

      61   },
      62 });
      63 
    → 64 sessionA = await prisma.session.create({
           data: {
             userId: "cmjodas8e000hmraprswbxh0k",
             token: "token-a-1766844000880",
             expiresAt: new Date("2025-12-28T14:00:00.880Z"),
         +   user: {
         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
         +     connect: UserWhereUniqueInput
         +   }
           }
         })

    Argument `user` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:64:16)

  ● Multi-Tenant Isolation (E2E) › Cross-org menu item access › should return 404 when user A requests org B resource with correct x-org-id

    PrismaClientValidationError: 
    Invalid `prisma.session.create()` invocation in
    /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37

      61   },
      62 });
      63 
    → 64 sessionA = await prisma.session.create({
           data: {
             userId: "cmjodas8e000hmraprswbxh0k",
             token: "token-a-1766844000880",
             expiresAt: new Date("2025-12-28T14:00:00.880Z"),
         +   user: {
         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
         +     connect: UserWhereUniqueInput
         +   }
           }
         })

    Argument `user` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:64:16)

  ● Multi-Tenant Isolation (E2E) › Cross-org menu item access › should allow user A to access org A menu items

    PrismaClientValidationError: 
    Invalid `prisma.session.create()` invocation in
    /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37

      61   },
      62 });
      63 
    → 64 sessionA = await prisma.session.create({
           data: {
             userId: "cmjodas8e000hmraprswbxh0k",
             token: "token-a-1766844000880",
             expiresAt: new Date("2025-12-28T14:00:00.880Z"),
         +   user: {
         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
         +     connect: UserWhereUniqueInput
         +   }
           }
         })

    Argument `user` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:64:16)

  ● Multi-Tenant Isolation (E2E) › Cross-org menu item access › should require x-org-id header

    PrismaClientValidationError: 
    Invalid `prisma.session.create()` invocation in
    /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37

      61   },
      62 });
      63 
    → 64 sessionA = await prisma.session.create({
           data: {
             userId: "cmjodas8e000hmraprswbxh0k",
             token: "token-a-1766844000880",
             expiresAt: new Date("2025-12-28T14:00:00.880Z"),
         +   user: {
         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
         +     connect: UserWhereUniqueInput
         +   }
           }
         })

    Argument `user` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:64:16)

  ● Multi-Tenant Isolation (E2E) › Cross-org data isolation › should not leak org B data when user A lists menu items

    PrismaClientValidationError: 
    Invalid `prisma.session.create()` invocation in
    /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37

      61   },
      62 });
      63 
    → 64 sessionA = await prisma.session.create({
           data: {
             userId: "cmjodas8e000hmraprswbxh0k",
             token: "token-a-1766844000880",
             expiresAt: new Date("2025-12-28T14:00:00.880Z"),
         +   user: {
         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
         +     connect: UserWhereUniqueInput
         +   }
           }
         })

    Argument `user` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:64:16)

  ● Multi-Tenant Isolation (E2E) › Cross-org data isolation › should isolate org B user from org A data

    PrismaClientValidationError: 
    Invalid `prisma.session.create()` invocation in
    /workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts:64:37

      61   },
      62 });
      63 
    → 64 sessionA = await prisma.session.create({
           data: {
             userId: "cmjodas8e000hmraprswbxh0k",
             token: "token-a-1766844000880",
             expiresAt: new Date("2025-12-28T14:00:00.880Z"),
         +   user: {
         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,
         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,
         +     connect: UserWhereUniqueInput
         +   }
           }
         })

    Argument `user` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:64:16)


  ● Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'id')

      152 |     // Cleanup in reverse order
      153 |     await prisma.client.menuItem.deleteMany({ where: { branchId: branchA.id } });
    > 154 |     await prisma.client.menuItem.deleteMany({ where: { branchId: branchB.id } });
          |                                                                          ^
      155 |     await prisma.category.deleteMany({ where: { branchId: branchA.id } });
      156 |     await prisma.category.deleteMany({ where: { branchId: branchB.id } });
      157 |     await prisma.session.deleteMany({ where: { userId: userA.id } });

      at Object.<anonymous> (b3-multi-tenant.e2e-spec.ts:154:74)

FAIL ./e23-platform-access.e2e-spec.ts
  ● E23 Platform Access (e2e) › Public routes bypass › should allow unauthenticated access to /health

    expected 200 "OK", got 404 "Not Found"

      27 |         .get('/health')
      28 |         .set('X-Client-Platform', 'mobile')
    > 29 |         .expect(200);
         |          ^
      30 |     });
      31 |
      32 |     it('should allow unauthenticated access to /health from any platform', async () => {

      at Object.<anonymous> (e23-platform-access.e2e-spec.ts:29:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● E23 Platform Access (e2e) › Public routes bypass › should allow unauthenticated access to /health from any platform

    expected 200 "OK", got 404 "Not Found"

      34 |         .get('/health')
      35 |         .set('X-Client-Platform', 'desktop')
    > 36 |         .expect(200);
         |          ^
      37 |
      38 |       await request(app.getHttpServer()).get('/health').set('X-Client-Platform', 'web').expect(200);
      39 |     });

      at Object.<anonymous> (e23-platform-access.e2e-spec.ts:36:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● E23 Platform Access (e2e) › Platform header handling › should work without X-Client-Platform header (defaults to web)

    expected 200 "OK", got 404 "Not Found"

      53 |         .get('/health')
      54 |         // No X-Client-Platform header
    > 55 |         .expect(200);
         |          ^
      56 |     });
      57 |   });
      58 | });

      at Object.<anonymous> (e23-platform-access.e2e-spec.ts:55:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

FAIL ./auth.e2e-spec.ts
  ● Auth (e2e) › POST /auth/login › should login with valid credentials

    expected 200 "OK", got 401 "Unauthorized"

      40 |           password: 'Owner#123',
      41 |         })
    > 42 |         .expect(200);
         |          ^
      43 |
      44 |       expect(response.body).toHaveProperty('access_token');
      45 |       expect(response.body).toHaveProperty('user');

      at Object.<anonymous> (auth.e2e-spec.ts:42:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Auth (e2e) › POST /auth/pin-login › should login with valid employee code and PIN

    expected 200 "OK", got 401 "Unauthorized"

      91 |           branchId: await getMainBranchId(),
      92 |         })
    > 93 |         .expect(200);
         |          ^
      94 |
      95 |       expect(response.body).toHaveProperty('access_token');
      96 |       expect(response.body.user).toMatchObject({

      at Object.<anonymous> (auth.e2e-spec.ts:93:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Auth (e2e) › POST /auth/msr-swipe › should login with valid badge ID

    expected 200 "OK", got 400 "Bad Request"

      142 |           badgeId: 'CASHIER001',
      143 |         })
    > 144 |         .expect(200);
          |          ^
      145 |
      146 |       expect(response.body).toHaveProperty('access_token');
      147 |       expect(response.body.user).toMatchObject({

      at Object.<anonymous> (auth.e2e-spec.ts:144:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Auth (e2e) › POST /auth/msr-swipe › should reject unknown badge ID

    expected 404 "Not Found", got 400 "Bad Request"

      158 |           badgeId: 'UNKNOWN_BADGE',
      159 |         })
    > 160 |         .expect(404);
          |          ^
      161 |     });
      162 |
      163 |     it('should login with branch verification', async () => {

      at Object.<anonymous> (auth.e2e-spec.ts:160:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Auth (e2e) › POST /auth/msr-swipe › should login with branch verification

    expected 200 "OK", got 400 "Bad Request"

      168 |           branchId: await getMainBranchId(),
      169 |         })
    > 170 |         .expect(200);
          |          ^
      171 |
      172 |       expect(response.body).toHaveProperty('access_token');
      173 |     });

      at Object.<anonymous> (auth.e2e-spec.ts:170:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Auth (e2e) › GET /me › should return user profile with valid token

    expected 200 "OK", got 401 "Unauthorized"

      190 |         .get('/me')
      191 |         .set('Authorization', `Bearer ${accessToken}`)
    > 192 |         .expect(200);
          |          ^
      193 |
      194 |       expect(response.body).toMatchObject({
      195 |         email: 'owner@demo.local',

      at Object.<anonymous> (auth.e2e-spec.ts:192:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Auth (e2e) › POST /devices/register › should allow L4 manager to register a device

    expected 201 "Created", got 401 "Unauthorized"

      235 |           branchId: await getMainBranchId(),
      236 |         })
    > 237 |         .expect(201);
          |          ^
      238 |
      239 |       expect(response.body).toHaveProperty('id');
      240 |       expect(response.body).toHaveProperty('deviceKey');

      at Object.<anonymous> (auth.e2e-spec.ts:237:10)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

FAIL ./plan-rate-limit.e2e-spec.ts
  ● Plan-Aware Rate Limiting E2E › POST /billing/plan/change › should enforce free tier rate limit (10/min)

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

  ● Plan-Aware Rate Limiting E2E › POST /billing/plan/change › should allow pro tier higher limits (60/min)

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

  ● Plan-Aware Rate Limiting E2E › POST /billing/plan/change › should allow enterprise tier highest limits (240/min)

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

  ● Plan-Aware Rate Limiting E2E › POST /billing/cancel › should apply rate limiting to cancel endpoint

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

  ● Plan-Aware Rate Limiting E2E › Rate limit headers › should include Retry-After header in 429 responses

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

  ● Plan-Aware Rate Limiting E2E › Authentication requirement › should reject requests without authentication

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

  ● Plan-Aware Rate Limiting E2E › Metrics › should emit rate limit hit metrics

    PrismaClientValidationError: 
    Invalid `prisma.user.upsert()` invocation in
    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40

      157 });
      158 
      159 // Create test users
    → 160 const freeUser = await prisma.user.upsert({
            where: {
              email: "rate-limit-free@test.local"
            },
            update: {},
            create: {
              email: "rate-limit-free@test.local",
              role: "L5",
              orgId: "cmjodau0u000nmrapi3rj6var",
          +   firstName: String
            }
          })

    Argument `firstName` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)
      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)

FAIL ./m7-service-providers.e2e-spec.ts
  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 1. Service Providers Management › should create a service provider

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 1. Service Providers Management › should create a monthly contract

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 2. Payment Reminders › should generate reminders for active contracts

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 2. Payment Reminders › should list reminders for a branch

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 2. Payment Reminders › should get reminder summary

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 2. Payment Reminders › should mark reminder as paid

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 3. Ops Budget Management › should set a budget for a category

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 3. Ops Budget Management › should compute budget actuals

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 3. Ops Budget Management › should get budget summary

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 3. Ops Budget Management › should get franchise budget summary

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 4. Cost-Cutting Insights › should generate cost insights for a branch

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 4. Cost-Cutting Insights › should generate franchise-wide insights

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 5. Integration with Owner Digests › should include M7 data in franchise digest

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 6. Validation & Error Handling › should validate dueDay for monthly contracts

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 6. Validation & Error Handling › should prevent deleting provider with active contracts

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)

  ● M7: Service Providers, Budgets & Cost Insights (e2e) › 6. Validation & Error Handling › should require budget parameters

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts:54:41

      51 
      52 async function setupTestData() {
      53   // Create test org
    → 54   const org = await prisma.client.org.create({
             data: {
               name: "M7 Test Restaurant",
               email: "m7test@example.com",
           +   slug: String
             }
           })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (m7-service-providers.e2e-spec.ts:54:17)
      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:42:5)


  ● Test suite failed to run

    TypeError: prisma.$disconnect is not a function

      46 |     // Cleanup
      47 |     await cleanupTestData();
    > 48 |     await prisma.$disconnect();
         |                  ^
      49 |     await app.close();
      50 |   });
      51 |

      at Object.<anonymous> (m7-service-providers.e2e-spec.ts:48:18)

FAIL ./msr-card.e2e-spec.ts
  ● MSR Card Management (e2e) › POST /auth/msr/assign › should assign MSR card to employee

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › POST /auth/msr/assign › should reject duplicate card assignment to same employee

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › POST /auth/msr/assign › should reject unauthorized access (no token)

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › POST /auth/msr-swipe › should authenticate with valid MSR card

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › POST /auth/msr-swipe › should reject invalid badge ID

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › GET /auth/msr/cards › should list MSR cards for organization

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › GET /auth/msr/cards › should reject unauthorized access

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › POST /auth/msr/revoke › should revoke MSR card

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● MSR Card Management (e2e) › POST /auth/msr/revoke › should reject unauthorized access

    expected 200 "OK", got 401 "Unauthorized"

      50 |         password: 'Owner#123',
      51 |       })
    > 52 |       .expect(200); // Ensure login succeeds
         |        ^
      53 |
      54 |     ownerToken = loginResponse.body.access_token;
      55 |     orgId = loginResponse.body.user?.orgId || loginResponse.body.user?.org?.id; // Handle both formats

      at Object.<anonymous> (msr-card.e2e-spec.ts:52:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

FAIL e2e/workforce.e2e-spec.ts
  ● Workforce E2E › should clock in → clock out

    expected 201 "Created", got 404 "Not Found"

      58 |       .post('/workforce/attendance/clock-in')
      59 |       .set('Authorization', `Bearer ${waiterToken}`)
    > 60 |       .expect(201);
         |        ^
      61 |
      62 |     const _attendanceId = clockInResponse.body.id;
      63 |     expect(clockInResponse.body.clockIn).toBeDefined();

      at Object.<anonymous> (e2e/workforce.e2e-spec.ts:60:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

FAIL e2e/transfer.invalidation.slice.e2e-spec.ts
  ● Transfer Invalidation (Slice E2E) — E22.D › POST /transfer-test/event -> 401 without token

    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.

    Potential solutions:
    - Is TransferEventsTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModule({
         |                    ^
      23 |       imports: [
      24 |         // minimal prod deps for parityObservabilityModule, AuthModule,
      25 |         // test-only modules

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:22:20)

  ● Transfer Invalidation (Slice E2E) — E22.D › POST /transfer-test/event -> 200 {ok:false} on invalid payload

    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.

    Potential solutions:
    - Is TransferEventsTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModule({
         |                    ^
      23 |       imports: [
      24 |         // minimal prod deps for parityObservabilityModule, AuthModule,
      25 |         // test-only modules

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:22:20)

  ● Transfer Invalidation (Slice E2E) — E22.D › HIT → transfer.changed → MISS (forecast cache proves invalidation)

    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.

    Potential solutions:
    - Is TransferEventsTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModule({
         |                    ^
      23 |       imports: [
      24 |         // minimal prod deps for parityObservabilityModule, AuthModule,
      25 |         // test-only modules

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:22:20)

  ● Transfer Invalidation (Slice E2E) — E22.D › Idempotency: repeating same event still returns ok:true

    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.

    Potential solutions:
    - Is TransferEventsTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModule({
         |                    ^
      23 |       imports: [
      24 |         // minimal prod deps for parityObservabilityModule, AuthModule,
      25 |         // test-only modules

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:22:20)

  ● Transfer Invalidation (Slice E2E) — E22.D › Deterministic rate limit: >= one 429 on /forecast-test/sales

    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.

    Potential solutions:
    - Is TransferEventsTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModule({
         |                    ^
      23 |       imports: [
      24 |         // minimal prod deps for parityObservabilityModule, AuthModule,
      25 |         // test-only modules

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:22:20)

FAIL e2e/reservations.slice.e2e-spec.ts
  ● Reservations (Slice E2E) › GET /reservations -> 401 without token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › GET /reservations -> 200 with token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › POST /reservations -> 201 (create booking)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › POST /reservations -> 400/422 (invalid payload)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › POST /reservations/:id/confirm -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › POST /reservations/:id/cancel -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › POST /reservations/:id/seat -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › GET /reservations?status=CONFIRMED -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › GET /reservations?from=2025-11-13&to=2025-11-14 -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › GET /reservations/summary?from=2025-11-01&to=2025-11-30 -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › GET /reservations-test/availability?date=2025-11-13&party=2 -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › GET /reservations-test/availability?date=2025-11-13&party=6 -> 200 (fewer slots)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

  ● Reservations (Slice E2E) › Rate limiting produces >= one 429 on /reservations

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      19 |
      20 |   beforeAll(async () => {
    > 21 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      22 |       imports: [
      23 |         ReservationsModule,
      24 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/reservations.slice.e2e-spec.ts:21:20)

FAIL e2e/reports.e2e-spec.ts
  ● Reports E2E › should fetch X report (shift summary)

    expected 200 "OK", got 404 "Not Found"

      48 |       .get('/reports/x-report')
      49 |       .set('Authorization', `Bearer ${authToken}`)
    > 50 |       .expect(200);
         |        ^
      51 |
      52 |     expect(response.body).toBeDefined();
      53 |     expect(response.body.shift).toBeDefined();

      at Object.<anonymous> (e2e/reports.e2e-spec.ts:50:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

  ● Reports E2E › should fetch owner overview

    expected 200 "OK", got 404 "Not Found"

      62 |         endDate: '2025-01-31',
      63 |       })
    > 64 |       .expect(200);
         |        ^
      65 |
      66 |     expect(response.body).toBeDefined();
      67 |   });

      at Object.<anonymous> (e2e/reports.e2e-spec.ts:64:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

FAIL e2e/pos.e2e-spec.ts
  ● POS E2E › should create order → send-to-kitchen → close

    TypeError: Cannot read properties of undefined (reading 'upsert')

      236 |  */
      237 | export async function createFloor(prisma: PrismaClient, orgId: string, branchId: string) {
    > 238 |   const floorPlan = await prisma.floorPlan.upsert({
          |                                            ^
      239 |     where: { id: `floor-e2e-${orgId}` },
      240 |     update: {},
      241 |     create: {

      at createFloor (e2e/factory.ts:238:44)
      at Object.<anonymous> (e2e/pos.e2e-spec.ts:36:36)

FAIL e2e/pos-isolation.e2e-spec.ts
  ● PosModule isolation test › should compile PosModule to show exact failing provider

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

       8 | describe('PosModule isolation test', () => {
       9 |   it('should compile PosModule to show exact failing provider', async () => {
    > 10 |     const moduleRef = await createE2ETestingModule({
         |                       ^
      11 |       imports: [PosModule],
      12 |     });
      13 |     await moduleRef.init();

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/pos-isolation.e2e-spec.ts:10:23)

FAIL e2e/pos-imports-bisect.e2e-spec.ts
  ● PosModule imports bisect › should test all PosModule imports together

    Nest can't resolve dependencies of the EfrisService (PrismaService, ?). Please make sure that the argument ConfigService at index [1] is available in the EfrisModule context.

    Potential solutions:
    - Is EfrisModule a valid NestJS module?
    - If ConfigService is a provider, is it part of the current EfrisModule?
    - If ConfigService is exported from a separate @Module, is that module imported within EfrisModule?
      @Module({
        imports: [ /* the Module containing ConfigService */ ]
      })

      14 | describe('PosModule imports bisect', () => {
      15 |   it('should test all PosModule imports together', async () => {
    > 16 |     const moduleRef = await createE2ETestingModule({
         |                       ^
      17 |       imports: [
      18 |         EfrisModule,
      19 |         ConfigModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/pos-imports-bisect.e2e-spec.ts:16:23)

FAIL e2e/payments.slice.e2e-spec.ts
  ● Payments (Slice E2E) › GET /payments -> 401 without token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › GET /payments -> 200 with token (lists payments)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › GET /payments/pay_001 -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › GET /payments/pay_missing -> 404/400 (invalid id)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments -> 201 (create payment)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments -> 400/422 (invalid payload)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments/pay_001/capture -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments/pay_001/refund -> 201

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments/intents -> 201 (create intent)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments/intents/pi_001/cancel -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments-test-webhook/gateway -> 200 (valid HMAC)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments-test-webhook/gateway -> 200 { ok:false } (bad HMAC)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › POST /payments-test-webhook/gateway -> 200 { ok:false } (missing signature)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

  ● Payments (Slice E2E) › Rate limiting produces >= one 429 on /payments

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      106 |
      107 |   beforeAll(async () => {
    > 108 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      109 |       imports: [
      110 |         ConfigModule.forRoot({ isGlobal: true }),
      111 |

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/payments.slice.e2e-spec.ts:108:20)

FAIL e2e/orders.slice.e2e-spec.ts
  ● Orders (Slice E2E) › POST /pos/orders -> 401 without token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders -> 201 with token (creates open order)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/send-to-kitchen -> 401 without token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/modify -> 401 without token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/send-to-kitchen -> 200/201 (sends to kitchen)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/modify -> 200 (modifies order)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/void -> 200 (voids order)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/close -> 200 (closes order)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/discount -> 200 (applies discount)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/:id/post-close-void -> 200 (voids closed order)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders -> 400/422 (bad payload)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/invalid-id/send-to-kitchen -> 404/400 (invalid order id)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › POST /pos/orders/ord_001/modify -> 400/422 (bad modify payload)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

  ● Orders (Slice E2E) › Rate limiting produces >= one 429 on /pos/orders

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      105 |
      106 |   beforeAll(async () => {
    > 107 |     const modRef = await createE2ETestingModuleBuilder({
          |                    ^
      108 |       imports: [
      109 |         ConfigModule.forRoot({ isGlobal: true }),
      110 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 7)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/orders.slice.e2e-spec.ts:107:20)

FAIL e2e/kds.slice.e2e-spec.ts
  ● KDS (Slice E2E) › GET /kds-test/tickets without token -> 200 (test controller)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › GET /kds-test/tickets -> 200 with token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › GET /kds-test/tickets/tkt-001 -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › GET /kds-test/tickets/tkt-missing -> 404

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › POST /kds-test/tickets/tkt-001/ack -> 200 (ACK)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › POST /kds-test/tickets/tkt-001/bump -> 200 (BUMPED)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › POST /kds-test/tickets/tkt-001/expo -> 200 (EXPO)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › POST /kds-test/screens/scr-001/heartbeat -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

  ● KDS (Slice E2E) › Rate limiting produces >= one 429 on /kds-test/tickets

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      18 |
      19 |   beforeAll(async () => {
    > 20 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      21 |       imports: [
      22 |         // minimal shared deps
      23 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/kds.slice.e2e-spec.ts:20:20)

FAIL e2e/inventory.slice.e2e-spec.ts
  ● Inventory (Slice E2E) — Deterministic › Authentication & Authorization › GET /inventory/items should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Authentication & Authorization › POST /inventory/items should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Authentication & Authorization › POST /inventory/adjustments should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Authentication & Authorization › POST /inventory/wastage should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Rate Limiting › Rate limiting produces >= one 429 deterministically

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Basic Functionality (without auth) › should bootstrap successfully without metatype errors

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Basic Functionality (without auth) › GET /inventory/items should exist (not 404)

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Basic Functionality (without auth) › POST /inventory/items should validate request body

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Basic Functionality (without auth) › POST /inventory/adjustments should validate request body

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Endpoint Availability › GET /inventory/items endpoint exists

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Endpoint Availability › POST /inventory/items endpoint exists

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Endpoint Availability › GET /inventory/levels endpoint exists

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Endpoint Availability › POST /inventory/adjustments endpoint exists

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

  ● Inventory (Slice E2E) — Deterministic › Endpoint Availability › POST /inventory/wastage endpoint exists

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory.slice.e2e-spec.ts:24:20)

FAIL e2e/inventory.e2e-spec.ts
  ● Inventory E2E › should receive PO → on-hand increases

    expected 200 "OK", got 404 "Not Found"

      57 |       .get(`/inventory/items/${beefId}`)
      58 |       .set('Authorization', `Bearer ${authToken}`)
    > 59 |       .expect(200);
         |        ^
      60 |
      61 |     const initialOnHand = initialResponse.body.onHand || 0;
      62 |

      at Object.<anonymous> (e2e/inventory.e2e-spec.ts:59:8)
      ----
      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)
      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13
      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)
      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)
      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)

FAIL e2e/inventory-kpis.e2e-spec.ts
  ● InventoryModule + KpisModule test › should compile these modules together

    Nest can't resolve dependencies of the InventoryService (PrismaService, ?, KpisService). Please make sure that the argument CacheInvalidationService at index [1] is available in the InventoryModule context.

    Potential solutions:
    - Is InventoryModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current InventoryModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within InventoryModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

       8 | describe('InventoryModule + KpisModule test', () => {
       9 |   it('should compile these modules together', async () => {
    > 10 |     const moduleRef = await createE2ETestingModule({
         |                       ^
      11 |       imports: [InventoryModule, KpisModule],
      12 |     });
      13 |     await moduleRef.init();

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 3)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/inventory-kpis.e2e-spec.ts:10:23)

FAIL e2e/franchise.slice.e2e-spec.ts
  ● Franchise (Slice E2E) › GET /franchise/overview -> 401 without token

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › GET /franchise/overview -> 200

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › GET /franchise/rankings -> 200

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › GET /franchise/budgets -> 200

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › Two reads of /franchise/overview return consistent payload shape

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › POST /franchise-test/invalidate -> { ok:true }

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › GET /franchise/overview after invalidation -> 200

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › GET /franchise/forecast/items -> 200

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

  ● Franchise (Slice E2E) › Rate limiting produces >= one 429 on /franchise/overview

    Nest can't resolve dependencies of the FranchiseInvalidationTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the FranchiseInvalidationTestModule context.

    Potential solutions:
    - Is FranchiseInvalidationTestModule a valid NestJS module?
    - If CacheInvalidationService is a provider, is it part of the current FranchiseInvalidationTestModule?
    - If CacheInvalidationService is exported from a separate @Module, is that module imported within FranchiseInvalidationTestModule?
      @Module({
        imports: [ /* the Module containing CacheInvalidationService */ ]
      })

      110 |
      111 |   beforeAll(async () => {
    > 112 |     const moduleRef = await createE2ETestingModuleBuilder({
          |                       ^
      113 |       imports: [
      114 |         ThrottlerTestModule,
      115 |         PrismaTestModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13
          at async Promise.all (index 0)
      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/franchise.slice.e2e-spec.ts:112:23)

FAIL e2e/franchise-rankings-cache.e2e-spec.ts
  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should return cached=false on first call (cache miss)

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |   async function setupTestData() {
      59 |     // Create test organization
    > 60 |     const org = await prisma.organization.create({
         |                                           ^
      61 |       data: {
      62 |         name: 'E22B Test Org',
      63 |         slug: `e22b-test-${Date.now()}`,

      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)
      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)

  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should return cached=true on second call within TTL (cache hit)

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |   async function setupTestData() {
      59 |     // Create test organization
    > 60 |     const org = await prisma.organization.create({
         |                                           ^
      61 |       data: {
      62 |         name: 'E22B Test Org',
      63 |         slug: `e22b-test-${Date.now()}`,

      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)
      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)

  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should return same data structure on cache hit and miss

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |   async function setupTestData() {
      59 |     // Create test organization
    > 60 |     const org = await prisma.organization.create({
         |                                           ^
      61 |       data: {
      62 |         name: 'E22B Test Org',
      63 |         slug: `e22b-test-${Date.now()}`,

      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)
      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)

  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should cache separately for different periods

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |   async function setupTestData() {
      59 |     // Create test organization
    > 60 |     const org = await prisma.organization.create({
         |                                           ^
      61 |       data: {
      62 |         name: 'E22B Test Org',
      63 |         slug: `e22b-test-${Date.now()}`,

      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)
      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)

  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should return error for invalid period format

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |   async function setupTestData() {
      59 |     // Create test organization
    > 60 |     const org = await prisma.organization.create({
         |                                           ^
      61 |       data: {
      62 |         name: 'E22B Test Org',
      63 |         slug: `e22b-test-${Date.now()}`,

      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)
      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)

  ● E22.B - Franchise Rankings Caching (e2e) › GET /franchise/rankings › should measure response time difference between miss and hit

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |   async function setupTestData() {
      59 |     // Create test organization
    > 60 |     const org = await prisma.organization.create({
         |                                           ^
      61 |       data: {
      62 |         name: 'E22B Test Org',
      63 |         slug: `e22b-test-${Date.now()}`,

      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)
      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)

FAIL e2e/franchise-cache-invalidation.e2e-spec.ts
  ● E22.D - Franchise Cache Invalidation (e2e) › Budget Update Invalidation › should invalidate budgets cache after budget update

    TypeError: Cannot read properties of undefined (reading 'create')

      57 |   async function setupTestData() {
      58 |     // Create test organization
    > 59 |     const org = await prisma.organization.create({
         |                                           ^
      60 |       data: {
      61 |         name: 'E22D Test Org',
      62 |         slug: `e22d-test-${Date.now()}`,

      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)
      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)

  ● E22.D - Franchise Cache Invalidation (e2e) › Budget Update Invalidation › should not affect other cache prefixes when updating budgets

    TypeError: Cannot read properties of undefined (reading 'create')

      57 |   async function setupTestData() {
      58 |     // Create test organization
    > 59 |     const org = await prisma.organization.create({
         |                                           ^
      60 |       data: {
      61 |         name: 'E22D Test Org',
      62 |         slug: `e22d-test-${Date.now()}`,

      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)
      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)

  ● E22.D - Franchise Cache Invalidation (e2e) › Cache Miss After Invalidation › should return fresh data after cache invalidation

    TypeError: Cannot read properties of undefined (reading 'create')

      57 |   async function setupTestData() {
      58 |     // Create test organization
    > 59 |     const org = await prisma.organization.create({
         |                                           ^
      60 |       data: {
      61 |         name: 'E22D Test Org',
      62 |         slug: `e22d-test-${Date.now()}`,

      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)
      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)

  ● E22.D - Franchise Cache Invalidation (e2e) › Multiple Invalidations › should handle multiple rapid invalidations without errors

    TypeError: Cannot read properties of undefined (reading 'create')

      57 |   async function setupTestData() {
      58 |     // Create test organization
    > 59 |     const org = await prisma.organization.create({
         |                                           ^
      60 |       data: {
      61 |         name: 'E22D Test Org',
      62 |         slug: `e22d-test-${Date.now()}`,

      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)
      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)

FAIL e2e/franchise-budgets-cache.e2e-spec.ts
  ● E22.C - Franchise Budgets Caching (e2e) › should return cached=false on first call (cache miss)

    TypeError: Cannot read properties of undefined (reading 'create')

      60 |   async function setupTestData() {
      61 |     // Create test organization
    > 62 |     const org = await prisma.organization.create({
         |                                           ^
      63 |       data: {
      64 |         name: 'E22C Test Org',
      65 |         slug: `e22c-test-${Date.now()}`,

      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)
      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)

  ● E22.C - Franchise Budgets Caching (e2e) › should return cached=true on second call within TTL (cache hit)

    TypeError: Cannot read properties of undefined (reading 'create')

      60 |   async function setupTestData() {
      61 |     // Create test organization
    > 62 |     const org = await prisma.organization.create({
         |                                           ^
      63 |       data: {
      64 |         name: 'E22C Test Org',
      65 |         slug: `e22c-test-${Date.now()}`,

      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)
      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)

  ● E22.C - Franchise Budgets Caching (e2e) › should maintain data structure consistency between cached and non-cached responses

    TypeError: Cannot read properties of undefined (reading 'create')

      60 |   async function setupTestData() {
      61 |     // Create test organization
    > 62 |     const org = await prisma.organization.create({
         |                                           ^
      63 |       data: {
      64 |         name: 'E22C Test Org',
      65 |         slug: `e22c-test-${Date.now()}`,

      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)
      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)

  ● E22.C - Franchise Budgets Caching (e2e) › should use different cache keys for different periods

    TypeError: Cannot read properties of undefined (reading 'create')

      60 |   async function setupTestData() {
      61 |     // Create test organization
    > 62 |     const org = await prisma.organization.create({
         |                                           ^
      63 |       data: {
      64 |         name: 'E22C Test Org',
      65 |         slug: `e22c-test-${Date.now()}`,

      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)
      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)

  ● E22.C - Franchise Budgets Caching (e2e) › should return error for invalid period format

    TypeError: Cannot read properties of undefined (reading 'create')

      60 |   async function setupTestData() {
      61 |     // Create test organization
    > 62 |     const org = await prisma.organization.create({
         |                                           ^
      63 |       data: {
      64 |         name: 'E22C Test Org',
      65 |         slug: `e22c-test-${Date.now()}`,

      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)
      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)

  ● E22.C - Franchise Budgets Caching (e2e) › cache hit should be significantly faster than cache miss

    TypeError: Cannot read properties of undefined (reading 'create')

      60 |   async function setupTestData() {
      61 |     // Create test organization
    > 62 |     const org = await prisma.organization.create({
         |                                           ^
      63 |       data: {
      64 |         name: 'E22C Test Org',
      65 |         slug: `e22c-test-${Date.now()}`,

      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)
      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)

FAIL e2e/devportal.slice.e2e-spec.ts
  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › GET /dev/keys without token -> 200 (test controller)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › GET /dev/keys -> 200 with token

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev/keys -> 201 (create)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev/keys -> 400 (invalid payload)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev/keys/key_1/revoke -> 200

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › Plan-aware limit hits 429 for free but not for pro (same burst)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev-webhook/events -> 200 { ok:true } (valid HMAC)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev-webhook/events -> 200 { ok:false } (bad HMAC)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev-webhook/events -> 200 { ok:false } (missing signature)

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › GET /dev/keys returns multiple keys with plan info

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

  ● Dev-Portal (Slice E2E) — Plan-aware limits + HMAC › POST /dev/keys with pro plan -> 201

    Nest can't resolve dependencies of the SessionInvalidationService (PrismaService, ?). Please make sure that the argument RedisService at index [1] is available in the AuthModule context.

    Potential solutions:
    - Is AuthModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current AuthModule?
    - If RedisService is exported from a separate @Module, is that module imported within AuthModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      20 |
      21 |   beforeAll(async () => {
    > 22 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      23 |       imports: [
      24 |         // minimal shared deps
      25 |         AuthModule,

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 1)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 6)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 2)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/devportal.slice.e2e-spec.ts:22:20)

FAIL e2e/devportal.prod.slice.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../../src/dev-portal/ports/devportal.port' from 'e2e/devportal.prod.slice.e2e-spec.ts'

      15 | import { SuperDevGuard } from '../../src/dev-portal.disabled/guards/super-dev.guard'; // Fixed: was dev-portal (now disabled)
      16 | import { signBody } from '../payments/webhook.hmac';
    > 17 | import { DevPortalKeyRepo } from '../../src/dev-portal/ports/devportal.port';
         | ^
      18 | import { TestBypassAuthGuard } from '../devportal/auth-override.guard';
      19 | import { cleanup } from '../helpers/cleanup';
      20 |

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (e2e/devportal.prod.slice.e2e-spec.ts:17:1)

FAIL e2e/bookings.e2e-spec.ts
  ● Bookings E2E › should create booking → HOLD → pay → confirm

    TypeError: Cannot read properties of undefined (reading 'upsert')

      327 |  */
      328 | export async function createEvent(prisma: PrismaClient, orgId: string, branchId: string) {
    > 329 |   const event = await prisma.event.upsert({
          |                                    ^
      330 |     where: { id: `event-${orgId}` },
      331 |     update: {},
      332 |     create: {

      at createEvent (e2e/factory.ts:329:36)
      at Object.<anonymous> (e2e/bookings.e2e-spec.ts:33:36)

FAIL e2e/billing.slice.e2e-spec.ts
  ● Billing (Slice E2E) — Deterministic › Authentication & Authorization › POST /billing/plan/change should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Authentication & Authorization › POST /billing/cancel should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Authentication & Authorization › GET /billing/subscription should return 401 if no authorization token is provided

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Rate Limiting › Rate limiting produces >= one 429 deterministically

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Basic Functionality (without auth) › should bootstrap successfully without metatype errors

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Basic Functionality (without auth) › should have billing controller mounted at /billing

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Basic Functionality (without auth) › POST /billing/plan/change should validate request body

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Basic Functionality (without auth) › POST /billing/cancel should be idempotent

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Endpoint Availability › GET /billing/subscription endpoint exists

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Endpoint Availability › POST /billing/plan/change endpoint exists

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

  ● Billing (Slice E2E) — Deterministic › Endpoint Availability › POST /billing/cancel endpoint exists

    Nest can't resolve dependencies of the PlanRateLimiterGuard (?, PrismaService). Please make sure that the argument RedisService at index [0] is available in the BillingModule context.

    Potential solutions:
    - Is BillingModule a valid NestJS module?
    - If RedisService is a provider, is it part of the current BillingModule?
    - If RedisService is exported from a separate @Module, is that module imported within BillingModule?
      @Module({
        imports: [ /* the Module containing RedisService */ ]
      })

      22 |
      23 |   beforeAll(async () => {
    > 24 |     const modRef = await createE2ETestingModuleBuilder({
         |                    ^
      25 |       imports: [
      26 |         ConfigModule.forRoot({ isGlobal: true }),
      27 |         

      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)
      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)
      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)
          at async Promise.all (index 0)
      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)
      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)
      at TestingInjector.loadProvider (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:97:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:56:13
          at async Promise.all (index 5)
      at TestingInstanceLoader.createInstancesOfProviders (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:55:9)
      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:40:13
          at async Promise.all (index 10)
      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)
      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)
      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)
      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)
      at Object.<anonymous> (e2e/billing.slice.e2e-spec.ts:24:20)

FAIL e2e/billing.e2e-spec.ts
  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 401 if no authorization token is provided

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 403 if user is not L5 (owner)

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 200 and log plan change for L5 owner

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 404 for non-existent plan code

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/plan/change › should return 429 after exceeding plan-aware rate limit (burst)

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/cancel › should return 401 if no authorization token is provided

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/cancel › should return 403 if user is not L5 (owner)

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/cancel › should return 200 and log cancellation for L5 owner

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › POST /billing/cancel › should be idempotent (canceling twice returns 200)

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › GET /billing/subscription › should return 401 if no authorization token is provided

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

  ● Billing E2E (E24 - Auth, Authz, Rate Limiting) › GET /billing/subscription › should return 200 with subscription details for authenticated user

    Nest could not find given element (this provider does not exist in the current context)

      164 |     await app.init();
      165 |
    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);
          |                            ^
      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);
      168 |
      169 |     await setupTestData();

      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)
      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)
      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)
      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)

FAIL e2e/badge-revocation.e2e-spec.ts
  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should authenticate via badge swipe and include badgeId in token

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should access protected endpoint with valid token

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should reject login with REVOKED badge

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should invalidate existing token when badge is revoked (< 2s)

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should allow new login after badge revocation with updated version

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should invalidate sessions when badge is reported LOST

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Badge Revocation Flow › should NOT reinstate old tokens when badge is RETURNED

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Session Version Validation › should reject token with mismatched session version

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)

  ● Badge Revocation & Session Invalidation (E25) - E2E › Performance & Timing › should invalidate session within 2 seconds (E25 requirement)

    PrismaClientKnownRequestError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts:49:39

      46 
      47 async function setupTestData() {
      48   // Create test organization
    → 49   testOrg = await prisma.client.org.create(
    Unique constraint failed on the fields: (`slug`)

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at setupTestData (e2e/badge-revocation.e2e-spec.ts:49:15)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:39:5)


  ● Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'id')

      124 |     // Delete in dependency order
      125 |     await prisma.client.employeeProfile.deleteMany({
    > 126 |       where: { userId: testUser.id },
          |                                 ^
      127 |     });
      128 |     await prisma.client.badgeAsset.deleteMany({
      129 |       where: { orgId: testOrg.id },

      at cleanupTestData (e2e/badge-revocation.e2e-spec.ts:126:33)
      at Object.<anonymous> (e2e/badge-revocation.e2e-spec.ts:43:11)

FAIL e2e/app-bisect.e2e-spec.ts
  ● Test suite failed to run

    AppModule.imports not accessible; in AppModule, add: public static __imports = [ ...imports ]

      11 |
      12 | if (!appModuleImports || !Array.isArray(appModuleImports)) {
    > 13 |   throw new Error('AppModule.imports not accessible; in AppModule, add: public static __imports = [ ...imports ]');
         |         ^
      14 | }
      15 |
      16 | async function tryImports(imports: any[]) {

      at Object.<anonymous> (e2e/app-bisect.e2e-spec.ts:13:9)

FAIL e2e/accounting.e2e-spec.ts
  ● Accounting E2E › should create period → lock → posting blocked

    TypeError: Cannot read properties of undefined (reading 'upsert')

      362 |   const created = [];
      363 |   for (const acc of accounts) {
    > 364 |     const account = await prisma.account.upsert({
          |                                          ^
      365 |       where: { orgId_code: { orgId, code: acc.code } },
      366 |       update: {},
      367 |       create: {

      at createChartOfAccounts (e2e/factory.ts:364:42)
      at Object.<anonymous> (e2e/accounting.e2e-spec.ts:33:32)

FAIL ./m2-shifts-scheduling.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'm2-shifts-scheduling.e2e-spec.ts'

       8 | import { AppModule } from '../src/app.module';
       9 | import { PrismaService } from '../src/prisma.service';
    > 10 | import { cleanup } from '../helpers/cleanup';
         | ^
      11 |
      12 | describe('M2 - Shifts, Scheduling & Stock-Count Gate (E2E)', () => {
      13 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (m2-shifts-scheduling.e2e-spec.ts:10:1)

FAIL ./m1-kds-enterprise.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'm1-kds-enterprise.e2e-spec.ts'

      3 | import request from 'supertest';
      4 | import { AppModule } from '../src/app.module';
    > 5 | import { cleanup } from '../helpers/cleanup';
        | ^
      6 |
      7 | /**
      8 |  * M1-KDS: Enterprise-grade KDS tests

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (m1-kds-enterprise.e2e-spec.ts:5:1)

FAIL ./e37-promotions.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'e37-promotions.e2e-spec.ts'

      4 | import { AppModule } from '../src/app.module';
      5 | import { PrismaService } from '@chefcloud/db';
    > 6 | import { cleanup } from '../helpers/cleanup';
        | ^
      7 |
      8 | describe('E37 - Promotions & Pricing Engine (e2e)', () => {
      9 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (e37-promotions.e2e-spec.ts:6:1)

FAIL ./e27-costing.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'e27-costing.e2e-spec.ts'

      4 | import { AppModule } from '../src/app.module';
      5 | import { PrismaService } from '../src/prisma.service';
    > 6 | import { cleanup } from '../helpers/cleanup';
        | ^
      7 |
      8 | /**
      9 |  * E2E Test for E27-s1: Costing & Profit Engine

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (e27-costing.e2e-spec.ts:6:1)

FAIL ./e26-kpis.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'e26-kpis.e2e-spec.ts'

       5 | import { AppModule } from '../src/app.module';
       6 | import { PrismaService } from '../src/prisma.service';
    >  7 | import { cleanup } from '../helpers/cleanup';
         | ^
       8 |
       9 | describe('E26-s1: Live KPI Streaming (SSE)', () => {
      10 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (e26-kpis.e2e-spec.ts:7:1)

FAIL ./e24-subscriptions.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'e24-subscriptions.e2e-spec.ts'

      3 | import request from 'supertest';
      4 | import { AppModule } from '../src/app.module';
    > 5 | import { cleanup } from '../helpers/cleanup';
        | ^
      6 |
      7 | describe('E24 Subscriptions & Dev Portal (e2e)', () => {
      8 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (e24-subscriptions.e2e-spec.ts:5:1)

FAIL ./e23-roles-access.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'e23-roles-access.e2e-spec.ts'

      4 | import { AppModule } from '../src/app.module';
      5 | import { PrismaService } from '../src/prisma.service';
    > 6 | import { cleanup } from '../helpers/cleanup';
        | ^
      7 |
      8 | describe('E23 Roles & Platform Access (e2e)', () => {
      9 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (e23-roles-access.e2e-spec.ts:6:1)

FAIL ./e22-franchise.e2e-spec.ts
  ● E22-s2: Franchise APIs (e2e) › POST /franchise/budgets › should upsert a budget for a branch

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › POST /franchise/budgets › should update existing budget on re-upsert

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/budgets › should fetch budgets for a period

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/budgets › should reject invalid period format

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/rankings › should return ranked branches with deterministic ordering

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/procurement/suggest › should return items below safety stock

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/generate-drafts › should generate draft POs with packSize rounding

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/generate-drafts › should generate draft POs with packSize rounding

    PrismaClientValidationError: 
    Invalid `prisma.client.supplier.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:294:53

      291 
      292 beforeAll(async () => {
      293   // Create supplier with packSize and minOrderQty
    → 294   const supplier = await prisma.client.supplier.create({
              data: {
                name: "Test Supplier",
                email: "test-supplier@example.com",
                contactPerson: "John Doe",
                phone: "+256700000000",
                leadTimeDays: 3,
                packSize: 10,
                minOrderQty: 50,
            +   orgId: String
              }
            })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:294:24)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/generate-drafts › should generate drafts for specific branches only

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/generate-drafts › should generate drafts for specific branches only

    PrismaClientValidationError: 
    Invalid `prisma.client.supplier.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:294:53

      291 
      292 beforeAll(async () => {
      293   // Create supplier with packSize and minOrderQty
    → 294   const supplier = await prisma.client.supplier.create({
              data: {
                name: "Test Supplier",
                email: "test-supplier@example.com",
                contactPerson: "John Doe",
                phone: "+256700000000",
                leadTimeDays: 3,
                packSize: 10,
                minOrderQty: 50,
            +   orgId: String
              }
            })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:294:24)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › GET /franchise/procurement/drafts › should list all draft POs with supplier and branch names

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › GET /franchise/procurement/drafts › should list all draft POs with supplier and branch names

    PrismaClientValidationError: 
    Invalid `prisma.client.supplier.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:294:53

      291 
      292 beforeAll(async () => {
      293   // Create supplier with packSize and minOrderQty
    → 294   const supplier = await prisma.client.supplier.create({
              data: {
                name: "Test Supplier",
                email: "test-supplier@example.com",
                contactPerson: "John Doe",
                phone: "+256700000000",
                leadTimeDays: 3,
                packSize: 10,
                minOrderQty: 50,
            +   orgId: String
              }
            })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:294:24)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/approve › should approve draft POs and update status to PLACED

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/approve › should approve draft POs and update status to PLACED

    PrismaClientValidationError: 
    Invalid `prisma.client.supplier.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:294:53

      291 
      292 beforeAll(async () => {
      293   // Create supplier with packSize and minOrderQty
    → 294   const supplier = await prisma.client.supplier.create({
              data: {
                name: "Test Supplier",
                email: "test-supplier@example.com",
                contactPerson: "John Doe",
                phone: "+256700000000",
                leadTimeDays: 3,
                packSize: 10,
                minOrderQty: 50,
            +   orgId: String
              }
            })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:294:24)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/approve › should reject non-owner approval attempts

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-s3: Central Procurement › POST /franchise/procurement/approve › should reject non-owner approval attempts

    PrismaClientValidationError: 
    Invalid `prisma.client.supplier.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:294:53

      291 
      292 beforeAll(async () => {
      293   // Create supplier with packSize and minOrderQty
    → 294   const supplier = await prisma.client.supplier.create({
              data: {
                name: "Test Supplier",
                email: "test-supplier@example.com",
                contactPerson: "John Doe",
                phone: "+256700000000",
                leadTimeDays: 3,
                packSize: 10,
                minOrderQty: 50,
            +   orgId: String
              }
            })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:294:24)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/overview › should return per-branch KPIs and totals for date range

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/overview › should filter by branchIds when provided

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/overview › should default to today when dates omitted

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/overview › should reject non-manager/owner users

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/rankings › should return branches ranked by NET_SALES

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/rankings › should return branches ranked by MARGIN_PERCENT

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/rankings › should apply limit parameter

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/rankings › should reject unsupported metrics

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › GET /franchise/analytics/rankings › should reject requests without metric parameter

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should return all budgets without filters

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should return all budgets without filters

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:652:45

      649 describe('GET /franchise/budgets (NEW)', () => {
      650   beforeAll(async () => {
      651     // Seed new FranchiseBudget records (year/month format)
    → 652     await prisma.client.franchiseBudget.createMany({
                data: [
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 2000000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 1500000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 2,
                    category: "NET_SALES",
                    amountCents: 2500000,
                    currencyCode: "UGX"
                  }
                ]
              })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:652:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should filter by year and month

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should filter by year and month

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:652:45

      649 describe('GET /franchise/budgets (NEW)', () => {
      650   beforeAll(async () => {
      651     // Seed new FranchiseBudget records (year/month format)
    → 652     await prisma.client.franchiseBudget.createMany({
                data: [
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 2000000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 1500000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 2,
                    category: "NET_SALES",
                    amountCents: 2500000,
                    currencyCode: "UGX"
                  }
                ]
              })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:652:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should filter by branchIds

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should filter by branchIds

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:652:45

      649 describe('GET /franchise/budgets (NEW)', () => {
      650   beforeAll(async () => {
      651     // Seed new FranchiseBudget records (year/month format)
    → 652     await prisma.client.franchiseBudget.createMany({
                data: [
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 2000000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 1500000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 2,
                    category: "NET_SALES",
                    amountCents: 2500000,
                    currencyCode: "UGX"
                  }
                ]
              })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:652:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should allow L4 (Manager) to read budgets

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets (NEW) › should allow L4 (Manager) to read budgets

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:652:45

      649 describe('GET /franchise/budgets (NEW)', () => {
      650   beforeAll(async () => {
      651     // Seed new FranchiseBudget records (year/month format)
    → 652     await prisma.client.franchiseBudget.createMany({
                data: [
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 2000000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 1,
                    category: "NET_SALES",
                    amountCents: 1500000,
                    currencyCode: "UGX"
                  },
                  {
                    orgId: undefined,
                    branchId: undefined,
                    year: 2025,
                    month: 2,
                    category: "NET_SALES",
                    amountCents: 2500000,
                    currencyCode: "UGX"
                  }
                ]
              })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:652:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › PUT /franchise/budgets (bulk upsert) › should create new budgets

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › PUT /franchise/budgets (bulk upsert) › should update existing budgets (idempotent)

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › PUT /franchise/budgets (bulk upsert) › should reject L4 (Manager) from upserting budgets

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › PUT /franchise/budgets (bulk upsert) › should validate year range (2000-9999)

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › PUT /franchise/budgets (bulk upsert) › should validate month range (1-12)

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should calculate variance for all branches

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should calculate variance for all branches

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:943:45

      940   where: { orgId, year: 2025, month: 1 },
      941 });
      942 
    → 943 await prisma.client.franchiseBudget.createMany({
            data: [
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 5000000,
                currencyCode: "UGX"
              },
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 3000000,
                currencyCode: "UGX"
              }
            ]
          })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:943:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should filter variance by branchIds

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should filter variance by branchIds

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:943:45

      940   where: { orgId, year: 2025, month: 1 },
      941 });
      942 
    → 943 await prisma.client.franchiseBudget.createMany({
            data: [
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 5000000,
                currencyCode: "UGX"
              },
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 3000000,
                currencyCode: "UGX"
              }
            ]
          })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:943:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should return empty array when no budgets exist

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should return empty array when no budgets exist

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:943:45

      940   where: { orgId, year: 2025, month: 1 },
      941 });
      942 
    → 943 await prisma.client.franchiseBudget.createMany({
            data: [
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 5000000,
                currencyCode: "UGX"
              },
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 3000000,
                currencyCode: "UGX"
              }
            ]
          })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:943:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should require year parameter

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should require year parameter

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:943:45

      940   where: { orgId, year: 2025, month: 1 },
      941 });
      942 
    → 943 await prisma.client.franchiseBudget.createMany({
            data: [
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 5000000,
                currencyCode: "UGX"
              },
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 3000000,
                currencyCode: "UGX"
              }
            ]
          })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:943:9)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should require month parameter

    PrismaClientValidationError: 
    Invalid `prisma.client.org.create()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:27:41

      24 prisma = app.get(PrismaService);
      25 
      26 // Create test org
    → 27 const org = await prisma.client.org.create({
           data: {
             name: "E22 Franchise Org",
             currency: "UGX",
         +   slug: String
           }
         })

    Argument `slug` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:27:17)

  ● E22-s2: Franchise APIs (e2e) › E22-S3: Franchise Budgets & Variance › GET /franchise/budgets/variance › should require month parameter

    PrismaClientValidationError: 
    Invalid `prisma.client.franchiseBudget.createMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:943:45

      940   where: { orgId, year: 2025, month: 1 },
      941 });
      942 
    → 943 await prisma.client.franchiseBudget.createMany({
            data: [
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 5000000,
                currencyCode: "UGX"
              },
              {
                orgId: undefined,
                branchId: undefined,
                year: 2025,
                month: 1,
                category: "NET_SALES",
                amountCents: 3000000,
                currencyCode: "UGX"
              }
            ]
          })

    Argument `orgId` is missing.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:943:9)


  ● Test suite failed to run

    PrismaClientValidationError: 
    Invalid `prisma.client.inventoryItem.delete()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:344:47

      341 await prisma.client.purchaseOrder.deleteMany({ where: { orgId } });
      342 await prisma.client.procurementJob.deleteMany({ where: { orgId } });
      343 await prisma.client.stockBatch.deleteMany({ where: { itemId } });
    → 344 await prisma.client.inventoryItem.delete({
            where: {
              id: undefined,
          ?   orgId_sku?: InventoryItemOrgIdSkuCompoundUniqueInput,
          ?   AND?: InventoryItemWhereInput | InventoryItemWhereInput[],
          ?   OR?: InventoryItemWhereInput[],
          ?   NOT?: InventoryItemWhereInput | InventoryItemWhereInput[],
          ?   orgId?: StringFilter | String,
          ?   sku?: StringNullableFilter | String | Null,
          ?   name?: StringFilter | String,
          ?   unit?: StringFilter | String,
          ?   category?: StringNullableFilter | String | Null,
          ?   reorderLevel?: DecimalFilter | Decimal,
          ?   reorderQty?: DecimalFilter | Decimal,
          ?   isActive?: BoolFilter | Boolean,
          ?   metadata?: JsonNullableFilter,
          ?   createdAt?: DateTimeFilter | DateTime,
          ?   updatedAt?: DateTimeFilter | DateTime,
          ?   stockBatches?: StockBatchListRelationFilter,
          ?   recipeIngredients?: RecipeIngredientListRelationFilter,
          ?   wastageRecords?: WastageListRelationFilter,
          ?   adjustments?: AdjustmentListRelationFilter,
          ?   poItems?: PurchaseOrderItemListRelationFilter,
          ?   receiptLines?: GoodsReceiptLineListRelationFilter,
          ?   spoutCalibrations?: SpoutCalibrationListRelationFilter,
          ?   forecastProfiles?: ForecastProfileListRelationFilter,
          ?   forecastPoints?: ForecastPointListRelationFilter,
          ?   stockMovements?: StockMovementListRelationFilter,
          ?   lowStockConfigs?: LowStockConfigListRelationFilter
            }
          })

    Argument `where` of type InventoryItemWhereUniqueInput needs at least one of `id` or `orgId_sku` arguments. Available options are marked with ?.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                    ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)
      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at ../src/common/slow-query.ts:19:20
      at Object.<anonymous> (e22-franchise.e2e-spec.ts:344:7)

  ● Test suite failed to run

    PrismaClientValidationError: 
    Invalid `prisma.client.order.deleteMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:996:35

      993 
      994 afterAll(async () => {
      995   // Cleanup variance test data
    → 996   await prisma.client.order.deleteMany({
              where: {
                branchId: {
                  in: [
                    undefined,
                    ~~~~~~~~~
                    undefined
                  ]
                },
                createdAt: {
                  gte: new Date("2025-01-01T00:00:00.000Z"),
                  lt: new Date("2025-02-01T00:00:00.000Z")
                }
              }
            })

    Invalid value for argument `in[0]`: Can not use `undefined` value within array. Use `null` or filter out `undefined` values.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                          ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at e.throwValidationError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:10206)
      at od (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:9323)
      at sa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8075)
      at aa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8908)
      at sa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8439)
      at aa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8908)
      at sa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8439)
      at aa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8908)
      at mr (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:6037)
      at vn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:5902)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:10186
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at t._executeRequest (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:10165)
      at Na (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:31:9955)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9639)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9933
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9913
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at t._request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9836)
      at s (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:31:5636)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:31:5864
      at i (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1016)
      at PrismaPromise.then (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1091)

  ● Test suite failed to run

    PrismaClientValidationError: 
    Invalid `prisma.client.order.deleteMany()` invocation in
    /workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts:129:31

      126 
      127 afterAll(async () => {
      128   // Cleanup
    → 129   await prisma.client.order.deleteMany({
              where: {
                branchId: {
                  in: [
                    undefined,
                    ~~~~~~~~~
                    undefined
                  ]
                }
              }
            })

    Invalid value for argument `in[0]`: Can not use `undefined` value within array. Use `null` or filter out `undefined` values.

      17 |   return async (params: any, next: any) => {
      18 |     const start = Date.now();
    > 19 |     const result = await next(params);
         |                          ^
      20 |     const duration = Date.now() - start;
      21 |
      22 |     // Sample slow queries to avoid log spam

      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)
      at e.throwValidationError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:10206)
      at od (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:9323)
      at sa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8075)
      at aa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8908)
      at sa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8439)
      at aa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8908)
      at sa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8439)
      at aa (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:8908)
      at mr (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:6037)
      at vn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:5902)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:10186
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at t._executeRequest (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:10165)
      at Na (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:31:9955)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9639)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9469
      at ../src/common/slow-query.ts:19:26
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9452
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9421)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9933
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9913
      at Object.runInChildSpan (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1509)
      at t._request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9836)
      at s (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:31:5636)
      at ../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:31:5864
      at i (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1016)
      at PrismaPromise.then (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:1091)

FAIL ./billing-simple.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'billing-simple.e2e-spec.ts'

       6 | import { PrismaService } from '../src/prisma.service';
       7 | import { JwtService } from '@nestjs/jwt';
    >  8 | import { cleanup } from '../helpers/cleanup';
         | ^
       9 |
      10 | describe('Billing E2E (E24 - Auth, Authz, Rate Limiting)', () => {
      11 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (billing-simple.e2e-spec.ts:8:1)

FAIL ./b2-apikey.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'b2-apikey.e2e-spec.ts'

      4 | import { AppModule } from '../src/app.module';
      5 | import { PrismaService } from '../src/prisma.service';
    > 6 | import { cleanup } from '../helpers/cleanup';
        | ^
      7 |
      8 | describe('API Key Security (E2E)', () => {
      9 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (b2-apikey.e2e-spec.ts:6:1)

FAIL ./a3-pos.e2e-spec.ts
  ● Test suite failed to run

    Cannot find module '../helpers/cleanup' from 'a3-pos.e2e-spec.ts'

      3 | import request from 'supertest';
      4 | import { AppModule } from '../src/app.module';
    > 5 | import { cleanup } from '../helpers/cleanup';
        | ^
      6 |
      7 | describe('A3 POS Core (e2e)', () => {
      8 |   let app: INestApplication;

      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (a3-pos.e2e-spec.ts:5:1)


Test Suites: 44 failed, 13 passed, 57 total
Tests:       259 failed, 70 passed, 329 total
Snapshots:   0 total
Time:        55.682 s
Ran all test suites.
Test results written to: .e2e-results-full.json
Jest did not exit one second after the test run has completed.

'This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.
