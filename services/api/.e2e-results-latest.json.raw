âœ“ E2E environment loaded
  DATABASE_URL: postgresql://postgres:***@localhost:5432/chefcloud_test
{"level":"info","time":1767325127498,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":162,"requestId":"1d893f45-3615-4a55-aea7-fa70e9afa4c5","route":"/auth/login"}
{"level":"info","time":1767325127642,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":139,"requestId":"53f192ca-fa73-4fda-b79f-6c1c6f6ffc87","route":"/auth/login"}
{"level":"info","time":1767325127780,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":136,"requestId":"67239bf8-eaff-4586-8569-b3caa65e2e83","route":"/auth/login"}
{"level":"info","time":1767325127892,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":110,"requestId":"28529005-f9f0-48a9-9e96-014589463682","route":"/auth/login"}
{"level":"info","time":1767325127931,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/access/matrix","statusCode":200,"durationMs":14,"requestId":"a1f08d5a-0b73-48be-ab3a-f4aefb0078dd","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1767325127947,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/access/matrix","statusCode":403,"durationMs":8,"requestId":"ecf64266-e8c1-4af4-ae54-9e19d10cf0c4","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1767325127959,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/access/matrix","statusCode":403,"durationMs":9,"requestId":"1fc94135-a3f9-4dd7-a82c-25a480045e44","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1767325127967,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/access/matrix","statusCode":403,"durationMs":5,"requestId":"26595969-d3a6-4593-823b-78951ed57548","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1767325127970,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/access/matrix","statusCode":401,"durationMs":1,"requestId":"261e721c-6260-4774-9e67-ef2b42e62931","route":"/access/matrix"}
{"level":"info","time":1767325127982,"service":"chefcloud-api","env":"test","type":"http_request","method":"PATCH","url":"/access/matrix","statusCode":200,"durationMs":9,"requestId":"edb9f39c-7f4d-4c2f-8584-41e918a769c1","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1767325127998,"service":"chefcloud-api","env":"test","type":"http_request","method":"PATCH","url":"/access/matrix","statusCode":500,"durationMs":12,"requestId":"0b469079-8bda-493e-a073-c3858b6b8ab5","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1767325128009,"service":"chefcloud-api","env":"test","type":"http_request","method":"PATCH","url":"/access/matrix","statusCode":403,"durationMs":7,"requestId":"a90279e6-97d6-4f04-bbe4-0bcf336c9e44","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1767325128017,"service":"chefcloud-api","env":"test","type":"http_request","method":"PATCH","url":"/access/matrix","statusCode":403,"durationMs":5,"requestId":"1ddc815e-71dd-4433-9254-64222215be27","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1767325128022,"service":"chefcloud-api","env":"test","type":"http_request","method":"PATCH","url":"/access/matrix","statusCode":401,"durationMs":2,"requestId":"2b508e4e-6f1e-403c-a8fb-f06da0ddb136","route":"/access/matrix"}
{"level":"info","time":1767325128141,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":117,"requestId":"b4ac2b83-0984-42fd-a048-064eecb1585f","route":"/auth/login"}
{"level":"info","time":1767325128269,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":125,"requestId":"935d94e3-0e75-4276-9904-50881f2c766c","route":"/auth/login"}
{"level":"info","time":1767325128399,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":127,"requestId":"b8e91ce7-80d2-4ee7-b21e-5ee73530a136","route":"/auth/login"}
{"level":"info","time":1767325128523,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":121,"requestId":"5cc450c3-cb38-42fc-9c87-db66b93ecd64","route":"/auth/login"}
{"level":"info","time":1767325128642,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":115,"requestId":"0cbdb933-99ad-45d5-92cb-0cb3472200f5","route":"/auth/login"}
{"level":"info","time":1767325128768,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":123,"requestId":"48ddb1d1-42c9-4032-982b-a68e7d68f500","route":"/auth/login"}
{"level":"info","time":1767325128779,"service":"chefcloud-api","env":"test","type":"http_request","method":"PATCH","url":"/access/matrix","statusCode":200,"durationMs":8,"requestId":"d80d0c73-c7de-4b7b-93c2-2c42e823c33e","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1767325128786,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/access/matrix","statusCode":200,"durationMs":5,"requestId":"2449440c-cfe4-4849-b0e0-972d181ac758","orgId":"00000000-0000-4000-8000-000000000001","route":"/access/matrix"}
{"level":"info","time":1767325130388,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":125,"requestId":"c9ad35c9-47d0-4201-bc2f-9a5b345598fc","route":"/auth/login"}
{"level":"info","time":1767325130513,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":123,"requestId":"4a4ad03d-a766-404d-a6cc-a8d729888624","route":"/auth/login"}
{"level":"info","time":1767325130522,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/workforce/attendance/clock-in","statusCode":404,"durationMs":3,"requestId":"9867f179-f8e7-45a9-9149-3c8b0e0b50ee"}
{"level":"info","time":1767325134900,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":145,"requestId":"d51d4a26-24fe-4581-ade7-427b3bdb8220","route":"/auth/login"}
{"level":"info","time":1767325134918,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/inventory/items/beef-cmjwbr50u002j304bxlv2ac01","statusCode":404,"durationMs":9,"requestId":"752e8afb-d53f-4f15-be19-e9a3079435c3"}
{"level":"info","time":1767325136415,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":130,"requestId":"056b3907-0d05-4522-82bf-8088215b9cd7","route":"/auth/login"}
{"level":"info","time":1767325136424,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/reports/x-report","statusCode":404,"durationMs":4,"requestId":"da72d6e4-8317-48a6-ac3c-7d407178c091"}
{"level":"info","time":1767325136431,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/reports/owner-overview?startDate=2025-01-01&endDate=2025-01-31","statusCode":404,"durationMs":1,"requestId":"113293e4-cadc-492a-a0c5-22de56bcc915"}
{"level":"info","time":1767325137283,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/dev/orgs","statusCode":404,"durationMs":4,"requestId":"a50ae5a3-07cb-4995-82d9-1018fe322a58"}
{"level":"info","time":1767325137288,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/dev/orgs","statusCode":404,"durationMs":2,"requestId":"a1c34227-71cf-4050-a1c8-01135cc247d8"}
{"level":"info","time":1767325137291,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/dev/subscriptions","statusCode":404,"durationMs":1,"requestId":"cbe84fa5-632e-42d4-82e3-62b46508c48f"}
{"level":"info","time":1767325137295,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/dev/plans","statusCode":404,"durationMs":2,"requestId":"d61b330e-1b5e-458a-8348-eca4e308c053"}
{"level":"info","time":1767325137335,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/dev/plans","statusCode":404,"durationMs":2,"requestId":"5ab3cbe5-26fe-4d80-bb25-bd6118b2480d"}
{"level":"info","time":1767325137451,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":113,"requestId":"309cb584-934f-4028-88e1-fdf9f8dc55d8","route":"/auth/login"}
{"level":"info","time":1767325137460,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":404,"durationMs":7,"requestId":"13af0d41-b23e-410e-97b5-5e3bb361c3b5","orgId":"00000000-0000-4000-8000-000000000001","route":"/billing/subscription"}
{"level":"info","time":1767325137596,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":134,"requestId":"6c7c5aa2-c09f-4c03-b8e7-2b0669e0e1df","route":"/auth/login"}
{"level":"info","time":1767325137608,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":403,"durationMs":5,"requestId":"ba5d8875-4eb6-45b8-8f88-fceb2098fe55","orgId":"00000000-0000-4000-8000-000000000001","route":"/billing/subscription"}
{"level":"info","time":1767325137730,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":119,"requestId":"6198e819-d0da-4746-8b29-f8c5d3b15206","route":"/auth/login"}
{"level":"info","time":1767325137738,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/billing/plan/change","statusCode":403,"durationMs":6,"requestId":"3c479376-a6fc-40fb-bf1c-3324626bac72","orgId":"00000000-0000-4000-8000-000000000001","route":"/billing/plan/change"}
{"level":"info","time":1767325137856,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":116,"requestId":"69bc7907-7260-4414-ad56-af52487d1a3f","route":"/auth/login"}
{"level":"info","time":1767325137863,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/billing/cancel","statusCode":403,"durationMs":6,"requestId":"ec103f4f-57a9-406a-849a-45037ddec853","orgId":"00000000-0000-4000-8000-000000000001","route":"/billing/cancel"}
{"level":"info","time":1767325140101,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":144,"requestId":"2d13cc8f-1b37-482b-8a62-e0bc7929d9a2","route":"/auth/login"}
{"level":"info","time":1767325140217,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":114,"requestId":"61a3dc8d-f86e-4b6c-86bc-2c7985c5e181","route":"/auth/login"}
{"level":"info","time":1767325140332,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":113,"requestId":"78880d63-f395-42db-ae08-ffece4051b3e","route":"/auth/login"}
{"level":"info","time":1767325141518,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":131,"requestId":"88a8cddc-b45d-483f-8009-b530481e6c7f","route":"/auth/login"}
{"level":"info","time":1767325141646,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":126,"requestId":"f8d970d7-808d-4beb-8ecb-9b0e76609451","route":"/auth/login"}
{"level":"info","time":1767325141656,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/menu/items","statusCode":400,"durationMs":8,"requestId":"4e7d2627-211f-43fa-9d78-2017e707c264","orgId":"00000000-0000-4000-8000-000000000001","route":"/menu/items"}
{"level":"info","time":1767325142633,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":140,"requestId":"55713922-acc0-4d2f-99c9-924dc6326f10","route":"/auth/login"}
{"level":"info","time":1767325142763,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":126,"requestId":"1f36bb05-e63d-42be-afdb-4db4d5fac845","route":"/auth/login"}
{"level":"info","time":1767325144627,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":123,"requestId":"9857e53f-1bf3-47c6-8a2e-de43f1b3b16d","route":"/auth/login"}
{"level":"info","time":1767325146612,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/health","statusCode":404,"durationMs":6,"requestId":"b3afbe59-87a5-4781-88a1-4f2071f39b4d"}
{"level":"info","time":1767325146619,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/health","statusCode":404,"durationMs":4,"requestId":"ea24e168-d393-448d-8d36-b34b5b3a14d9"}
{"level":"info","time":1767325146631,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":7,"requestId":"8b19ef18-34a1-4587-994a-0c97881adb88","route":"/auth/login"}
{"level":"info","time":1767325146633,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/health","statusCode":404,"durationMs":0,"requestId":"9e80634e-da77-4e04-a0d2-d202a9842b7e"}
{"level":"info","time":1767325153679,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":166,"requestId":"22937d3f-2957-4472-8fce-437ec3ab68db","route":"/auth/login"}
{"level":"info","time":1767325153804,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":121,"requestId":"ce637e0f-5450-473e-bc81-056817caaf37","route":"/auth/login"}
{"level":"info","time":1767325154400,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":125,"requestId":"b0a11665-eae1-4b8a-b99d-1a350d6877b2","route":"/auth/login"}
{"level":"info","time":1767325154415,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/msr/assign","statusCode":500,"durationMs":10,"requestId":"fc8318f8-6598-4340-8f32-e52a7a4a82f3","orgId":"00000000-0000-4000-8000-000000000001","route":"/auth/msr/assign"}
{"level":"info","time":1767325154424,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/msr/assign","statusCode":500,"durationMs":5,"requestId":"08c9e79e-8014-4829-8efe-5c3b0ea38af2","orgId":"00000000-0000-4000-8000-000000000001","route":"/auth/msr/assign"}
{"level":"info","time":1767325154430,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/msr/assign","statusCode":401,"durationMs":2,"requestId":"ecdc2af7-7e67-49ca-8bec-0a7543560191","route":"/auth/msr/assign"}
{"level":"info","time":1767325154445,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/msr-swipe","statusCode":400,"durationMs":4,"requestId":"7d962842-463a-4f4e-aee3-c8209864613c","route":"/auth/msr-swipe"}
{"level":"info","time":1767325154455,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/auth/msr/cards","statusCode":200,"durationMs":7,"requestId":"6b14d115-6878-458b-bf5e-bf4b1d708610","orgId":"00000000-0000-4000-8000-000000000001","route":"/auth/msr/cards"}
{"level":"info","time":1767325154459,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/auth/msr/cards","statusCode":401,"durationMs":1,"requestId":"cc2f8088-2fad-47ff-8ed1-fae0fd391050","route":"/auth/msr/cards"}
{"level":"info","time":1767325154477,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/msr/revoke","statusCode":500,"durationMs":16,"requestId":"571b7062-2c25-4c6b-98d7-f632ad31e450","orgId":"00000000-0000-4000-8000-000000000001","route":"/auth/msr/revoke"}
{"level":"info","time":1767325154490,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/msr/revoke","statusCode":401,"durationMs":1,"requestId":"335f9615-2697-4989-8806-84388b85c972","route":"/auth/msr/revoke"}
{"level":"info","time":1767325157664,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":129,"requestId":"6bf30d66-695b-4368-b1ec-ded01e327a67","route":"/auth/login"}
{"level":"info","time":1767325157780,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":401,"durationMs":112,"requestId":"f8c073be-6799-4234-80bb-bee4b85a5610","route":"/auth/login"}
{"level":"info","time":1767325158794,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":152,"requestId":"83163128-8678-4569-b663-fb87c68b0071","route":"/auth/login"}
{"level":"info","time":1767325158913,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":117,"requestId":"658a4498-09b6-456b-acc1-0507a25f3c66","route":"/auth/login"}
{"level":"info","time":1767325158924,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/menu/items/cmjwbq7e401is8o4uapi18qfj","statusCode":403,"durationMs":6,"requestId":"5baf7958-6e01-4bd5-afc8-137cb322f0ec","orgId":"00000000-0000-4000-8000-000000000001","route":"/menu/items/:id"}
{"level":"info","time":1767325158939,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/menu/items/cmjwbq7e401is8o4uapi18qfj","statusCode":403,"durationMs":12,"requestId":"d760ec19-3cf4-4e8f-ac42-18bbaaec71b0","orgId":"00000000-0000-4000-8000-000000000001","route":"/menu/items/:id"}
{"level":"info","time":1767325158950,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/menu/items/cmjwbq5o9006u8o4ugqcl1b49","statusCode":200,"durationMs":9,"requestId":"25157e3a-b2b1-41d3-bbcf-530c33be82ea","orgId":"00000000-0000-4000-8000-000000000001","route":"/menu/items/:id"}
{"level":"info","time":1767325158956,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/menu/items/cmjwbq5o9006u8o4ugqcl1b49","statusCode":400,"durationMs":4,"requestId":"915840a9-78d1-4526-8669-1a5cac703f9d","orgId":"00000000-0000-4000-8000-000000000001","route":"/menu/items/:id"}
{"level":"info","time":1767325158983,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/menu/items","statusCode":200,"durationMs":25,"requestId":"2172adcc-e261-4c21-af2c-9308a23d5f3c","orgId":"00000000-0000-4000-8000-000000000001","route":"/menu/items"}
{"level":"info","time":1767325159004,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/menu/items","statusCode":200,"durationMs":16,"requestId":"470c540d-9947-4025-862b-7938e1fef5d8","orgId":"00000000-0000-4000-8000-000000000002","route":"/menu/items"}
{"level":"info","time":1767325159847,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":123,"requestId":"f710ed5d-dbcd-4d5d-93b8-68eeff2bfcbe","route":"/auth/login"}
{"level":"info","time":1767325159964,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":115,"requestId":"75122fae-5011-4a7d-ae88-771ef4780407","route":"/auth/login"}
{"level":"info","time":1767325159977,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/badges","statusCode":200,"durationMs":11,"requestId":"54e54ab6-0f7b-4d0d-b09e-cf316ee4b227","orgId":"00000000-0000-4000-8000-000000000001","route":"/badges"}
{"level":"info","time":1767325159983,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/badges","statusCode":401,"durationMs":3,"requestId":"e99b84eb-a4ca-4dc8-8409-a0cccd23ddae","route":"/badges"}
{"level":"info","time":1767325159988,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/badges/validate","statusCode":404,"durationMs":3,"requestId":"87862331-88ca-45e2-9fb9-572873e493f5"}
{"level":"info","time":1767325159993,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/badges/validate","statusCode":404,"durationMs":3,"requestId":"d8765f75-6b45-44fc-9802-712ab083b599"}
{"level":"info","time":1767325159996,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/badges/fake-badge-id/revoke","statusCode":404,"durationMs":1,"requestId":"be65e412-ad88-4995-b357-ded3713c272c"}
{"level":"info","time":1767325159999,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/badges/fake-badge-id/revoke","statusCode":404,"durationMs":1,"requestId":"c8d9dc39-ef4f-49a6-94da-3e78d07dc144"}
{"level":"info","time":1767325160002,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/badges/fake-badge-id/history","statusCode":404,"durationMs":1,"requestId":"1335130a-6f47-4811-8f73-bc5aee7bff5e"}
{"level":"info","time":1767325160004,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/sessions","statusCode":404,"durationMs":1,"requestId":"1e85f7ee-6a36-4412-a416-2aad78fbd843"}
{"level":"info","time":1767325160007,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/sessions/revoke-all","statusCode":404,"durationMs":2,"requestId":"89dcf215-c3e7-4c05-b6b9-7c9c42342756"}
{"level":"info","time":1767325160014,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/badges","statusCode":200,"durationMs":6,"requestId":"344f408f-b686-4827-ba50-40194a349118","orgId":"00000000-0000-4000-8000-000000000001","route":"/badges"}
{"level":"info","time":1767325160017,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/badges/validate","statusCode":404,"durationMs":1,"requestId":"e72e8afd-15bd-4a93-a8fd-31d3b33bf3a8"}
{"level":"info","time":1767325160983,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":119,"requestId":"6cb55965-d97a-46d7-a90a-054f88ea9222","route":"/auth/login"}
{"level":"info","time":1767325161108,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":123,"requestId":"9c58c40f-3a02-46fc-94a1-f12fb300b60e","route":"/auth/login"}
{"level":"info","time":1767325161111,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/shifts/templates?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"e34a556e-34e0-4253-b0ae-1e2cefa227f3"}
{"level":"info","time":1767325161114,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/shifts/templates?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"55187ad4-7dda-4fb2-8182-1ad948eaf80a"}
{"level":"info","time":1767325161117,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/shifts/templates","statusCode":404,"durationMs":1,"requestId":"accf78fb-1228-4b2b-8a62-6906d91e1ba2"}
{"level":"info","time":1767325161119,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/shifts/schedules?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":0,"requestId":"ce88e61d-9f48-42c5-bdf1-a01ee07c5097"}
{"level":"info","time":1767325161122,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/shifts/schedules/current?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"fb952693-1394-4770-8226-a98b6c8589ce"}
{"level":"info","time":1767325161124,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/shifts/assignments?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"f92d18ab-7ebc-42bb-b6d5-69b5bbfd7352"}
{"level":"info","time":1767325161127,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/shifts/assignments","statusCode":404,"durationMs":2,"requestId":"ed153a9c-c46c-49d1-bf89-90a59ba3e8fd"}
{"level":"info","time":1767325161129,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/stock-count/gate?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"aa3cd460-6339-4c8b-8c89-00d8099827bc"}
{"level":"info","time":1767325161131,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/stock-count/pending?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"cfc82b53-9171-4839-a856-8b5b9af206e1"}
{"level":"info","time":1767325161133,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/shifts/overrides?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"edadbf20-e6a6-42aa-8c89-7946ed2a927b"}
{"level":"info","time":1767325161135,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/shifts/templates?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"54198aa6-b8e0-46eb-94a3-d53d5f7c469a"}
{"level":"info","time":1767325161137,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/shifts/templates?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":0,"requestId":"473d5b45-4e84-4cc3-8de3-9dfb8a10d57a"}
{"level":"info","time":1767325162649,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":164,"requestId":"bc1e1471-3b3b-4e3c-a2d7-ab1eb25bf32d","route":"/auth/login"}
{"level":"info","time":1767325162776,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":124,"requestId":"3b8a8a0f-7640-4be4-a4a6-8ade58ac824c","route":"/auth/login"}
{"level":"info","time":1767325162783,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/costing/menu-items?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":5,"requestId":"b426a28a-e322-443d-980e-944bfb694a77"}
{"level":"info","time":1767325162790,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/costing/menu-items/cmjwbq5o9006u8o4ugqcl1b49","statusCode":404,"durationMs":4,"requestId":"ddb4fbfc-b554-4938-8929-66fdd6f94966"}
{"level":"info","time":1767325162792,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/costing/menu-items?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"cfa9ae27-fff6-4f35-a376-81f67320e670"}
{"level":"info","time":1767325162794,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/costing/recipes?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"16b09035-f789-4376-a810-9c2df5e054a8"}
{"level":"info","time":1767325162796,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/costing/recipes/summary?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":0,"requestId":"8cad13bf-98d8-4185-a9ce-cf49177160dd"}
{"level":"info","time":1767325162798,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/costing/analysis?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":0,"requestId":"059bb5d5-db00-47c9-b1ed-12a2734e035b"}
{"level":"info","time":1767325162800,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/costing/margins?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":0,"requestId":"2561049d-120d-4ef3-b67e-03b5611e6a09"}
{"level":"info","time":1767325162802,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/costing/alerts?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"0e97aaa2-8c56-4c2f-b3bb-08866ce0caf0"}
{"level":"info","time":1767325162804,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/costing/ingredients?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"3eef759e-7cb9-4dd5-8cef-8d082aa1e4a7"}
{"level":"info","time":1767325162806,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/costing/menu-items?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"5e06164c-86cb-4305-8458-cf74886f18a6"}
{"level":"info","time":1767325162808,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/costing/analysis?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"27d5008c-fa7c-4f7c-92d9-2821dc06750b"}
{"level":"info","time":1767325163771,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":131,"requestId":"e1c107e4-3359-488b-a755-db8a41807a87","route":"/auth/login"}
{"level":"info","time":1767325163914,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":140,"requestId":"c6a8ec75-8a8c-409b-9e21-f993086147c5","route":"/auth/login"}
{"level":"info","time":1767325163925,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/service-providers?branchId=00000000-0000-4000-8000-000000000101","statusCode":200,"durationMs":9,"requestId":"ab60a435-8534-4408-9aef-2a622939c725","orgId":"00000000-0000-4000-8000-000000000001","route":"/service-providers"}
{"level":"info","time":1767325163933,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/service-providers/summary?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":6,"requestId":"1a338b47-39f2-434d-8251-0e7d229fe14e","orgId":"00000000-0000-4000-8000-000000000001","route":"/service-providers/:id"}
{"level":"info","time":1767325163937,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/service-providers","statusCode":401,"durationMs":2,"requestId":"092ed4f6-c672-4fa1-bedc-86789d91a698","route":"/service-providers"}
{"level":"info","time":1767325163939,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/service-contracts?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":0,"requestId":"4a327892-1ea5-4d45-b9d6-8b9738af6a5e"}
{"level":"info","time":1767325163943,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/service-contracts","statusCode":404,"durationMs":2,"requestId":"dde3532b-f56a-475f-a50a-96ca1e7d1560"}
{"level":"info","time":1767325163945,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/ops-budgets?branchId=00000000-0000-4000-8000-000000000101&year=2024&month=11","statusCode":404,"durationMs":1,"requestId":"68849ae9-a77d-4edc-9b96-3c07de3b5499"}
{"level":"info","time":1767325163947,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/ops-budgets/summary?branchId=00000000-0000-4000-8000-000000000101&year=2024&month=11","statusCode":404,"durationMs":1,"requestId":"bc50556a-ca9a-4fa8-8783-dcfa630ee7c4"}
{"level":"info","time":1767325163949,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/ops-budgets/franchise?year=2024&month=11","statusCode":404,"durationMs":1,"requestId":"b0564653-e665-4924-b34d-9b70e82f7663"}
{"level":"info","time":1767325163952,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/ops-budgets","statusCode":404,"durationMs":2,"requestId":"fa33c117-0944-4ed8-8408-6334b7aeb1c6"}
{"level":"info","time":1767325163954,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/cost-insights?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"f67e186b-8517-49d3-8f63-7a7eceb50d5c"}
{"level":"info","time":1767325163956,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/cost-insights/franchise","statusCode":404,"durationMs":1,"requestId":"5c43c0b4-03f9-4518-b9c0-fc8379eca002"}
{"level":"info","time":1767325163958,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/service-reminders?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":1,"requestId":"43b0c4bc-9e14-4949-bb73-fab92e0388f4"}
{"level":"info","time":1767325163959,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/service-reminders/summary?branchId=00000000-0000-4000-8000-000000000101","statusCode":404,"durationMs":0,"requestId":"840a7ea3-a5fa-45bd-9969-513022a988fc"}
{"level":"info","time":1767325163962,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/ops-budgets/franchise?year=2024&month=11","statusCode":404,"durationMs":1,"requestId":"11027860-39b5-4368-965d-5627a6ff100d"}
{"level":"info","time":1767325163964,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/ops-budgets/franchise?year=2024&month=11","statusCode":404,"durationMs":1,"requestId":"973eba1a-847a-425e-a75e-beb1a095f0ad"}
{"level":"info","time":1767325164901,"service":"chefcloud-api","env":"test","type":"http_request","method":"POST","url":"/auth/login","statusCode":200,"durationMs":138,"requestId":"6bb28928-1c37-4f03-a051-30ba8718e0f1","route":"/auth/login"}
{"level":"info","time":1767325164909,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/franchise/rankings","statusCode":200,"durationMs":6,"requestId":"3d3d8c26-7bec-43a8-bac6-3072be696131","orgId":"00000000-0000-4000-8000-000000000002","route":"/franchise/rankings"}
{"level":"info","time":1767325164912,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/franchise/rankings","statusCode":401,"durationMs":0,"requestId":"a078fdd7-968b-403a-a0e8-b85d0c0594e4","route":"/franchise/rankings"}
{"level":"info","time":1767325164920,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/franchise/budgets","statusCode":200,"durationMs":5,"requestId":"8b07427f-ced5-4e64-8527-908770294fe3","orgId":"00000000-0000-4000-8000-000000000002","route":"/franchise/budgets"}
{"level":"info","time":1767325164922,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/franchise/budgets","statusCode":401,"durationMs":1,"requestId":"a72bc312-33f9-4bf7-b212-d34ca7bbc49a","route":"/franchise/budgets"}
{"level":"info","time":1767325164953,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/franchise/analytics/overview","statusCode":200,"durationMs":29,"requestId":"4eb0b41d-aab0-43db-8b85-e8f5cf7495d6","orgId":"00000000-0000-4000-8000-000000000002","route":"/franchise/analytics/overview"}
{"level":"info","time":1767325164956,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/franchise/analytics/overview","statusCode":401,"durationMs":1,"requestId":"5575a99f-0857-4de5-8bf0-1ebcadd83502","route":"/franchise/analytics/overview"}
{"level":"info","time":1767325164972,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/franchise/procurement/suggest","statusCode":200,"durationMs":14,"requestId":"9eb36668-a079-4e23-84ad-047b4b1301d4","orgId":"00000000-0000-4000-8000-000000000002","route":"/franchise/procurement/suggest"}
{"level":"info","time":1767325164981,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/franchise/rankings","statusCode":200,"durationMs":6,"requestId":"01513063-ccef-484d-ada7-721e410b4389","orgId":"00000000-0000-4000-8000-000000000002","route":"/franchise/rankings"}
{"level":"info","time":1767325164988,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/franchise/budgets","statusCode":200,"durationMs":5,"requestId":"c26d86ff-cf55-4249-a977-4647d62ddf88","orgId":"00000000-0000-4000-8000-000000000002","route":"/franchise/budgets"}
[BOOTSTRAP] Starting ChefCloud API {
  NODE_ENV: 'test',
  PORT: '4050',
  DATABASE_URL: '***configured***',
  JWT_SECRET: '***configured***'
}
[BOOTSTRAP] Creating NestJS application...
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +71ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mEventsModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[CacheService] [39m[32mCacheService initialized with Redis fallback to memory[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[SseRateLimiterGuard] [39m[32mSSE Rate Limiter initialized: 60/min per user/IP, max 2 concurrent/user[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mThrottlerModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mThrottlerModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMetaModule dependencies initialized[39m[38;5;3m +2ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCurrencyModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mTaxModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mObservabilityModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCommonModule dependencies initialized[39m[38;5;3m +2ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCacheModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[SseRateLimiterGuard] [39m[32mSSE Rate Limiter initialized: 60/min per user/IP, max 2 concurrent/user[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[OwnerService] [39m[32m[SMTP] Configured: localhost:1025 (secure=false)[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDemoModule dependencies initialized[39m[38;5;3m +3ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[PaymentsService] [39m[32mPayment adapters running in SANDBOX mode[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMeModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mSettingsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDeviceModule dependencies initialized[39m[38;5;3m +2ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMenuModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mFloorModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPromotionsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAccountingModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mShiftTemplatesModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mShiftSchedulesModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mShiftAssignmentsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDashboardsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mFeedbackModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mFinanceModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mSupportModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mThresholdsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAccessModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDocumentsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServiceProvidersModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mKpisModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mStreamModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mWorkforceModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHrModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mEfrisModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDebugModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mReservationsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mWebAuthnModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mKdsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHardwareModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOpsModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAnalyticsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBillingModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBookingsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCashModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAntiTheftModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBadgesModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mReportsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPurchasingModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAlertsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOwnerModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mStaffModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mInventoryModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mFranchiseModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPosModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mShiftsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +1ms[39m
[BOOTSTRAP] NestJS application created
[BOOTSTRAP] CORS enabled for 2 origin(s): http://localhost:3000, http://localhost:5173
[BOOTSTRAP] Binding to 0.0.0.0:4050...
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +27ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +2ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mWebhooksController {/webhooks}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webhooks/mtn, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webhooks/airtel, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webhooks/billing, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mMetricsController {/}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/metrics, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/healthz, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/readiness, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/auth}:[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/login, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/pin-login, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/msr-swipe, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/enroll-badge, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/logout, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/logout-all, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/sessions, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/msr/assign, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/msr/revoke, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/msr/cards, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mMeController {/me}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/me, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBranchesController {/branches}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/branches, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDeviceController {/devices}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/devices/register, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mMenuController {/menu}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/menu/items, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/menu/items, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/menu/items/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/menu/modifier-groups, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/menu/items/:id/groups/:groupId, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mFloorController {/floor}:[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/floor, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/floor/availability, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mTableController {/tables}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/tables/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPosController {/pos/orders}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id/send-to-kitchen, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id/modify, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id/void, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id/close, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id/discount, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/pos/orders/:id/post-close-void, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mEfrisController {/fiscal}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/fiscal/push/:orderId, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/fiscal/retry/:orderId, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mInventoryController {/inventory}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/items, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/items, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/items/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/levels, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/adjustments, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mRecipesController {/inventory/recipes}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/recipes/:menuItemId, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/recipes/:menuItemId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mWastageController {/inventory/wastage}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/wastage, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCountsController {/inventory/counts}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/counts/begin, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/counts/:id/submit, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/counts/current, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mReconciliationController {/inventory/reconciliation}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/reconciliation, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/reconciliation/summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mLowStockAlertsController {/inventory/low-stock}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/low-stock/alerts, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/low-stock/config, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/low-stock/config, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/low-stock/config/:configId, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mTemplatesController {/inventory/templates}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/templates, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/templates/:packId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/templates/apply, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mImportController {/inventory/import}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/import, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/inventory/import/template, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mKpisController {/stream/kpis}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/stream/kpis, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPromotionsController {/promotions}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/promotions, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/promotions, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/promotions/:id/approve, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/promotions/:id/toggle, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAccountingController {/accounting}:[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/vendors, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/vendors, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/vendor-bills, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/vendor-bills/:billId/open, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/vendor-payments, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/ap/aging, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/ar/aging, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/trial-balance, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/pnl, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/balance-sheet, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPeriodsController {/accounting/periods}:[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/periods, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/periods/:id/lock, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/periods, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/periods/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBankRecController {/accounting/bank}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/bank/accounts, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/bank/accounts, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/bank/:accountId/import-csv, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/bank/match, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/bank/:accountId/auto-match, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/accounting/bank/unreconciled, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mKdsController {/kds}:[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/kds/queue, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/kds/sla-config/:station, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/kds/sla-config/:station, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/kds/tickets/:id/mark-ready, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/kds/tickets/:id/recall, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mShiftsController {/shifts}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shifts/open, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shifts/:id/close, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shifts/current, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shifts/history, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mShiftTemplatesController {/shift-templates}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-templates, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-templates, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-templates/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-templates/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-templates/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mShiftSchedulesController {/shift-schedules}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-schedules, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-schedules/by-branch/:branchId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-schedules/current/:branchId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-schedules/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-schedules/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mShiftAssignmentsController {/shift-assignments}:[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-assignments, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-assignments/by-schedule/:scheduleId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-assignments/by-user/:userId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/shift-assignments/:id, DELETE} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mReportsController {/reports}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reports/x, GET} route[39m[38;5;3m +2ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reports/z/:shiftId, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reports/subscriptions, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reports/subscriptions, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reports/subscriptions/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reports/subscriptions/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDashboardsController {/dash}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/dash/leaderboards/voids, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/dash/leaderboards/discounts, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/dash/no-drinks-rate, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/dash/late-void-heatmap, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/dash/anomalies/recent, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mFranchiseController {/franchise}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/analytics/overview, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/analytics/rankings, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/overview, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/rankings, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/budgets, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/budgets, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/forecast/items, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/procurement/suggest, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/procurement/generate-drafts, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/procurement/drafts, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/procurement/approve, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/branch-metrics, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/budgets, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/budgets, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/budgets/variance, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/forecast, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/export/overview.csv, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/export/rankings.csv, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/export/budgets.csv, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/franchise/export/budgets-variance.csv, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mStaffController {/staff}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/waiters/metrics, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/waiters/rankings, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/waiters/top-performers, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/waiters/risk-staff, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mStaffInsightsController {/staff/insights}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/insights, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/insights/rankings, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/insights/employee-of-:period, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/insights/awards, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/insights/awards, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/insights/me, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPromotionInsightsController {/staff/promotion-suggestions}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/promotion-suggestions/preview, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/promotion-suggestions/generate, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/promotion-suggestions, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/staff/promotion-suggestions/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAntiTheftController {/anti-theft}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/anti-theft/summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mFeedbackController {/feedback}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback/public, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback/analytics/nps-summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback/analytics/breakdown, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/feedback/analytics/top-comments, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAnalyticsController {/analytics}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/daily, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/top-items, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/staff/voids, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/staff/discounts, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/orders/no-drinks, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/late-voids, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/anomalies, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/daily-metrics, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/risk-summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/risk-events, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/financial-summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/category-mix, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/payment-mix, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/analytics/peak-hours, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBudgetController {/finance/budgets}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets/summary, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets/franchise, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets/update-actuals, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets/insights, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets/insights/franchise, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/budgets/reminders/summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPurchasingController {/purchasing}:[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/purchasing/po, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/purchasing/po/:id/place, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/purchasing/po/:id/receive, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mWebAuthnController {/webauthn}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webauthn/registration/options, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webauthn/registration/verify, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webauthn/authentication/options, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/webauthn/authentication/verify, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPaymentsController {/payments}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payments/intents, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payments/intents/:intentId/cancel, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAlertsController {/alerts}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/alerts/channels, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/alerts/schedules, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/alerts/run-now/:id, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mReservationsController {/reservations}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reservations, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reservations, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reservations/:id/confirm, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reservations/:id/cancel, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reservations/:id/seat, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/reservations/summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOpsController {/ops}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/health, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/ready, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/metrics, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/diag/snapshot, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/apikeys, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/apikeys, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/apikeys/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/flags, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/flags, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/flags/:key, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/flags/:key/toggle, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/flags/:key/kill, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/flags/:key/audit, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/maintenance, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/maintenance/active, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/ops/maintenance, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mSupportController {/support}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/support/sessions, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/support/ingest, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/support/sessions/events, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mSpoutController {/hardware/spout}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hardware/spout/ingest, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hardware/spout/devices, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hardware/spout/calibrate, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hardware/spout/events, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOwnerController {/owner}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/owner/overview, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/owner/digest, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/owner/digest/:id, PATCH} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/owner/digest/run-now/:id, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mStreamController {/stream}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/stream/spout, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/stream/kds, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mThresholdsController {/thresholds}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/thresholds, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/thresholds, PATCH} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAccessController {/access}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/access/matrix, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/access/matrix, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/access/matrix/reset-defaults, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBillingController {/billing}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/billing/subscription, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/billing/plan/change, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/billing/cancel, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBadgesController {/badges}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/badges/register, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/badges/assign, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/badges/revoke, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/badges/report-lost, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/badges/mark-returned, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/badges, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCashController {/cash}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/cash/till/open, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/cash/till/:id/close, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/cash/movements, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/cash/till/current, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/cash/till/sessions, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mSettingsController {/settings}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/currency, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/currency, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/tax-matrix, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/tax-matrix, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/rounding, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/rounding, PUT} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/settings/exchange-rate, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBookingsController {/bookings}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/events, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/events/:id/publish, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/events/:id/unpublish, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/events/:id, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/:id/confirm, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/:id/cancel, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/bookings/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPublicBookingsController {/public/bookings}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/public/bookings/events/:slug, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/public/bookings, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/public/bookings/:id/pay, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/public/bookings/:id/status, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCheckinController {/events}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/events/checkin, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/events/booking/:id/ticket, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mWorkforceController {/workforce}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/leave, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/leave/:id/approve, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/roster, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/swaps, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/swaps/:id/approve, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/clock/in, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/clock/out, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/time-entries, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/payroll/export, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/workforce/absence-violations, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPayrollController {/payroll}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payroll/runs, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payroll/runs, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payroll/runs/:id/approve, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payroll/runs/:id/post, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payroll/runs/:id/slips, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/payroll/components, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mVersionController {/}:[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/version, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDocumentsController {/documents}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/:id/download, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/:id, DELETE} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/links/purchase-orders/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/links/pay-slips/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/links/reservations/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/links/service-providers/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/documents/links/employees/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mServiceProvidersController {/service-providers}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/service-providers, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/service-providers, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/service-providers/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/service-providers/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/service-providers/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/service-providers/contracts, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/service-providers/contracts, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/service-providers/contracts/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/service-providers/contracts/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/service-providers/contracts/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mRemindersController {/finance/service-reminders}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/service-reminders, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/service-reminders/summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/service-reminders/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/finance/service-reminders/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttendanceController {/hr/attendance}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hr/attendance/clock-in, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hr/attendance/clock-out, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hr/attendance/mark-absence, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hr/attendance/register-cover, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hr/attendance, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hr/attendance/summary, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hr/attendance/today-summary, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mEmployeesController {/hr/employees}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hr/employees, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hr/employees/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hr/employees, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/hr/employees/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDebugController {/debug}:[39m[38;5;3m +0ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/debug/demo-health, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RedisService] [39m[32mRedis connected to redis://localhost:6379[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:26 AM [32m    LOG[39m [38;5;3m[RedisService] [39m[32mRedis client ready[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[PrismaService] [39m[32mPrisma connected with slow-query middleware[39m
[32m[Nest] 138081  - [39m01/02/2026, 3:39:27 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +4ms[39m
{"level":"info","time":1767325167014,"service":"chefcloud-api","env":"test","msg":"ðŸš€ ChefCloud API running on http://0.0.0.0:4050"}
[BOOTSTRAP] Server started successfully
{"level":"info","time":1767325167015,"service":"chefcloud-api","env":"test","msg":"CORS allowlist: http://localhost:3000, http://localhost:5173"}
{"level":30,"time":1767325167203,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"65e65584-7f61-4e5d-88a5-461f2469c3a1","method":"GET","url":"/readiness","body":{}},"requestId":"65e65584-7f61-4e5d-88a5-461f2469c3a1","msg":"REQ GET /readiness"}
{"level":"info","time":1767325167209,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/readiness","statusCode":200,"durationMs":5,"requestId":"4b3dadcc-6c01-499d-92d3-6c03085c0a42","route":"/readiness"}
{"level":30,"time":1767325167208,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"65e65584-7f61-4e5d-88a5-461f2469c3a1","method":"GET","url":"/readiness","body":{}},"requestId":"65e65584-7f61-4e5d-88a5-461f2469c3a1","requestId":"4b3dadcc-6c01-499d-92d3-6c03085c0a42","res":{"statusCode":200},"responseTime":5,"msg":"GET /readiness -> 200"}
{"level":30,"time":1767325167215,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"9c9c7efe-974e-4799-92a9-bd609d35a257","method":"GET","url":"/readiness","body":{}},"requestId":"9c9c7efe-974e-4799-92a9-bd609d35a257","msg":"REQ GET /readiness"}
{"level":"info","time":1767325167216,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/readiness","statusCode":200,"durationMs":0,"requestId":"7dcf23e2-6498-4939-836e-cca45149a203","route":"/readiness"}
{"level":30,"time":1767325167216,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"9c9c7efe-974e-4799-92a9-bd609d35a257","method":"GET","url":"/readiness","body":{}},"requestId":"9c9c7efe-974e-4799-92a9-bd609d35a257","requestId":"7dcf23e2-6498-4939-836e-cca45149a203","res":{"statusCode":200},"responseTime":1,"msg":"GET /readiness -> 200"}
{"level":30,"time":1767325167256,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"0a6a3b7f-7fa2-4913-84c3-252d992b4539","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0a6a3b7f-7fa2-4913-84c3-252d992b4539","msg":"REQ GET /billing/subscription"}
{"level":"info","time":1767325167266,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":10,"requestId":"f0daaa50-0a8d-49de-907e-2e60fa698e4a","route":"/billing/subscription"}
{"level":40,"time":1767325167266,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"0a6a3b7f-7fa2-4913-84c3-252d992b4539","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0a6a3b7f-7fa2-4913-84c3-252d992b4539","requestId":"f0daaa50-0a8d-49de-907e-2e60fa698e4a","res":{"statusCode":401},"responseTime":10,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167275,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"22b70406-d5a4-4835-9033-f75fe12c401a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"22b70406-d5a4-4835-9033-f75fe12c401a","msg":"REQ GET /billing/subscription"}
{"level":"info","time":1767325167281,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":6,"requestId":"241ea88e-e863-4b9e-8c00-267129ece2e8","route":"/billing/subscription"}
{"level":40,"time":1767325167281,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"22b70406-d5a4-4835-9033-f75fe12c401a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"22b70406-d5a4-4835-9033-f75fe12c401a","requestId":"241ea88e-e863-4b9e-8c00-267129ece2e8","res":{"statusCode":401},"responseTime":5,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167281,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"8d0c5d72-c1b2-4a72-b88c-1b250ce167af","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8d0c5d72-c1b2-4a72-b88c-1b250ce167af","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167282,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"8d0c5d72-c1b2-4a72-b88c-1b250ce167af","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8d0c5d72-c1b2-4a72-b88c-1b250ce167af","requestId":"9c84d351-3d98-49b2-b8f1-1ec8f472f3fb","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167283,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c0bb4df6-0e07-409c-bf81-3106e1189d7e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c0bb4df6-0e07-409c-bf81-3106e1189d7e","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167284,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c0bb4df6-0e07-409c-bf81-3106e1189d7e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c0bb4df6-0e07-409c-bf81-3106e1189d7e","requestId":"c15c1919-2532-425c-baa1-64eab14bd566","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167284,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"6be79c7e-a52a-4a7e-8a33-a21b72999c00","method":"GET","url":"/billing/subscription","body":{}},"requestId":"6be79c7e-a52a-4a7e-8a33-a21b72999c00","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167285,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"6be79c7e-a52a-4a7e-8a33-a21b72999c00","method":"GET","url":"/billing/subscription","body":{}},"requestId":"6be79c7e-a52a-4a7e-8a33-a21b72999c00","requestId":"b751f90f-febd-4a1e-a58e-253bcb265b29","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167286,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"71e6d26c-0301-4a03-bea5-cc01933d8c80","method":"GET","url":"/billing/subscription","body":{}},"requestId":"71e6d26c-0301-4a03-bea5-cc01933d8c80","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167287,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"71e6d26c-0301-4a03-bea5-cc01933d8c80","method":"GET","url":"/billing/subscription","body":{}},"requestId":"71e6d26c-0301-4a03-bea5-cc01933d8c80","requestId":"da190a10-7f9b-4e4c-b504-51788e0dafae","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167287,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"bdcd9280-43a4-45fb-a94b-66bc272c9057","method":"GET","url":"/billing/subscription","body":{}},"requestId":"bdcd9280-43a4-45fb-a94b-66bc272c9057","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167288,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"bdcd9280-43a4-45fb-a94b-66bc272c9057","method":"GET","url":"/billing/subscription","body":{}},"requestId":"bdcd9280-43a4-45fb-a94b-66bc272c9057","requestId":"4cdba8da-7b77-4224-b0d4-a68ff640ef6c","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167289,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"066cf587-0990-46f3-9397-1eed344edc9a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"066cf587-0990-46f3-9397-1eed344edc9a","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167290,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"066cf587-0990-46f3-9397-1eed344edc9a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"066cf587-0990-46f3-9397-1eed344edc9a","requestId":"07d6c49b-d3aa-40a5-ad21-a23789f4866f","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167290,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"638d6234-76ba-4065-ab39-55bfd0a67a5e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"638d6234-76ba-4065-ab39-55bfd0a67a5e","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167291,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"638d6234-76ba-4065-ab39-55bfd0a67a5e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"638d6234-76ba-4065-ab39-55bfd0a67a5e","requestId":"62d72045-50be-4cca-808c-137b9d1c279c","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167292,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"a16cbb62-f672-4cb0-aef0-db35485b5f72","method":"GET","url":"/billing/subscription","body":{}},"requestId":"a16cbb62-f672-4cb0-aef0-db35485b5f72","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167293,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"a16cbb62-f672-4cb0-aef0-db35485b5f72","method":"GET","url":"/billing/subscription","body":{}},"requestId":"a16cbb62-f672-4cb0-aef0-db35485b5f72","requestId":"f95cb9ab-c9b1-4252-9867-71b135d7228e","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167293,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"f3e8844d-893f-47d1-9137-e561f472d4e0","method":"GET","url":"/billing/subscription","body":{}},"requestId":"f3e8844d-893f-47d1-9137-e561f472d4e0","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167294,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"f3e8844d-893f-47d1-9137-e561f472d4e0","method":"GET","url":"/billing/subscription","body":{}},"requestId":"f3e8844d-893f-47d1-9137-e561f472d4e0","requestId":"16323064-d336-4eaa-9967-b3e522a73c3d","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167295,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"a2c52e76-aca4-418f-b051-f0bc39835162","method":"GET","url":"/billing/subscription","body":{}},"requestId":"a2c52e76-aca4-418f-b051-f0bc39835162","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167296,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"a2c52e76-aca4-418f-b051-f0bc39835162","method":"GET","url":"/billing/subscription","body":{}},"requestId":"a2c52e76-aca4-418f-b051-f0bc39835162","requestId":"90fe1748-4d80-40f2-8734-ec04334ed68e","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167296,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"8ded1217-83ab-42e9-a1aa-af830f3df9fd","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8ded1217-83ab-42e9-a1aa-af830f3df9fd","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167297,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"8ded1217-83ab-42e9-a1aa-af830f3df9fd","method":"GET","url":"/billing/subscription","body":{}},"requestId":"8ded1217-83ab-42e9-a1aa-af830f3df9fd","requestId":"a8e14919-1511-4bc8-b844-f0d08750dc36","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167298,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"2b0edcc6-91cc-4bf9-b03f-1ead4d0a4d30","method":"GET","url":"/billing/subscription","body":{}},"requestId":"2b0edcc6-91cc-4bf9-b03f-1ead4d0a4d30","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167298,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"2b0edcc6-91cc-4bf9-b03f-1ead4d0a4d30","method":"GET","url":"/billing/subscription","body":{}},"requestId":"2b0edcc6-91cc-4bf9-b03f-1ead4d0a4d30","requestId":"c9c8be9a-42b7-4190-93fd-0632010ca1cc","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167299,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"7d08a408-963f-429f-896b-e0071360b346","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7d08a408-963f-429f-896b-e0071360b346","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167300,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"7d08a408-963f-429f-896b-e0071360b346","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7d08a408-963f-429f-896b-e0071360b346","requestId":"1fe08a2f-fe3b-413a-a17a-9aa6f63170cd","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167300,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c01a9d77-2562-4a23-aa05-8bc09bd3f58c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c01a9d77-2562-4a23-aa05-8bc09bd3f58c","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167301,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c01a9d77-2562-4a23-aa05-8bc09bd3f58c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c01a9d77-2562-4a23-aa05-8bc09bd3f58c","requestId":"a7bf6546-e502-4606-89db-de740e974ab2","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167302,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"d383ae00-8f79-4d7a-8107-3b0a7fd5103d","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d383ae00-8f79-4d7a-8107-3b0a7fd5103d","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167303,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"d383ae00-8f79-4d7a-8107-3b0a7fd5103d","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d383ae00-8f79-4d7a-8107-3b0a7fd5103d","requestId":"d2002830-a23f-407f-ab6c-24791334725a","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167303,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c7c81e84-3c28-4cd1-9671-d59fc5f57e05","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c7c81e84-3c28-4cd1-9671-d59fc5f57e05","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167304,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c7c81e84-3c28-4cd1-9671-d59fc5f57e05","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c7c81e84-3c28-4cd1-9671-d59fc5f57e05","requestId":"05e1fc7b-aaad-4346-9e3f-d633b9647664","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167304,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"5f72d11a-5b41-49b3-875a-4fa12b53b06e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"5f72d11a-5b41-49b3-875a-4fa12b53b06e","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167305,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"5f72d11a-5b41-49b3-875a-4fa12b53b06e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"5f72d11a-5b41-49b3-875a-4fa12b53b06e","requestId":"e35803d7-96be-4ba8-9b9e-52f8ed591409","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167306,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c0dda3a0-3ced-4514-b418-a3fbfb40d100","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c0dda3a0-3ced-4514-b418-a3fbfb40d100","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167307,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c0dda3a0-3ced-4514-b418-a3fbfb40d100","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c0dda3a0-3ced-4514-b418-a3fbfb40d100","requestId":"0f44b581-21f2-48d8-8745-73dcbf3e88f3","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167308,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"7d71c2e8-5aaa-49d5-9df9-0a9b1c68d63a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7d71c2e8-5aaa-49d5-9df9-0a9b1c68d63a","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167310,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"7d71c2e8-5aaa-49d5-9df9-0a9b1c68d63a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7d71c2e8-5aaa-49d5-9df9-0a9b1c68d63a","requestId":"a0a6cdce-e84e-4e43-93ae-cc6e288fc33a","res":{"statusCode":401},"responseTime":2,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167310,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"02d62bd1-486d-40d6-a95c-df58f97f0cfe","method":"GET","url":"/billing/subscription","body":{}},"requestId":"02d62bd1-486d-40d6-a95c-df58f97f0cfe","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167311,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"02d62bd1-486d-40d6-a95c-df58f97f0cfe","method":"GET","url":"/billing/subscription","body":{}},"requestId":"02d62bd1-486d-40d6-a95c-df58f97f0cfe","requestId":"2aa305a9-8fcb-4050-87cc-e6998247ac8e","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167311,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"76ed6160-4543-4c35-906f-d478dbb73889","method":"GET","url":"/billing/subscription","body":{}},"requestId":"76ed6160-4543-4c35-906f-d478dbb73889","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167312,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"76ed6160-4543-4c35-906f-d478dbb73889","method":"GET","url":"/billing/subscription","body":{}},"requestId":"76ed6160-4543-4c35-906f-d478dbb73889","requestId":"cadbc932-f241-4814-b0a7-2a804d7b396d","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167313,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"4f944790-898d-4f40-8cd3-33648e3ac5db","method":"GET","url":"/billing/subscription","body":{}},"requestId":"4f944790-898d-4f40-8cd3-33648e3ac5db","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167314,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"4f944790-898d-4f40-8cd3-33648e3ac5db","method":"GET","url":"/billing/subscription","body":{}},"requestId":"4f944790-898d-4f40-8cd3-33648e3ac5db","requestId":"69c2e7ca-e675-4cf1-ba85-e44698284425","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167315,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"aa681a50-26ff-4070-b79d-6188677f535c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"aa681a50-26ff-4070-b79d-6188677f535c","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167315,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"aa681a50-26ff-4070-b79d-6188677f535c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"aa681a50-26ff-4070-b79d-6188677f535c","requestId":"b2c1aef6-df5e-4b55-8417-ff837e078b6f","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167316,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"6eef6994-5abe-405b-b25b-d375336307b3","method":"GET","url":"/billing/subscription","body":{}},"requestId":"6eef6994-5abe-405b-b25b-d375336307b3","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167317,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"6eef6994-5abe-405b-b25b-d375336307b3","method":"GET","url":"/billing/subscription","body":{}},"requestId":"6eef6994-5abe-405b-b25b-d375336307b3","requestId":"de6c6da3-f6b9-4a98-ad54-b37dc9696760","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167282,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"9c84d351-3d98-49b2-b8f1-1ec8f472f3fb","route":"/billing/subscription"}
{"level":"info","time":1767325167284,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"c15c1919-2532-425c-baa1-64eab14bd566","route":"/billing/subscription"}
{"level":"info","time":1767325167285,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"b751f90f-febd-4a1e-a58e-253bcb265b29","route":"/billing/subscription"}
{"level":"info","time":1767325167287,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"da190a10-7f9b-4e4c-b504-51788e0dafae","route":"/billing/subscription"}
{"level":"info","time":1767325167288,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"4cdba8da-7b77-4224-b0d4-a68ff640ef6c","route":"/billing/subscription"}
{"level":"info","time":1767325167290,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"07d6c49b-d3aa-40a5-ad21-a23789f4866f","route":"/billing/subscription"}
{"level":"info","time":1767325167291,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"62d72045-50be-4cca-808c-137b9d1c279c","route":"/billing/subscription"}
{"level":"info","time":1767325167293,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"f95cb9ab-c9b1-4252-9867-71b135d7228e","route":"/billing/subscription"}
{"level":"info","time":1767325167294,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"16323064-d336-4eaa-9967-b3e522a73c3d","route":"/billing/subscription"}
{"level":"info","time":1767325167296,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"90fe1748-4d80-40f2-8734-ec04334ed68e","route":"/billing/subscription"}
{"level":"info","time":1767325167297,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"a8e14919-1511-4bc8-b844-f0d08750dc36","route":"/billing/subscription"}
{"level":"info","time":1767325167298,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"c9c8be9a-42b7-4190-93fd-0632010ca1cc","route":"/billing/subscription"}
{"level":"info","time":1767325167300,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"1fe08a2f-fe3b-413a-a17a-9aa6f63170cd","route":"/billing/subscription"}
{"level":"info","time":1767325167301,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"a7bf6546-e502-4606-89db-de740e974ab2","route":"/billing/subscription"}
{"level":"info","time":1767325167303,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"d2002830-a23f-407f-ab6c-24791334725a","route":"/billing/subscription"}
{"level":"info","time":1767325167304,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"05e1fc7b-aaad-4346-9e3f-d633b9647664","route":"/billing/subscription"}
{"level":"info","time":1767325167305,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"e35803d7-96be-4ba8-9b9e-52f8ed591409","route":"/billing/subscription"}
{"level":"info","time":1767325167307,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"0f44b581-21f2-48d8-8745-73dcbf3e88f3","route":"/billing/subscription"}
{"level":"info","time":1767325167310,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"a0a6cdce-e84e-4e43-93ae-cc6e288fc33a","route":"/billing/subscription"}
{"level":"info","time":1767325167311,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"2aa305a9-8fcb-4050-87cc-e6998247ac8e","route":"/billing/subscription"}
{"level":"info","time":1767325167312,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"cadbc932-f241-4814-b0a7-2a804d7b396d","route":"/billing/subscription"}
{"level":"info","time":1767325167314,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"69c2e7ca-e675-4cf1-ba85-e44698284425","route":"/billing/subscription"}
{"level":"info","time":1767325167315,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"b2c1aef6-df5e-4b55-8417-ff837e078b6f","route":"/billing/subscription"}
{"level":"info","time":1767325167317,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"de6c6da3-f6b9-4a98-ad54-b37dc9696760","route":"/billing/subscription"}
{"level":"info","time":1767325167318,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"1a99318e-da2a-4304-bfc2-c074adbfc6c1","route":"/billing/subscription"}
{"level":"info","time":1767325167319,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"6c3dae94-6131-40a1-aec2-23bd8a047aa4","route":"/billing/subscription"}
{"level":"info","time":1767325167320,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"2190caa1-68f1-4760-85bb-d4172f38d522","route":"/billing/subscription"}
{"level":"info","time":1767325167322,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"47bcd6f0-7636-4121-ae80-93ee5f585b08","route":"/billing/subscription"}
{"level":"info","time":1767325167323,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"2cbe3ff4-615a-4460-979f-7d3dae12bf8e","route":"/billing/subscription"}
{"level":"info","time":1767325167324,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"4cf699e3-42d5-4089-a070-424c9b02b1cf","route":"/billing/subscription"}
{"level":"info","time":1767325167325,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"e29eea1e-63b8-48a1-ba9b-0f302a89b5b7","route":"/billing/subscription"}
{"level":"info","time":1767325167327,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"2ad0bbbd-1318-4072-9b8f-967288f791f0","route":"/billing/subscription"}
{"level":"info","time":1767325167328,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"9d723bb0-0d58-4a3f-b774-787aeb2c718a","route":"/billing/subscription"}
{"level":"info","time":1767325167329,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"2a7665ff-8fff-4c9f-86e0-28b88b00bc01","route":"/billing/subscription"}
{"level":30,"time":1767325167317,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"34b45e78-dd60-4201-a7d9-c5acc3f49b77","method":"GET","url":"/billing/subscription","body":{}},"requestId":"34b45e78-dd60-4201-a7d9-c5acc3f49b77","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167318,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"34b45e78-dd60-4201-a7d9-c5acc3f49b77","method":"GET","url":"/billing/subscription","body":{}},"requestId":"34b45e78-dd60-4201-a7d9-c5acc3f49b77","requestId":"1a99318e-da2a-4304-bfc2-c074adbfc6c1","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167318,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"979862eb-02bd-4195-91fc-d2877d5f71cb","method":"GET","url":"/billing/subscription","body":{}},"requestId":"979862eb-02bd-4195-91fc-d2877d5f71cb","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167319,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"979862eb-02bd-4195-91fc-d2877d5f71cb","method":"GET","url":"/billing/subscription","body":{}},"requestId":"979862eb-02bd-4195-91fc-d2877d5f71cb","requestId":"6c3dae94-6131-40a1-aec2-23bd8a047aa4","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167320,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"d3d71161-ce1a-4147-9deb-e20ddb562609","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d3d71161-ce1a-4147-9deb-e20ddb562609","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167320,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"d3d71161-ce1a-4147-9deb-e20ddb562609","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d3d71161-ce1a-4147-9deb-e20ddb562609","requestId":"2190caa1-68f1-4760-85bb-d4172f38d522","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167321,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"4dff3c45-7d23-4633-bd7f-3883adde44ac","method":"GET","url":"/billing/subscription","body":{}},"requestId":"4dff3c45-7d23-4633-bd7f-3883adde44ac","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167322,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"4dff3c45-7d23-4633-bd7f-3883adde44ac","method":"GET","url":"/billing/subscription","body":{}},"requestId":"4dff3c45-7d23-4633-bd7f-3883adde44ac","requestId":"47bcd6f0-7636-4121-ae80-93ee5f585b08","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167322,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"b9696cf1-a8c5-4268-a391-1e958656c2aa","method":"GET","url":"/billing/subscription","body":{}},"requestId":"b9696cf1-a8c5-4268-a391-1e958656c2aa","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167323,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"b9696cf1-a8c5-4268-a391-1e958656c2aa","method":"GET","url":"/billing/subscription","body":{}},"requestId":"b9696cf1-a8c5-4268-a391-1e958656c2aa","requestId":"2cbe3ff4-615a-4460-979f-7d3dae12bf8e","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167323,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"3168bbc4-889a-40d1-98d2-2d35554806d8","method":"GET","url":"/billing/subscription","body":{}},"requestId":"3168bbc4-889a-40d1-98d2-2d35554806d8","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167324,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"3168bbc4-889a-40d1-98d2-2d35554806d8","method":"GET","url":"/billing/subscription","body":{}},"requestId":"3168bbc4-889a-40d1-98d2-2d35554806d8","requestId":"4cf699e3-42d5-4089-a070-424c9b02b1cf","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167325,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"cc415622-40dd-4ed0-8f87-0decf0e5af13","method":"GET","url":"/billing/subscription","body":{}},"requestId":"cc415622-40dd-4ed0-8f87-0decf0e5af13","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167325,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"cc415622-40dd-4ed0-8f87-0decf0e5af13","method":"GET","url":"/billing/subscription","body":{}},"requestId":"cc415622-40dd-4ed0-8f87-0decf0e5af13","requestId":"e29eea1e-63b8-48a1-ba9b-0f302a89b5b7","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167326,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"7e034aaf-ab1f-4c29-b23a-1a18b5d97fe1","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7e034aaf-ab1f-4c29-b23a-1a18b5d97fe1","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167327,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"7e034aaf-ab1f-4c29-b23a-1a18b5d97fe1","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7e034aaf-ab1f-4c29-b23a-1a18b5d97fe1","requestId":"2ad0bbbd-1318-4072-9b8f-967288f791f0","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167327,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"9180757e-8805-417c-bfd0-b96dcde9f6a1","method":"GET","url":"/billing/subscription","body":{}},"requestId":"9180757e-8805-417c-bfd0-b96dcde9f6a1","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167328,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"9180757e-8805-417c-bfd0-b96dcde9f6a1","method":"GET","url":"/billing/subscription","body":{}},"requestId":"9180757e-8805-417c-bfd0-b96dcde9f6a1","requestId":"9d723bb0-0d58-4a3f-b774-787aeb2c718a","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167328,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"ef2fed8c-7851-4540-9d06-ca79ff651604","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ef2fed8c-7851-4540-9d06-ca79ff651604","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167329,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"ef2fed8c-7851-4540-9d06-ca79ff651604","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ef2fed8c-7851-4540-9d06-ca79ff651604","requestId":"2a7665ff-8fff-4c9f-86e0-28b88b00bc01","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167338,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"03ebd1df-51c9-4cce-8ae3-a743ad387844","method":"GET","url":"/billing/subscription","body":{}},"requestId":"03ebd1df-51c9-4cce-8ae3-a743ad387844","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167339,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"03ebd1df-51c9-4cce-8ae3-a743ad387844","method":"GET","url":"/billing/subscription","body":{}},"requestId":"03ebd1df-51c9-4cce-8ae3-a743ad387844","requestId":"37689b98-6b3d-459d-9eed-f901743fbc0d","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167339,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"37689b98-6b3d-459d-9eed-f901743fbc0d","route":"/billing/subscription"}
{"level":"info","time":1767325167340,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"c9de6736-bdb4-48ab-90cd-95201614814a","route":"/billing/subscription"}
{"level":30,"time":1767325167340,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"45a8f190-7f1e-459a-a2df-04e12ffa2d62","method":"GET","url":"/billing/subscription","body":{}},"requestId":"45a8f190-7f1e-459a-a2df-04e12ffa2d62","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167340,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"45a8f190-7f1e-459a-a2df-04e12ffa2d62","method":"GET","url":"/billing/subscription","body":{}},"requestId":"45a8f190-7f1e-459a-a2df-04e12ffa2d62","requestId":"c9de6736-bdb4-48ab-90cd-95201614814a","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167341,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c5276461-5f86-412c-acb4-26308a3adfaf","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c5276461-5f86-412c-acb4-26308a3adfaf","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167341,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c5276461-5f86-412c-acb4-26308a3adfaf","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c5276461-5f86-412c-acb4-26308a3adfaf","requestId":"fbfc6302-d593-478d-9524-ab4b9d1c7d8b","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167341,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"fbfc6302-d593-478d-9524-ab4b9d1c7d8b","route":"/billing/subscription"}
{"level":30,"time":1767325167342,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"44f29893-a4a6-41da-b62e-530cbecb3826","method":"GET","url":"/billing/subscription","body":{}},"requestId":"44f29893-a4a6-41da-b62e-530cbecb3826","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167343,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"44f29893-a4a6-41da-b62e-530cbecb3826","method":"GET","url":"/billing/subscription","body":{}},"requestId":"44f29893-a4a6-41da-b62e-530cbecb3826","requestId":"f9f58db2-f9f3-4d70-a419-163c413777c0","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167343,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"f9f58db2-f9f3-4d70-a419-163c413777c0","route":"/billing/subscription"}
{"level":30,"time":1767325167343,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"622e0bee-8afb-4e5f-b270-2716b86689a9","method":"GET","url":"/billing/subscription","body":{}},"requestId":"622e0bee-8afb-4e5f-b270-2716b86689a9","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167344,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"622e0bee-8afb-4e5f-b270-2716b86689a9","method":"GET","url":"/billing/subscription","body":{}},"requestId":"622e0bee-8afb-4e5f-b270-2716b86689a9","requestId":"b0feaecc-220a-4f8f-a0c8-2cdf7e6a3421","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167344,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"b0feaecc-220a-4f8f-a0c8-2cdf7e6a3421","route":"/billing/subscription"}
{"level":"info","time":1767325167345,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"ffe2de9c-0f2e-4eb2-81fc-f58dd0d9982e","route":"/billing/subscription"}
{"level":30,"time":1767325167345,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"0b6fc595-638e-4c58-b0c5-a32ac8ef807e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0b6fc595-638e-4c58-b0c5-a32ac8ef807e","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167345,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"0b6fc595-638e-4c58-b0c5-a32ac8ef807e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0b6fc595-638e-4c58-b0c5-a32ac8ef807e","requestId":"ffe2de9c-0f2e-4eb2-81fc-f58dd0d9982e","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167346,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"eef88b4c-8be4-47a2-a6fb-e5d65f111e85","route":"/billing/subscription"}
{"level":"info","time":1767325167348,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"585f8c24-3d63-4e22-8809-e35a6ff37c75","route":"/billing/subscription"}
{"level":30,"time":1767325167346,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c9c0678d-7290-48be-8c6c-4f6334b00b10","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c9c0678d-7290-48be-8c6c-4f6334b00b10","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167346,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c9c0678d-7290-48be-8c6c-4f6334b00b10","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c9c0678d-7290-48be-8c6c-4f6334b00b10","requestId":"eef88b4c-8be4-47a2-a6fb-e5d65f111e85","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167347,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"ff4a0bce-cb0e-4f75-8c1c-2fa40d99f078","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ff4a0bce-cb0e-4f75-8c1c-2fa40d99f078","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167348,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"ff4a0bce-cb0e-4f75-8c1c-2fa40d99f078","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ff4a0bce-cb0e-4f75-8c1c-2fa40d99f078","requestId":"585f8c24-3d63-4e22-8809-e35a6ff37c75","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167349,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"cf0e4645-72f7-4a58-8248-62a61fd6d281","route":"/billing/subscription"}
{"level":30,"time":1767325167348,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"e64b306c-2e1c-4c21-bf30-45d761e3d15c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"e64b306c-2e1c-4c21-bf30-45d761e3d15c","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167349,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"e64b306c-2e1c-4c21-bf30-45d761e3d15c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"e64b306c-2e1c-4c21-bf30-45d761e3d15c","requestId":"cf0e4645-72f7-4a58-8248-62a61fd6d281","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167350,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"d5cb3f48-1bf5-4e98-9ff4-01182a462b51","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d5cb3f48-1bf5-4e98-9ff4-01182a462b51","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167350,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"d5cb3f48-1bf5-4e98-9ff4-01182a462b51","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d5cb3f48-1bf5-4e98-9ff4-01182a462b51","requestId":"e3db4ec2-d3a6-42b9-8f9b-b12bbee6737d","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167350,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"e3db4ec2-d3a6-42b9-8f9b-b12bbee6737d","route":"/billing/subscription"}
{"level":30,"time":1767325167351,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"e7b78dfc-7917-428b-98b0-1dad5fa0ab7f","method":"GET","url":"/billing/subscription","body":{}},"requestId":"e7b78dfc-7917-428b-98b0-1dad5fa0ab7f","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167351,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"e7b78dfc-7917-428b-98b0-1dad5fa0ab7f","method":"GET","url":"/billing/subscription","body":{}},"requestId":"e7b78dfc-7917-428b-98b0-1dad5fa0ab7f","requestId":"6f2c4354-02a0-47fa-9cdf-fdad84dc3cc8","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167351,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"6f2c4354-02a0-47fa-9cdf-fdad84dc3cc8","route":"/billing/subscription"}
{"level":30,"time":1767325167352,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"61c774e6-ee98-4f13-8a79-7d77a0b26dd4","method":"GET","url":"/billing/subscription","body":{}},"requestId":"61c774e6-ee98-4f13-8a79-7d77a0b26dd4","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167352,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"61c774e6-ee98-4f13-8a79-7d77a0b26dd4","method":"GET","url":"/billing/subscription","body":{}},"requestId":"61c774e6-ee98-4f13-8a79-7d77a0b26dd4","requestId":"96862e42-fba7-4958-9dd2-14e395dc8778","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167352,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"96862e42-fba7-4958-9dd2-14e395dc8778","route":"/billing/subscription"}
{"level":30,"time":1767325167353,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"746fa46a-abd7-4641-88c2-156b756f4b7f","method":"GET","url":"/billing/subscription","body":{}},"requestId":"746fa46a-abd7-4641-88c2-156b756f4b7f","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167354,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"746fa46a-abd7-4641-88c2-156b756f4b7f","method":"GET","url":"/billing/subscription","body":{}},"requestId":"746fa46a-abd7-4641-88c2-156b756f4b7f","requestId":"201e8b2d-6e98-4d01-9f61-fe14332cb0d1","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167354,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"201e8b2d-6e98-4d01-9f61-fe14332cb0d1","route":"/billing/subscription"}
{"level":30,"time":1767325167354,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"f5b86e03-79c1-4faf-99ea-f2576801b69a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"f5b86e03-79c1-4faf-99ea-f2576801b69a","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167355,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"f5b86e03-79c1-4faf-99ea-f2576801b69a","method":"GET","url":"/billing/subscription","body":{}},"requestId":"f5b86e03-79c1-4faf-99ea-f2576801b69a","requestId":"390b353d-9359-4dbb-8862-489b641457fc","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167355,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"390b353d-9359-4dbb-8862-489b641457fc","route":"/billing/subscription"}
{"level":30,"time":1767325167355,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"69a59c57-0d96-4938-9e71-a302a55c6ab3","method":"GET","url":"/billing/subscription","body":{}},"requestId":"69a59c57-0d96-4938-9e71-a302a55c6ab3","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167356,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"69a59c57-0d96-4938-9e71-a302a55c6ab3","method":"GET","url":"/billing/subscription","body":{}},"requestId":"69a59c57-0d96-4938-9e71-a302a55c6ab3","requestId":"27602847-81cf-440b-9c1d-6a9ed4f3ef44","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167356,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"27602847-81cf-440b-9c1d-6a9ed4f3ef44","route":"/billing/subscription"}
{"level":30,"time":1767325167356,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"cc16382f-7b8f-41c4-a0a7-d834a896b68e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"cc16382f-7b8f-41c4-a0a7-d834a896b68e","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167357,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"cc16382f-7b8f-41c4-a0a7-d834a896b68e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"cc16382f-7b8f-41c4-a0a7-d834a896b68e","requestId":"516722f7-3e11-445c-83dd-57727e26f63d","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167357,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"516722f7-3e11-445c-83dd-57727e26f63d","route":"/billing/subscription"}
{"level":30,"time":1767325167357,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"d9c43e92-cdc4-4e04-9d5e-58901428c964","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d9c43e92-cdc4-4e04-9d5e-58901428c964","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167358,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"d9c43e92-cdc4-4e04-9d5e-58901428c964","method":"GET","url":"/billing/subscription","body":{}},"requestId":"d9c43e92-cdc4-4e04-9d5e-58901428c964","requestId":"9f3d1559-1d99-4f7f-a1f0-ea7af84b551e","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167358,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"9f3d1559-1d99-4f7f-a1f0-ea7af84b551e","route":"/billing/subscription"}
{"level":30,"time":1767325167359,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"f0a9376b-879b-4df3-b967-fa19fbe79afd","method":"GET","url":"/billing/subscription","body":{}},"requestId":"f0a9376b-879b-4df3-b967-fa19fbe79afd","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167359,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"f0a9376b-879b-4df3-b967-fa19fbe79afd","method":"GET","url":"/billing/subscription","body":{}},"requestId":"f0a9376b-879b-4df3-b967-fa19fbe79afd","requestId":"59d24048-41ba-4d5e-a15c-3ed2bb5defee","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167359,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"59d24048-41ba-4d5e-a15c-3ed2bb5defee","route":"/billing/subscription"}
{"level":30,"time":1767325167360,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"bf44fa92-9b50-4698-b2dc-f2bd4607717b","method":"GET","url":"/billing/subscription","body":{}},"requestId":"bf44fa92-9b50-4698-b2dc-f2bd4607717b","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167360,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"bf44fa92-9b50-4698-b2dc-f2bd4607717b","method":"GET","url":"/billing/subscription","body":{}},"requestId":"bf44fa92-9b50-4698-b2dc-f2bd4607717b","requestId":"0d79bc0d-a9e6-49fb-91cb-c6ef37c4bfb0","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167360,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"0d79bc0d-a9e6-49fb-91cb-c6ef37c4bfb0","route":"/billing/subscription"}
{"level":30,"time":1767325167361,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"dafc2506-233e-4d70-88aa-252d4b159ba8","method":"GET","url":"/billing/subscription","body":{}},"requestId":"dafc2506-233e-4d70-88aa-252d4b159ba8","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167361,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"dafc2506-233e-4d70-88aa-252d4b159ba8","method":"GET","url":"/billing/subscription","body":{}},"requestId":"dafc2506-233e-4d70-88aa-252d4b159ba8","requestId":"585e508b-f7d7-492c-bbdd-319d43fcb7af","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167361,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"585e508b-f7d7-492c-bbdd-319d43fcb7af","route":"/billing/subscription"}
{"level":30,"time":1767325167362,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"bb4f31da-135d-423e-91ac-a6a7e60921fc","method":"GET","url":"/billing/subscription","body":{}},"requestId":"bb4f31da-135d-423e-91ac-a6a7e60921fc","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167363,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"bb4f31da-135d-423e-91ac-a6a7e60921fc","method":"GET","url":"/billing/subscription","body":{}},"requestId":"bb4f31da-135d-423e-91ac-a6a7e60921fc","requestId":"77fba50d-e2b7-4804-8810-3423e999b555","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167363,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"77fba50d-e2b7-4804-8810-3423e999b555","route":"/billing/subscription"}
{"level":30,"time":1767325167363,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"dd5dc6f3-f158-42d4-94c8-807db0ec385b","method":"GET","url":"/billing/subscription","body":{}},"requestId":"dd5dc6f3-f158-42d4-94c8-807db0ec385b","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167364,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"dd5dc6f3-f158-42d4-94c8-807db0ec385b","method":"GET","url":"/billing/subscription","body":{}},"requestId":"dd5dc6f3-f158-42d4-94c8-807db0ec385b","requestId":"db31db88-9576-4f2b-bfd1-29ec95c790e2","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167364,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"db31db88-9576-4f2b-bfd1-29ec95c790e2","route":"/billing/subscription"}
{"level":30,"time":1767325167364,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"0101152a-14ff-4f5b-bb24-f92b39289684","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0101152a-14ff-4f5b-bb24-f92b39289684","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167365,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"0101152a-14ff-4f5b-bb24-f92b39289684","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0101152a-14ff-4f5b-bb24-f92b39289684","requestId":"68877c16-c2d9-4377-bbc3-d0b80eda4894","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167365,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"68877c16-c2d9-4377-bbc3-d0b80eda4894","route":"/billing/subscription"}
{"level":30,"time":1767325167366,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"87cc23c1-4390-42c0-80f8-a274fa2d10bd","method":"GET","url":"/billing/subscription","body":{}},"requestId":"87cc23c1-4390-42c0-80f8-a274fa2d10bd","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167366,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"87cc23c1-4390-42c0-80f8-a274fa2d10bd","method":"GET","url":"/billing/subscription","body":{}},"requestId":"87cc23c1-4390-42c0-80f8-a274fa2d10bd","requestId":"72a21998-68e3-42b1-8006-12357190b54f","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167366,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"72a21998-68e3-42b1-8006-12357190b54f","route":"/billing/subscription"}
{"level":30,"time":1767325167367,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c6ca39f3-0bcc-4dc5-85cf-5ea8bf7748aa","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c6ca39f3-0bcc-4dc5-85cf-5ea8bf7748aa","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167368,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c6ca39f3-0bcc-4dc5-85cf-5ea8bf7748aa","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c6ca39f3-0bcc-4dc5-85cf-5ea8bf7748aa","requestId":"64d9cc1d-b689-4030-b83a-75c88e2f88b9","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167368,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"64d9cc1d-b689-4030-b83a-75c88e2f88b9","route":"/billing/subscription"}
{"level":30,"time":1767325167368,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"1560a898-33f3-4fcc-a7b1-41b04bed76bf","method":"GET","url":"/billing/subscription","body":{}},"requestId":"1560a898-33f3-4fcc-a7b1-41b04bed76bf","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167369,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"1560a898-33f3-4fcc-a7b1-41b04bed76bf","method":"GET","url":"/billing/subscription","body":{}},"requestId":"1560a898-33f3-4fcc-a7b1-41b04bed76bf","requestId":"7c4f6604-f672-428a-b53f-8be67019dcd2","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167369,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"7c4f6604-f672-428a-b53f-8be67019dcd2","route":"/billing/subscription"}
{"level":30,"time":1767325167370,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"3d7bba2f-5e0c-4273-838b-01094f7e34d5","method":"GET","url":"/billing/subscription","body":{}},"requestId":"3d7bba2f-5e0c-4273-838b-01094f7e34d5","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167370,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"3d7bba2f-5e0c-4273-838b-01094f7e34d5","method":"GET","url":"/billing/subscription","body":{}},"requestId":"3d7bba2f-5e0c-4273-838b-01094f7e34d5","requestId":"a98c055a-0bfe-4d3d-b935-ae3ec5d841b2","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167370,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"a98c055a-0bfe-4d3d-b935-ae3ec5d841b2","route":"/billing/subscription"}
{"level":30,"time":1767325167371,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"13293ee4-c294-4c66-8c7e-c380e10577c4","method":"GET","url":"/billing/subscription","body":{}},"requestId":"13293ee4-c294-4c66-8c7e-c380e10577c4","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167371,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"13293ee4-c294-4c66-8c7e-c380e10577c4","method":"GET","url":"/billing/subscription","body":{}},"requestId":"13293ee4-c294-4c66-8c7e-c380e10577c4","requestId":"c8554f7c-ba63-46ad-b573-eab0d7962c1f","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167371,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"c8554f7c-ba63-46ad-b573-eab0d7962c1f","route":"/billing/subscription"}
{"level":"info","time":1767325167372,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"8ce63270-6d05-4421-8838-9c2bf804198c","route":"/billing/subscription"}
{"level":30,"time":1767325167372,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"3ab8aa39-7d21-4160-9e28-b8abbc20e1be","method":"GET","url":"/billing/subscription","body":{}},"requestId":"3ab8aa39-7d21-4160-9e28-b8abbc20e1be","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167372,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"3ab8aa39-7d21-4160-9e28-b8abbc20e1be","method":"GET","url":"/billing/subscription","body":{}},"requestId":"3ab8aa39-7d21-4160-9e28-b8abbc20e1be","requestId":"8ce63270-6d05-4421-8838-9c2bf804198c","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167374,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"be595dff-a0cd-4894-b297-a3ae278aaa52","route":"/billing/subscription"}
{"level":30,"time":1767325167373,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"aacb067e-d19a-422d-8025-483ce6c2faa4","method":"GET","url":"/billing/subscription","body":{}},"requestId":"aacb067e-d19a-422d-8025-483ce6c2faa4","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167374,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"aacb067e-d19a-422d-8025-483ce6c2faa4","method":"GET","url":"/billing/subscription","body":{}},"requestId":"aacb067e-d19a-422d-8025-483ce6c2faa4","requestId":"be595dff-a0cd-4894-b297-a3ae278aaa52","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167375,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"8f31403b-0214-4384-819f-12913d195928","route":"/billing/subscription"}
{"level":30,"time":1767325167374,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"5f6e2c9b-14e7-4287-a218-cb732494ebaf","method":"GET","url":"/billing/subscription","body":{}},"requestId":"5f6e2c9b-14e7-4287-a218-cb732494ebaf","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167375,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"5f6e2c9b-14e7-4287-a218-cb732494ebaf","method":"GET","url":"/billing/subscription","body":{}},"requestId":"5f6e2c9b-14e7-4287-a218-cb732494ebaf","requestId":"8f31403b-0214-4384-819f-12913d195928","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167376,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"dc58ae2a-45d4-4df6-a4b1-64842c061d61","route":"/billing/subscription"}
{"level":30,"time":1767325167376,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"b3aace9a-2225-4692-a0b4-71b11a63c79d","method":"GET","url":"/billing/subscription","body":{}},"requestId":"b3aace9a-2225-4692-a0b4-71b11a63c79d","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167376,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"b3aace9a-2225-4692-a0b4-71b11a63c79d","method":"GET","url":"/billing/subscription","body":{}},"requestId":"b3aace9a-2225-4692-a0b4-71b11a63c79d","requestId":"dc58ae2a-45d4-4df6-a4b1-64842c061d61","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167377,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c0815394-b81a-4d31-9672-a8f405838ed7","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c0815394-b81a-4d31-9672-a8f405838ed7","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167377,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"c0815394-b81a-4d31-9672-a8f405838ed7","method":"GET","url":"/billing/subscription","body":{}},"requestId":"c0815394-b81a-4d31-9672-a8f405838ed7","requestId":"5dcd0239-525e-4e58-90bc-835e54138646","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167377,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"5dcd0239-525e-4e58-90bc-835e54138646","route":"/billing/subscription"}
{"level":30,"time":1767325167378,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"edf4cf3f-239f-44ef-afe7-05a49f73be08","method":"GET","url":"/billing/subscription","body":{}},"requestId":"edf4cf3f-239f-44ef-afe7-05a49f73be08","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167379,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"edf4cf3f-239f-44ef-afe7-05a49f73be08","method":"GET","url":"/billing/subscription","body":{}},"requestId":"edf4cf3f-239f-44ef-afe7-05a49f73be08","requestId":"142520b8-f855-4cf4-afaf-1d85089b5fa5","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167379,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"142520b8-f855-4cf4-afaf-1d85089b5fa5","route":"/billing/subscription"}
{"level":30,"time":1767325167379,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"64374463-f68e-407e-bbf0-91ee7868e03c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"64374463-f68e-407e-bbf0-91ee7868e03c","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167380,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"64374463-f68e-407e-bbf0-91ee7868e03c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"64374463-f68e-407e-bbf0-91ee7868e03c","requestId":"66fcbfa5-9bfe-448a-87cc-aa536168a53a","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167380,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"66fcbfa5-9bfe-448a-87cc-aa536168a53a","route":"/billing/subscription"}
{"level":"info","time":1767325167383,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":3,"requestId":"0634477f-811a-422d-9666-5e0abbc4ba2f","route":"/billing/subscription"}
{"level":30,"time":1767325167380,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"7aab926b-ca7b-4dc0-a32d-0099920fa419","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7aab926b-ca7b-4dc0-a32d-0099920fa419","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167383,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"7aab926b-ca7b-4dc0-a32d-0099920fa419","method":"GET","url":"/billing/subscription","body":{}},"requestId":"7aab926b-ca7b-4dc0-a32d-0099920fa419","requestId":"0634477f-811a-422d-9666-5e0abbc4ba2f","res":{"statusCode":401},"responseTime":3,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167384,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"784cd55b-f2e0-4ae3-ae3a-b4152ee7fe02","route":"/billing/subscription"}
{"level":30,"time":1767325167384,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"0a0b3b6b-db97-4888-94a3-5c57c7ee220e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0a0b3b6b-db97-4888-94a3-5c57c7ee220e","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167384,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"0a0b3b6b-db97-4888-94a3-5c57c7ee220e","method":"GET","url":"/billing/subscription","body":{}},"requestId":"0a0b3b6b-db97-4888-94a3-5c57c7ee220e","requestId":"784cd55b-f2e0-4ae3-ae3a-b4152ee7fe02","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":30,"time":1767325167387,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"102a2cf0-e7b8-411f-ad65-323b71ea8b74","method":"GET","url":"/billing/subscription","body":{}},"requestId":"102a2cf0-e7b8-411f-ad65-323b71ea8b74","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167387,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"102a2cf0-e7b8-411f-ad65-323b71ea8b74","method":"GET","url":"/billing/subscription","body":{}},"requestId":"102a2cf0-e7b8-411f-ad65-323b71ea8b74","requestId":"9d287a07-785f-4ee2-ba9e-08e03c05be57","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167387,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"9d287a07-785f-4ee2-ba9e-08e03c05be57","route":"/billing/subscription"}
{"level":30,"time":1767325167388,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"19127007-92fc-4ad6-9fd3-516473bd6562","method":"GET","url":"/billing/subscription","body":{}},"requestId":"19127007-92fc-4ad6-9fd3-516473bd6562","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167388,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"19127007-92fc-4ad6-9fd3-516473bd6562","method":"GET","url":"/billing/subscription","body":{}},"requestId":"19127007-92fc-4ad6-9fd3-516473bd6562","requestId":"59487722-13ef-44e2-a9a3-f82ec8ac5cf5","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167389,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"59487722-13ef-44e2-a9a3-f82ec8ac5cf5","route":"/billing/subscription"}
{"level":30,"time":1767325167389,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"55016b03-c3ec-4c61-bd58-cb61625af199","method":"GET","url":"/billing/subscription","body":{}},"requestId":"55016b03-c3ec-4c61-bd58-cb61625af199","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167390,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"55016b03-c3ec-4c61-bd58-cb61625af199","method":"GET","url":"/billing/subscription","body":{}},"requestId":"55016b03-c3ec-4c61-bd58-cb61625af199","requestId":"b0528c4f-d4aa-4b5a-9484-b52d283641f8","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167390,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"b0528c4f-d4aa-4b5a-9484-b52d283641f8","route":"/billing/subscription"}
{"level":30,"time":1767325167391,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"48a56766-52fb-4668-9f31-f74bb5439d97","method":"GET","url":"/billing/subscription","body":{}},"requestId":"48a56766-52fb-4668-9f31-f74bb5439d97","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167391,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"48a56766-52fb-4668-9f31-f74bb5439d97","method":"GET","url":"/billing/subscription","body":{}},"requestId":"48a56766-52fb-4668-9f31-f74bb5439d97","requestId":"5a6694e5-85ec-43d6-99b5-c9d19770eb18","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167391,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"5a6694e5-85ec-43d6-99b5-c9d19770eb18","route":"/billing/subscription"}
{"level":30,"time":1767325167392,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"ab3f9b6b-b94c-46f2-8ad3-f51ca9f7b47c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ab3f9b6b-b94c-46f2-8ad3-f51ca9f7b47c","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167393,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"ab3f9b6b-b94c-46f2-8ad3-f51ca9f7b47c","method":"GET","url":"/billing/subscription","body":{}},"requestId":"ab3f9b6b-b94c-46f2-8ad3-f51ca9f7b47c","requestId":"98e2d28e-5881-46be-9268-70f4944307fb","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167393,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"98e2d28e-5881-46be-9268-70f4944307fb","route":"/billing/subscription"}
{"level":30,"time":1767325167393,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"842efd38-cef5-4b4f-9b6a-a63b4ed82534","method":"GET","url":"/billing/subscription","body":{}},"requestId":"842efd38-cef5-4b4f-9b6a-a63b4ed82534","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167394,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"842efd38-cef5-4b4f-9b6a-a63b4ed82534","method":"GET","url":"/billing/subscription","body":{}},"requestId":"842efd38-cef5-4b4f-9b6a-a63b4ed82534","requestId":"76ba656c-fd77-462e-b676-a975bbe530c5","res":{"statusCode":401},"responseTime":1,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167394,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":1,"requestId":"76ba656c-fd77-462e-b676-a975bbe530c5","route":"/billing/subscription"}
{"level":30,"time":1767325167395,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"2c6bfece-44ea-4e21-aa9c-e5533892c23f","method":"GET","url":"/billing/subscription","body":{}},"requestId":"2c6bfece-44ea-4e21-aa9c-e5533892c23f","msg":"REQ GET /billing/subscription"}
{"level":40,"time":1767325167395,"pid":138081,"hostname":"codespaces-242710","req":{"requestId":"2c6bfece-44ea-4e21-aa9c-e5533892c23f","method":"GET","url":"/billing/subscription","body":{}},"requestId":"2c6bfece-44ea-4e21-aa9c-e5533892c23f","requestId":"fd6f1134-19cc-441e-a790-d9175bc00f01","res":{"statusCode":401},"responseTime":0,"msg":"GET /billing/subscription -> 401"}
{"level":"info","time":1767325167395,"service":"chefcloud-api","env":"test","type":"http_request","method":"GET","url":"/billing/subscription","statusCode":401,"durationMs":0,"requestId":"fd6f1134-19cc-441e-a790-d9175bc00f01","route":"/billing/subscription"}
{"numFailedTestSuites":28,"numFailedTests":150,"numPassedTestSuites":30,"numPassedTests":244,"numPendingTestSuites":0,"numPendingTests":3,"numRuntimeErrorTestSuites":2,"numTodoTests":0,"numTotalTestSuites":58,"numTotalTests":397,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1767325120307,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["E23 Roles & Platform Access (e2e)","GET /access/matrix"],"duration":42,"failureDetails":[{"matcherResult":{"message":"expect(received).toHaveProperty(path)\n\nExpected path: \"TICKET_MASTER\"\nReceived path: []\n\nReceived value: {\"ACCOUNTANT\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"CASHIER\": {\"desktop\": true, \"mobile\": false, \"web\": false}, \"HEAD_CHEF\": {\"desktop\": true, \"mobile\": true, \"web\": false}, \"MANAGER\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"OWNER\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"PROCUREMENT\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"STOCK\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"SUPERVISOR\": {\"desktop\": true, \"mobile\": false, \"web\": false}, \"WAITER\": {\"desktop\": true, \"mobile\": false, \"web\": false}}","pass":false}}],"failureMessages":["Error: expect(received).toHaveProperty(path)\n\nExpected path: \"TICKET_MASTER\"\nReceived path: []\n\nReceived value: {\"ACCOUNTANT\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"CASHIER\": {\"desktop\": true, \"mobile\": false, \"web\": false}, \"HEAD_CHEF\": {\"desktop\": true, \"mobile\": true, \"web\": false}, \"MANAGER\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"OWNER\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"PROCUREMENT\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"STOCK\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"SUPERVISOR\": {\"desktop\": true, \"mobile\": false, \"web\": false}, \"WAITER\": {\"desktop\": true, \"mobile\": false, \"web\": false}}\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e23-roles-access.e2e-spec.ts:92:44)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"E23 Roles & Platform Access (e2e) GET /access/matrix should allow L4 (manager) to get platform access matrix","invocations":1,"location":{"column":5,"line":82},"numPassingAsserts":4,"retryReasons":[],"status":"failed","title":"should allow L4 (manager) to get platform access matrix"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","GET /access/matrix"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) GET /access/matrix should reject L3 (procurement) from accessing matrix","invocations":1,"location":{"column":5,"line":95},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject L3 (procurement) from accessing matrix"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","GET /access/matrix"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) GET /access/matrix should reject L2 (ticket master) from accessing matrix","invocations":1,"location":{"column":5,"line":102},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject L2 (ticket master) from accessing matrix"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","GET /access/matrix"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) GET /access/matrix should reject L1 (waiter) from accessing matrix","invocations":1,"location":{"column":5,"line":109},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject L1 (waiter) from accessing matrix"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","GET /access/matrix"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) GET /access/matrix should reject unauthenticated requests","invocations":1,"location":{"column":5,"line":116},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject unauthenticated requests"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","PATCH /access/matrix"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) PATCH /access/matrix should allow L4 (manager) to update platform access matrix","invocations":1,"location":{"column":5,"line":122},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should allow L4 (manager) to update platform access matrix"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","PATCH /access/matrix"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) PATCH /access/matrix should reject updates with invalid structure","invocations":1,"location":{"column":5,"line":137},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject updates with invalid structure"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","PATCH /access/matrix"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) PATCH /access/matrix should reject L3 (procurement) from updating matrix","invocations":1,"location":{"column":5,"line":149},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject L3 (procurement) from updating matrix"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","PATCH /access/matrix"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) PATCH /access/matrix should reject L2 (ticket master) from updating matrix","invocations":1,"location":{"column":5,"line":161},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject L2 (ticket master) from updating matrix"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","PATCH /access/matrix"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) PATCH /access/matrix should reject unauthenticated requests","invocations":1,"location":{"column":5,"line":173},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject unauthenticated requests"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","New role authentication"],"duration":119,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) New role authentication should authenticate procurement user (L3)","invocations":1,"location":{"column":5,"line":186},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should authenticate procurement user (L3)"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","New role authentication"],"duration":127,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) New role authentication should authenticate stock user (L3)","invocations":1,"location":{"column":5,"line":203},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should authenticate stock user (L3)"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","New role authentication"],"duration":130,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) New role authentication should authenticate event manager user (L3)","invocations":1,"location":{"column":5,"line":220},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should authenticate event manager user (L3)"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","New role authentication"],"duration":123,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) New role authentication should authenticate supervisor user (L2)","invocations":1,"location":{"column":5,"line":237},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should authenticate supervisor user (L2)"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","New role authentication"],"duration":118,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) New role authentication should authenticate chef user (L2)","invocations":1,"location":{"column":5,"line":254},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should authenticate chef user (L2)"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","New role authentication"],"duration":125,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) New role authentication should authenticate bartender user (L1)","invocations":1,"location":{"column":5,"line":271},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should authenticate bartender user (L1)"},{"ancestorTitles":["E23 Roles & Platform Access (e2e)","Platform access matrix persistence"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"E23 Roles & Platform Access (e2e) Platform access matrix persistence should persist and retrieve updated platform access","invocations":1,"location":{"column":5,"line":290},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should persist and retrieve updated platform access"}],"endTime":1767325128835,"message":"  â— E23 Roles & Platform Access (e2e) â€º GET /access/matrix â€º should allow L4 (manager) to get platform access matrix\n\n    expect(received).toHaveProperty(path)\n\n    Expected path: \"TICKET_MASTER\"\n    Received path: []\n\n    Received value: {\"ACCOUNTANT\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"CASHIER\": {\"desktop\": true, \"mobile\": false, \"web\": false}, \"HEAD_CHEF\": {\"desktop\": true, \"mobile\": true, \"web\": false}, \"MANAGER\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"OWNER\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"PROCUREMENT\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"STOCK\": {\"desktop\": false, \"mobile\": true, \"web\": true}, \"SUPERVISOR\": {\"desktop\": true, \"mobile\": false, \"web\": false}, \"WAITER\": {\"desktop\": true, \"mobile\": false, \"web\": false}}\n\n      90 |       expect(response.body.platformAccess).toHaveProperty('WAITER');\n      91 |       expect(response.body.platformAccess).toHaveProperty('PROCUREMENT');\n    > 92 |       expect(response.body.platformAccess).toHaveProperty('TICKET_MASTER');\n         |                                            ^\n      93 |     });\n      94 |\n      95 |     it('should reject L3 (procurement) from accessing matrix', async () => {\n\n      at Object.<anonymous> (e23-roles-access.e2e-spec.ts:92:44)\n","name":"/workspaces/chefcloud/services/api/test/e23-roles-access.e2e-spec.ts","startTime":1767325120333,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Workforce E2E"],"duration":9,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/workforce.e2e-spec.ts:60:8)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Workforce E2E should clock in â†’ clock out","invocations":1,"location":{"column":3,"line":55},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should clock in â†’ clock out"}],"endTime":1767325130563,"message":"  â— Workforce E2E â€º should clock in â†’ clock out\n\n    expected 201 \"Created\", got 404 \"Not Found\"\n\n      58 |       .post('/workforce/attendance/clock-in')\n      59 |       .set('Authorization', `Bearer ${waiterToken}`)\n    > 60 |       .expect(201);\n         |        ^\n      61 |\n      62 |     const _attendanceId = clockInResponse.body.id;\n      63 |     expect(clockInResponse.body.clockIn).toBeDefined();\n\n      at Object.<anonymous> (e2e/workforce.e2e-spec.ts:60:8)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n","name":"/workspaces/chefcloud/services/api/test/e2e/workforce.e2e-spec.ts","startTime":1767325128843,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["POS E2E"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'upsert')\n    at createFloor (/workspaces/chefcloud/services/api/test/e2e/factory.ts:238:44)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/pos.e2e-spec.ts:36:36)"],"fullName":"POS E2E should create order â†’ send-to-kitchen â†’ close","invocations":1,"location":{"column":3,"line":55},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create order â†’ send-to-kitchen â†’ close"}],"endTime":1767325131980,"message":"  â— POS E2E â€º should create order â†’ send-to-kitchen â†’ close\n\n    TypeError: Cannot read properties of undefined (reading 'upsert')\n\n      236 |  */\n      237 | export async function createFloor(prisma: PrismaClient, orgId: string, branchId: string) {\n    > 238 |   const floorPlan = await prisma.floorPlan.upsert({\n          |                                            ^\n      239 |     where: { id: `floor-e2e-${orgId}` },\n      240 |     update: {},\n      241 |     create: {\n\n      at createFloor (e2e/factory.ts:238:44)\n      at Object.<anonymous> (e2e/pos.e2e-spec.ts:36:36)\n","name":"/workspaces/chefcloud/services/api/test/e2e/pos.e2e-spec.ts","startTime":1767325130566,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Bookings E2E"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'upsert')\n    at createEvent (/workspaces/chefcloud/services/api/test/e2e/factory.ts:329:36)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/bookings.e2e-spec.ts:33:36)"],"fullName":"Bookings E2E should create booking â†’ HOLD â†’ pay â†’ confirm","invocations":1,"location":{"column":3,"line":50},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create booking â†’ HOLD â†’ pay â†’ confirm"}],"endTime":1767325133287,"message":"  â— Bookings E2E â€º should create booking â†’ HOLD â†’ pay â†’ confirm\n\n    TypeError: Cannot read properties of undefined (reading 'upsert')\n\n      327 |  */\n      328 | export async function createEvent(prisma: PrismaClient, orgId: string, branchId: string) {\n    > 329 |   const event = await prisma.event.upsert({\n          |                                    ^\n      330 |     where: { id: `event-${orgId}` },\n      331 |     update: {},\n      332 |     create: {\n\n      at createEvent (e2e/factory.ts:329:36)\n      at Object.<anonymous> (e2e/bookings.e2e-spec.ts:33:36)\n","name":"/workspaces/chefcloud/services/api/test/e2e/bookings.e2e-spec.ts","startTime":1767325131985,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Inventory E2E"],"duration":17,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/inventory.e2e-spec.ts:59:8)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Inventory E2E should receive PO â†’ on-hand increases","invocations":1,"location":{"column":3,"line":54},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should receive PO â†’ on-hand increases"}],"endTime":1767325134954,"message":"  â— Inventory E2E â€º should receive PO â†’ on-hand increases\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\n      57 |       .get(`/inventory/items/${beefId}`)\n      58 |       .set('Authorization', `Bearer ${authToken}`)\n    > 59 |       .expect(200);\n         |        ^\n      60 |\n      61 |     const initialOnHand = initialResponse.body.onHand || 0;\n      62 |\n\n      at Object.<anonymous> (e2e/inventory.e2e-spec.ts:59:8)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n","name":"/workspaces/chefcloud/services/api/test/e2e/inventory.e2e-spec.ts","startTime":1767325133296,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Reports E2E"],"duration":9,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/reports.e2e-spec.ts:50:8)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Reports E2E should fetch X report (shift summary)","invocations":1,"location":{"column":3,"line":46},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should fetch X report (shift summary)"},{"ancestorTitles":["Reports E2E"],"duration":5,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/reports.e2e-spec.ts:64:8)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"Reports E2E should fetch owner overview","invocations":1,"location":{"column":3,"line":56},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should fetch owner overview"}],"endTime":1767325136475,"message":"  â— Reports E2E â€º should fetch X report (shift summary)\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\n      48 |       .get('/reports/x-report')\n      49 |       .set('Authorization', `Bearer ${authToken}`)\n    > 50 |       .expect(200);\n         |        ^\n      51 |\n      52 |     expect(response.body).toBeDefined();\n      53 |     expect(response.body.shift).toBeDefined();\n\n      at Object.<anonymous> (e2e/reports.e2e-spec.ts:50:8)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— Reports E2E â€º should fetch owner overview\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\n      62 |         endDate: '2025-01-31',\n      63 |       })\n    > 64 |       .expect(200);\n         |        ^\n      65 |\n      66 |     expect(response.body).toBeDefined();\n      67 |   });\n\n      at Object.<anonymous> (e2e/reports.e2e-spec.ts:64:8)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n","name":"/workspaces/chefcloud/services/api/test/e2e/reports.e2e-spec.ts","startTime":1767325134959,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["E24 Subscriptions & Dev Portal (e2e)","Dev Portal - POST /dev/orgs"],"duration":19,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e24-subscriptions.e2e-spec.ts:31:12)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"E24 Subscriptions & Dev Portal (e2e) Dev Portal - POST /dev/orgs should create org with ACTIVE subscription (dev admin)","invocations":1,"location":{"column":5,"line":21},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create org with ACTIVE subscription (dev admin)"},{"ancestorTitles":["E24 Subscriptions & Dev Portal (e2e)","Dev Portal - POST /dev/orgs"],"duration":4,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e24-subscriptions.e2e-spec.ts:51:10)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"E24 Subscriptions & Dev Portal (e2e) Dev Portal - POST /dev/orgs should reject without dev admin header","invocations":1,"location":{"column":5,"line":43},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject without dev admin header"},{"ancestorTitles":["E24 Subscriptions & Dev Portal (e2e)","Dev Portal - GET /dev/subscriptions"],"duration":2,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e24-subscriptions.e2e-spec.ts:60:10)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"E24 Subscriptions & Dev Portal (e2e) Dev Portal - GET /dev/subscriptions should list all subscriptions (dev admin)","invocations":1,"location":{"column":5,"line":56},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should list all subscriptions (dev admin)"},{"ancestorTitles":["E24 Subscriptions & Dev Portal (e2e)","Dev Portal - POST /dev/plans"],"duration":3,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e24-subscriptions.e2e-spec.ts:82:10)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"E24 Subscriptions & Dev Portal (e2e) Dev Portal - POST /dev/plans should upsert plan (super dev)","invocations":1,"location":{"column":5,"line":71},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should upsert plan (super dev)"},{"ancestorTitles":["E24 Subscriptions & Dev Portal (e2e)","Dev Portal - POST /dev/plans"],"duration":40,"failureDetails":[{}],"failureMessages":["Error: expected 403 \"Forbidden\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e24-subscriptions.e2e-spec.ts:110:10)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"E24 Subscriptions & Dev Portal (e2e) Dev Portal - POST /dev/plans should reject non-super dev from creating plans","invocations":1,"location":{"column":5,"line":88},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject non-super dev from creating plans"},{"ancestorTitles":["E24 Subscriptions & Dev Portal (e2e)","Billing - GET /billing/subscription"],"duration":124,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e24-subscriptions.e2e-spec.ts:130:10)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"E24 Subscriptions & Dev Portal (e2e) Billing - GET /billing/subscription should return subscription for org owner","invocations":1,"location":{"column":5,"line":115},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return subscription for org owner"},{"ancestorTitles":["E24 Subscriptions & Dev Portal (e2e)","Billing - GET /billing/subscription"],"duration":148,"failureDetails":[],"failureMessages":[],"fullName":"E24 Subscriptions & Dev Portal (e2e) Billing - GET /billing/subscription should reject non-owner from viewing subscription","invocations":1,"location":{"column":5,"line":138},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject non-owner from viewing subscription"},{"ancestorTitles":["E24 Subscriptions & Dev Portal (e2e)","Billing - POST /billing/plan/change"],"duration":129,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 403 \"Forbidden\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e24-subscriptions.e2e-spec.ts:173:10)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"E24 Subscriptions & Dev Portal (e2e) Billing - POST /billing/plan/change should allow owner to request plan change","invocations":1,"location":{"column":5,"line":158},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow owner to request plan change"},{"ancestorTitles":["E24 Subscriptions & Dev Portal (e2e)","Billing - POST /billing/cancel"],"duration":124,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 403 \"Forbidden\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e24-subscriptions.e2e-spec.ts:195:10)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"E24 Subscriptions & Dev Portal (e2e) Billing - POST /billing/cancel should allow owner to request cancellation","invocations":1,"location":{"column":5,"line":181},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow owner to request cancellation"}],"endTime":1767325137902,"message":"  â— E24 Subscriptions & Dev Portal (e2e) â€º Dev Portal - POST /dev/orgs â€º should create org with ACTIVE subscription (dev admin)\n\n    expected 201 \"Created\", got 404 \"Not Found\"\n\n      29 |             planCode: 'BASIC',\n      30 |           })\n    > 31 |           .expect(201),\n         |            ^\n      32 |         { label: 'POST /dev/orgs', ms: 30000 }\n      33 |       );\n      34 |\n\n      at Object.<anonymous> (e24-subscriptions.e2e-spec.ts:31:12)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— E24 Subscriptions & Dev Portal (e2e) â€º Dev Portal - POST /dev/orgs â€º should reject without dev admin header\n\n    expected 401 \"Unauthorized\", got 404 \"Not Found\"\n\n      49 |           planCode: 'PRO',\n      50 |         })\n    > 51 |         .expect(401);\n         |          ^\n      52 |     });\n      53 |   });\n      54 |\n\n      at Object.<anonymous> (e24-subscriptions.e2e-spec.ts:51:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— E24 Subscriptions & Dev Portal (e2e) â€º Dev Portal - GET /dev/subscriptions â€º should list all subscriptions (dev admin)\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\n      58 |         .get('/dev/subscriptions')\n      59 |         .set('X-Dev-Admin', 'dev1@chefcloud.local')\n    > 60 |         .expect(200);\n         |          ^\n      61 |\n      62 |       expect(Array.isArray(response.body)).toBe(true);\n      63 |       expect(response.body.length).toBeGreaterThan(0);\n\n      at Object.<anonymous> (e24-subscriptions.e2e-spec.ts:60:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— E24 Subscriptions & Dev Portal (e2e) â€º Dev Portal - POST /dev/plans â€º should upsert plan (super dev)\n\n    expected 201 \"Created\", got 404 \"Not Found\"\n\n      80 |           isActive: true,\n      81 |         })\n    > 82 |         .expect(201);\n         |          ^\n      83 |\n      84 |       expect(response.body.code).toBe('TEST_PLAN');\n      85 |       expect(response.body.name).toBe('Test Plan');\n\n      at Object.<anonymous> (e24-subscriptions.e2e-spec.ts:82:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— E24 Subscriptions & Dev Portal (e2e) â€º Dev Portal - POST /dev/plans â€º should reject non-super dev from creating plans\n\n    expected 403 \"Forbidden\", got 404 \"Not Found\"\n\n      108 |           features: {},\n      109 |         })\n    > 110 |         .expect(403);\n          |          ^\n      111 |     });\n      112 |   });\n      113 |\n\n      at Object.<anonymous> (e24-subscriptions.e2e-spec.ts:110:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— E24 Subscriptions & Dev Portal (e2e) â€º Billing - GET /billing/subscription â€º should return subscription for org owner\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\n      128 |         .get('/billing/subscription')\n      129 |         .set('Authorization', `Bearer ${token}`)\n    > 130 |         .expect(200);\n          |          ^\n      131 |\n      132 |       expect(response.body).toHaveProperty('plan');\n      133 |       expect(response.body).toHaveProperty('status');\n\n      at Object.<anonymous> (e24-subscriptions.e2e-spec.ts:130:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— E24 Subscriptions & Dev Portal (e2e) â€º Billing - POST /billing/plan/change â€º should allow owner to request plan change\n\n    expected 201 \"Created\", got 403 \"Forbidden\"\n\n      171 |         .set('Authorization', `Bearer ${token}`)\n      172 |         .send({ planCode: 'ENTERPRISE' })\n    > 173 |         .expect(201);\n          |          ^\n      174 |\n      175 |       expect(response.body).toHaveProperty('message');\n      176 |       expect(response.body).toHaveProperty('effectiveDate');\n\n      at Object.<anonymous> (e24-subscriptions.e2e-spec.ts:173:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— E24 Subscriptions & Dev Portal (e2e) â€º Billing - POST /billing/cancel â€º should allow owner to request cancellation\n\n    expected 201 \"Created\", got 403 \"Forbidden\"\n\n      193 |         .post('/billing/cancel')\n      194 |         .set('Authorization', `Bearer ${token}`)\n    > 195 |         .expect(201);\n          |          ^\n      196 |\n      197 |       expect(response.body).toHaveProperty('message');\n      198 |       expect(response.body).toHaveProperty('effectiveDate');\n\n      at Object.<anonymous> (e24-subscriptions.e2e-spec.ts:195:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n","name":"/workspaces/chefcloud/services/api/test/e24-subscriptions.e2e-spec.ts","startTime":1767325136480,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Accounting E2E"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'upsert')\n    at createChartOfAccounts (/workspaces/chefcloud/services/api/test/e2e/factory.ts:364:42)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/accounting.e2e-spec.ts:33:32)"],"fullName":"Accounting E2E should create period â†’ lock â†’ posting blocked","invocations":1,"location":{"column":3,"line":50},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create period â†’ lock â†’ posting blocked"}],"endTime":1767325139191,"message":"  â— Accounting E2E â€º should create period â†’ lock â†’ posting blocked\n\n    TypeError: Cannot read properties of undefined (reading 'upsert')\n\n      362 |   const created = [];\n      363 |   for (const acc of accounts) {\n    > 364 |     const account = await prisma.account.upsert({\n          |                                          ^\n      365 |       where: { orgId_code: { orgId, code: acc.code } },\n      366 |       update: {},\n      367 |       create: {\n\n      at createChartOfAccounts (e2e/factory.ts:364:42)\n      at Object.<anonymous> (e2e/accounting.e2e-spec.ts:33:32)\n","name":"/workspaces/chefcloud/services/api/test/e2e/accounting.e2e-spec.ts","startTime":1767325137907,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["SSE /stream/kpis Security (E26)","Authentication"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts:49:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SSE /stream/kpis Security (E26) Authentication should return 401 when no token provided","invocations":1,"location":{"column":5,"line":48},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 401 when no token provided"},{"ancestorTitles":["SSE /stream/kpis Security (E26)","Authentication"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts:55:13)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SSE /stream/kpis Security (E26) Authentication should return 401 with invalid token","invocations":1,"location":{"column":5,"line":54},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 401 with invalid token"},{"ancestorTitles":["SSE /stream/kpis Security (E26)","Authorization"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts:64:13)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SSE /stream/kpis Security (E26) Authorization should return 403 for L1 (Waiter) role","invocations":1,"location":{"column":5,"line":63},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 403 for L1 (Waiter) role"},{"ancestorTitles":["SSE /stream/kpis Security (E26)","Authorization"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at label (/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts:73:23)\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts:72:9)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SSE /stream/kpis Security (E26) Authorization should allow L4 (Manager) role","invocations":1,"location":{"column":5,"line":70},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow L4 (Manager) role"},{"ancestorTitles":["SSE /stream/kpis Security (E26)","Authorization"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at label (/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts:104:23)\n    at new Promise (<anonymous>)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts:103:9)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SSE /stream/kpis Security (E26) Authorization should allow L5 (Owner) role","invocations":1,"location":{"column":5,"line":101},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow L5 (Owner) role"},{"ancestorTitles":["SSE /stream/kpis Security (E26)","SSE Headers"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts:135:19)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SSE /stream/kpis Security (E26) SSE Headers should set correct SSE headers","invocations":1,"location":{"column":5,"line":134},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should set correct SSE headers"},{"ancestorTitles":["SSE /stream/kpis Security (E26)","Event Emission"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts:154:19)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SSE /stream/kpis Security (E26) Event Emission should emit at least one KPIs event with valid token","invocations":1,"location":{"column":5,"line":153},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should emit at least one KPIs event with valid token"},{"ancestorTitles":["SSE /stream/kpis Security (E26)","Org-Scope Isolation"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts:188:19)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SSE /stream/kpis Security (E26) Org-Scope Isolation should only stream data for authenticated user's org","invocations":1,"location":{"column":5,"line":185},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should only stream data for authenticated user's org"},{"ancestorTitles":["SSE /stream/kpis Security (E26)","Rate Limiting"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"SSE /stream/kpis Security (E26) Rate Limiting should return 429 after exceeding rate limit","invocations":1,"location":{"column":8,"line":208},"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should return 429 after exceeding rate limit"},{"ancestorTitles":["SSE /stream/kpis Security (E26)","Rate Limiting"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"SSE /stream/kpis Security (E26) Rate Limiting should block concurrent connections beyond limit","invocations":1,"location":{"column":8,"line":213},"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should block concurrent connections beyond limit"},{"ancestorTitles":["SSE /stream/kpis Security (E26)","Connection Cleanup"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts:221:19)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SSE /stream/kpis Security (E26) Connection Cleanup should clean up resources on disconnect","invocations":1,"location":{"column":5,"line":220},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should clean up resources on disconnect"},{"ancestorTitles":["SSE /stream/kpis Security (E26)","CORS"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts:242:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SSE /stream/kpis Security (E26) CORS should respect CORS allowlist","invocations":1,"location":{"column":5,"line":241},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should respect CORS allowlist"}],"endTime":1767325140383,"message":"  â— SSE /stream/kpis Security (E26) â€º Authentication â€º should return 401 when no token provided\n\n    TypeError: request is not a function\n\n      47 |   describe('Authentication', () => {\n      48 |     it('should return 401 when no token provided', async () => {\n    > 49 |       const response = await request(app.getHttpServer()).get('/stream/kpis').expect(401);\n         |                              ^\n      50 |\n      51 |       expect(response.body).toHaveProperty('message');\n      52 |     });\n\n      at Object.<anonymous> (sse-security.e2e-spec.ts:49:30)\n\n  â— SSE /stream/kpis Security (E26) â€º Authentication â€º should return 401 with invalid token\n\n    TypeError: request is not a function\n\n      53 |\n      54 |     it('should return 401 with invalid token', async () => {\n    > 55 |       await request(app.getHttpServer())\n         |             ^\n      56 |         .get('/stream/kpis')\n      57 |         .set('Authorization', 'Bearer invalid-token-here')\n      58 |         .expect(401);\n\n      at Object.<anonymous> (sse-security.e2e-spec.ts:55:13)\n\n  â— SSE /stream/kpis Security (E26) â€º Authorization â€º should return 403 for L1 (Waiter) role\n\n    TypeError: request is not a function\n\n      62 |   describe('Authorization', () => {\n      63 |     it('should return 403 for L1 (Waiter) role', async () => {\n    > 64 |       await request(app.getHttpServer())\n         |             ^\n      65 |         .get('/stream/kpis')\n      66 |         .set('Authorization', `Bearer ${waiterToken}`)\n      67 |         .expect(403);\n\n      at Object.<anonymous> (sse-security.e2e-spec.ts:64:13)\n\n  â— SSE /stream/kpis Security (E26) â€º Authorization â€º should allow L4 (Manager) role\n\n    TypeError: request is not a function\n\n      71 |       await withTimeout(\n      72 |         new Promise<void>((resolve, reject) => {\n    > 73 |           const req = request(app.getHttpServer())\n         |                       ^\n      74 |             .get('/stream/kpis')\n      75 |             .set('Authorization', `Bearer ${managerToken}`)\n      76 |             .expect(200);\n\n      at label (sse-security.e2e-spec.ts:73:23)\n      at Object.<anonymous> (sse-security.e2e-spec.ts:72:9)\n\n  â— SSE /stream/kpis Security (E26) â€º Authorization â€º should allow L5 (Owner) role\n\n    TypeError: request is not a function\n\n      102 |       await withTimeout(\n      103 |         new Promise<void>((resolve, reject) => {\n    > 104 |           const req = request(app.getHttpServer())\n          |                       ^\n      105 |             .get('/stream/kpis')\n      106 |             .set('Authorization', `Bearer ${ownerToken}`)\n      107 |             .expect(200);\n\n      at label (sse-security.e2e-spec.ts:104:23)\n      at Object.<anonymous> (sse-security.e2e-spec.ts:103:9)\n\n  â— SSE /stream/kpis Security (E26) â€º SSE Headers â€º should set correct SSE headers\n\n    TypeError: request is not a function\n\n      133 |   describe('SSE Headers', () => {\n      134 |     it('should set correct SSE headers', (done) => {\n    > 135 |       const req = request(app.getHttpServer())\n          |                   ^\n      136 |         .get('/stream/kpis')\n      137 |         .set('Authorization', `Bearer ${ownerToken}`);\n      138 |\n\n      at Object.<anonymous> (sse-security.e2e-spec.ts:135:19)\n\n  â— SSE /stream/kpis Security (E26) â€º Event Emission â€º should emit at least one KPIs event with valid token\n\n    TypeError: request is not a function\n\n      152 |   describe('Event Emission', () => {\n      153 |     it('should emit at least one KPIs event with valid token', (done) => {\n    > 154 |       const req = request(app.getHttpServer())\n          |                   ^\n      155 |         .get('/stream/kpis')\n      156 |         .set('Authorization', `Bearer ${managerToken}`);\n      157 |\n\n      at Object.<anonymous> (sse-security.e2e-spec.ts:154:19)\n\n  â— SSE /stream/kpis Security (E26) â€º Org-Scope Isolation â€º should only stream data for authenticated user's org\n\n    TypeError: request is not a function\n\n      186 |       // This test verifies that the endpoint uses req.user.orgId\n      187 |       // and doesn't leak data from other orgs\n    > 188 |       const req = request(app.getHttpServer())\n          |                   ^\n      189 |         .get('/stream/kpis')\n      190 |         .set('Authorization', `Bearer ${ownerToken}`);\n      191 |\n\n      at Object.<anonymous> (sse-security.e2e-spec.ts:188:19)\n\n  â— SSE /stream/kpis Security (E26) â€º Connection Cleanup â€º should clean up resources on disconnect\n\n    TypeError: request is not a function\n\n      219 |   describe('Connection Cleanup', () => {\n      220 |     it('should clean up resources on disconnect', (done) => {\n    > 221 |       const req = request(app.getHttpServer())\n          |                   ^\n      222 |         .get('/stream/kpis')\n      223 |         .set('Authorization', `Bearer ${ownerToken}`);\n      224 |\n\n      at Object.<anonymous> (sse-security.e2e-spec.ts:221:19)\n\n  â— SSE /stream/kpis Security (E26) â€º CORS â€º should respect CORS allowlist\n\n    TypeError: request is not a function\n\n      240 |   describe('CORS', () => {\n      241 |     it('should respect CORS allowlist', async () => {\n    > 242 |       const response = await request(app.getHttpServer())\n          |                              ^\n      243 |         .get('/stream/kpis')\n      244 |         .set('Origin', 'http://localhost:3000')\n      245 |         .set('Authorization', `Bearer ${ownerToken}`);\n\n      at Object.<anonymous> (sse-security.e2e-spec.ts:242:30)\n","name":"/workspaces/chefcloud/services/api/test/sse-security.e2e-spec.ts","startTime":1767325139204,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["M1 KDS Enterprise (e2e)","KDS Queue with Enhanced DTOs"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: menuResponse.body.find is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/m1-kds-enterprise.e2e-spec.ts:63:38)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"M1 KDS Enterprise (e2e) KDS Queue with Enhanced DTOs should return tickets with waiterName, slaState, and proper ordering","invocations":1,"location":{"column":5,"line":89},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return tickets with waiterName, slaState, and proper ordering"},{"ancestorTitles":["M1 KDS Enterprise (e2e)","KDS Queue with Enhanced DTOs"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: menuResponse.body.find is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/m1-kds-enterprise.e2e-spec.ts:63:38)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"M1 KDS Enterprise (e2e) KDS Queue with Enhanced DTOs should filter tickets by station correctly","invocations":1,"location":{"column":5,"line":170},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should filter tickets by station correctly"},{"ancestorTitles":["M1 KDS Enterprise (e2e)","KDS Queue with Enhanced DTOs"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: menuResponse.body.find is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/m1-kds-enterprise.e2e-spec.ts:63:38)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"M1 KDS Enterprise (e2e) KDS Queue with Enhanced DTOs should support \"since\" parameter for incremental sync","invocations":1,"location":{"column":5,"line":220},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should support \"since\" parameter for incremental sync"},{"ancestorTitles":["M1 KDS Enterprise (e2e)","SLA Configuration"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: menuResponse.body.find is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/m1-kds-enterprise.e2e-spec.ts:63:38)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"M1 KDS Enterprise (e2e) SLA Configuration should get default SLA config for a station","invocations":1,"location":{"column":5,"line":261},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should get default SLA config for a station"},{"ancestorTitles":["M1 KDS Enterprise (e2e)","SLA Configuration"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: menuResponse.body.find is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/m1-kds-enterprise.e2e-spec.ts:63:38)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"M1 KDS Enterprise (e2e) SLA Configuration should update SLA config (Manager/Owner only)","invocations":1,"location":{"column":5,"line":273},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update SLA config (Manager/Owner only)"},{"ancestorTitles":["M1 KDS Enterprise (e2e)","SLA Configuration"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: menuResponse.body.find is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/m1-kds-enterprise.e2e-spec.ts:63:38)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"M1 KDS Enterprise (e2e) SLA Configuration should reject SLA config update from waiter (L1)","invocations":1,"location":{"column":5,"line":296},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject SLA config update from waiter (L1)"},{"ancestorTitles":["M1 KDS Enterprise (e2e)","KDS Resilience"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: menuResponse.body.find is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/m1-kds-enterprise.e2e-spec.ts:63:38)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"M1 KDS Enterprise (e2e) KDS Resilience should handle marking ticket ready and checking all-ready state","invocations":1,"location":{"column":5,"line":309},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle marking ticket ready and checking all-ready state"}],"endTime":1767325141746,"message":"  â— M1 KDS Enterprise (e2e) â€º KDS Queue with Enhanced DTOs â€º should return tickets with waiterName, slaState, and proper ordering\n\n    TypeError: menuResponse.body.find is not a function\n\n      61 |       .set('Authorization', `Bearer ${waiterToken}`);\n      62 |\n    > 63 |     const burger = menuResponse.body.find((item: any) => item.name === 'Burger');\n         |                                      ^\n      64 |     const fries = menuResponse.body.find((item: any) => item.name === 'Fries');\n      65 |     const beer = menuResponse.body.find((item: any) => item.name === 'Beer');\n      66 |     burgerId = burger?.id;\n\n      at Object.<anonymous> (m1-kds-enterprise.e2e-spec.ts:63:38)\n\n  â— M1 KDS Enterprise (e2e) â€º KDS Queue with Enhanced DTOs â€º should filter tickets by station correctly\n\n    TypeError: menuResponse.body.find is not a function\n\n      61 |       .set('Authorization', `Bearer ${waiterToken}`);\n      62 |\n    > 63 |     const burger = menuResponse.body.find((item: any) => item.name === 'Burger');\n         |                                      ^\n      64 |     const fries = menuResponse.body.find((item: any) => item.name === 'Fries');\n      65 |     const beer = menuResponse.body.find((item: any) => item.name === 'Beer');\n      66 |     burgerId = burger?.id;\n\n      at Object.<anonymous> (m1-kds-enterprise.e2e-spec.ts:63:38)\n\n  â— M1 KDS Enterprise (e2e) â€º KDS Queue with Enhanced DTOs â€º should support \"since\" parameter for incremental sync\n\n    TypeError: menuResponse.body.find is not a function\n\n      61 |       .set('Authorization', `Bearer ${waiterToken}`);\n      62 |\n    > 63 |     const burger = menuResponse.body.find((item: any) => item.name === 'Burger');\n         |                                      ^\n      64 |     const fries = menuResponse.body.find((item: any) => item.name === 'Fries');\n      65 |     const beer = menuResponse.body.find((item: any) => item.name === 'Beer');\n      66 |     burgerId = burger?.id;\n\n      at Object.<anonymous> (m1-kds-enterprise.e2e-spec.ts:63:38)\n\n  â— M1 KDS Enterprise (e2e) â€º SLA Configuration â€º should get default SLA config for a station\n\n    TypeError: menuResponse.body.find is not a function\n\n      61 |       .set('Authorization', `Bearer ${waiterToken}`);\n      62 |\n    > 63 |     const burger = menuResponse.body.find((item: any) => item.name === 'Burger');\n         |                                      ^\n      64 |     const fries = menuResponse.body.find((item: any) => item.name === 'Fries');\n      65 |     const beer = menuResponse.body.find((item: any) => item.name === 'Beer');\n      66 |     burgerId = burger?.id;\n\n      at Object.<anonymous> (m1-kds-enterprise.e2e-spec.ts:63:38)\n\n  â— M1 KDS Enterprise (e2e) â€º SLA Configuration â€º should update SLA config (Manager/Owner only)\n\n    TypeError: menuResponse.body.find is not a function\n\n      61 |       .set('Authorization', `Bearer ${waiterToken}`);\n      62 |\n    > 63 |     const burger = menuResponse.body.find((item: any) => item.name === 'Burger');\n         |                                      ^\n      64 |     const fries = menuResponse.body.find((item: any) => item.name === 'Fries');\n      65 |     const beer = menuResponse.body.find((item: any) => item.name === 'Beer');\n      66 |     burgerId = burger?.id;\n\n      at Object.<anonymous> (m1-kds-enterprise.e2e-spec.ts:63:38)\n\n  â— M1 KDS Enterprise (e2e) â€º SLA Configuration â€º should reject SLA config update from waiter (L1)\n\n    TypeError: menuResponse.body.find is not a function\n\n      61 |       .set('Authorization', `Bearer ${waiterToken}`);\n      62 |\n    > 63 |     const burger = menuResponse.body.find((item: any) => item.name === 'Burger');\n         |                                      ^\n      64 |     const fries = menuResponse.body.find((item: any) => item.name === 'Fries');\n      65 |     const beer = menuResponse.body.find((item: any) => item.name === 'Beer');\n      66 |     burgerId = burger?.id;\n\n      at Object.<anonymous> (m1-kds-enterprise.e2e-spec.ts:63:38)\n\n  â— M1 KDS Enterprise (e2e) â€º KDS Resilience â€º should handle marking ticket ready and checking all-ready state\n\n    TypeError: menuResponse.body.find is not a function\n\n      61 |       .set('Authorization', `Bearer ${waiterToken}`);\n      62 |\n    > 63 |     const burger = menuResponse.body.find((item: any) => item.name === 'Burger');\n         |                                      ^\n      64 |     const fries = menuResponse.body.find((item: any) => item.name === 'Fries');\n      65 |     const beer = menuResponse.body.find((item: any) => item.name === 'Beer');\n      66 |     burgerId = burger?.id;\n\n      at Object.<anonymous> (m1-kds-enterprise.e2e-spec.ts:63:38)\n","name":"/workspaces/chefcloud/services/api/test/m1-kds-enterprise.e2e-spec.ts","startTime":1767325140387,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["E26-s1: Live KPI Streaming (SSE)","GET /stream/kpis (SSE)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e26-kpis.e2e-spec.ts:49:25)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"E26-s1: Live KPI Streaming (SSE) GET /stream/kpis (SSE) should require authentication","invocations":1,"location":{"column":5,"line":48},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should require authentication"},{"ancestorTitles":["E26-s1: Live KPI Streaming (SSE)","GET /stream/kpis (SSE)"],"duration":129,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e26-kpis.e2e-spec.ts:58:13)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"E26-s1: Live KPI Streaming (SSE) GET /stream/kpis (SSE) should reject non-L4+ users","invocations":1,"location":{"column":5,"line":54},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject non-L4+ users"},{"ancestorTitles":["E26-s1: Live KPI Streaming (SSE)","GET /stream/kpis (SSE)"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e26-kpis.e2e-spec.ts:65:25)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"E26-s1: Live KPI Streaming (SSE) GET /stream/kpis (SSE) should require scope query param","invocations":1,"location":{"column":5,"line":64},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should require scope query param"},{"ancestorTitles":["E26-s1: Live KPI Streaming (SSE)","GET /stream/kpis (SSE)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e26-kpis.e2e-spec.ts:74:25)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"E26-s1: Live KPI Streaming (SSE) GET /stream/kpis (SSE) should require branchId for branch scope","invocations":1,"location":{"column":5,"line":73},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should require branchId for branch scope"},{"ancestorTitles":["E26-s1: Live KPI Streaming (SSE)","GET /stream/kpis (SSE)"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"E26-s1: Live KPI Streaming (SSE) GET /stream/kpis (SSE) should stream org-wide KPIs for L4+ user","invocations":1,"location":{"column":8,"line":85},"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should stream org-wide KPIs for L4+ user"},{"ancestorTitles":["E26-s1: Live KPI Streaming (SSE)","KPI Computation"],"duration":15,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation in\n/workspaces/chefcloud/services/api/test/e26-kpis.e2e-spec.ts:104:40\n\n  101 describe('KPI Computation', () => {\n  102   it('should compute salesToday from completed orders', async () => {\n  103     // Create a completed order in Tapas branch\nâ†’ 104     const order = await prisma.order.create({\n            data: {\n              orgId: \"00000000-0000-4000-8000-000000000001\",\n              branchId: \"00000000-0000-4000-8000-000000000101\",\n              totalAmount: 10000,\n              status: \"COMPLETED\",\n          +   orderNumber: String\n            }\n          })\n\nArgument `orderNumber` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e26-kpis.e2e-spec.ts:104:21)"],"fullName":"E26-s1: Live KPI Streaming (SSE) KPI Computation should compute salesToday from completed orders","invocations":1,"location":{"column":5,"line":102},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should compute salesToday from completed orders"},{"ancestorTitles":["E26-s1: Live KPI Streaming (SSE)","KPI Computation"],"duration":5,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation in\n/workspaces/chefcloud/services/api/test/e26-kpis.e2e-spec.ts:121:41\n\n  118 });\n  119 \n  120 it('should count open orders correctly', async () => {\nâ†’ 121   const order1 = await prisma.order.create({\n          data: {\n            orgId: \"00000000-0000-4000-8000-000000000001\",\n            branchId: \"00000000-0000-4000-8000-000000000101\",\n            totalAmount: 5000,\n            status: \"NEW\",\n        +   orderNumber: String\n          }\n        })\n\nArgument `orderNumber` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e26-kpis.e2e-spec.ts:121:22)"],"fullName":"E26-s1: Live KPI Streaming (SSE) KPI Computation should count open orders correctly","invocations":1,"location":{"column":5,"line":120},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should count open orders correctly"}],"endTime":1767325142844,"message":"  â— E26-s1: Live KPI Streaming (SSE) â€º GET /stream/kpis (SSE) â€º should require authentication\n\n    TypeError: request is not a function\n\n      47 |   describe('GET /stream/kpis (SSE)', () => {\n      48 |     it('should require authentication', async () => {\n    > 49 |       const res = await request(app.getHttpServer()).get('/stream/kpis?scope=org').expect(401);\n         |                         ^\n      50 |\n      51 |       expect(res.body.message).toContain('Unauthorized');\n      52 |     });\n\n      at Object.<anonymous> (e26-kpis.e2e-spec.ts:49:25)\n\n  â— E26-s1: Live KPI Streaming (SSE) â€º GET /stream/kpis (SSE) â€º should reject non-L4+ users\n\n    TypeError: request is not a function\n\n      56 |       const waiterLogin = await loginAs(app, 'waiter', 'tapas');\n      57 |\n    > 58 |       await request(app.getHttpServer())\n         |             ^\n      59 |         .get('/stream/kpis?scope=org')\n      60 |         .set('Authorization', `Bearer ${waiterLogin.accessToken}`)\n      61 |         .expect(403);\n\n      at Object.<anonymous> (e26-kpis.e2e-spec.ts:58:13)\n\n  â— E26-s1: Live KPI Streaming (SSE) â€º GET /stream/kpis (SSE) â€º should require scope query param\n\n    TypeError: request is not a function\n\n      63 |\n      64 |     it('should require scope query param', async () => {\n    > 65 |       const res = await request(app.getHttpServer())\n         |                         ^\n      66 |         .get('/stream/kpis')\n      67 |         .set('Authorization', `Bearer ${managerToken}`)\n      68 |         .expect(400);\n\n      at Object.<anonymous> (e26-kpis.e2e-spec.ts:65:25)\n\n  â— E26-s1: Live KPI Streaming (SSE) â€º GET /stream/kpis (SSE) â€º should require branchId for branch scope\n\n    TypeError: request is not a function\n\n      72 |\n      73 |     it('should require branchId for branch scope', async () => {\n    > 74 |       const res = await request(app.getHttpServer())\n         |                         ^\n      75 |         .get('/stream/kpis?scope=branch')\n      76 |         .set('Authorization', `Bearer ${managerToken}`)\n      77 |         .expect(400);\n\n      at Object.<anonymous> (e26-kpis.e2e-spec.ts:74:25)\n\n  â— E26-s1: Live KPI Streaming (SSE) â€º KPI Computation â€º should compute salesToday from completed orders\n\n    PrismaClientValidationError: \n    Invalid `prisma.order.create()` invocation in\n    /workspaces/chefcloud/services/api/test/e26-kpis.e2e-spec.ts:104:40\n\n      101 describe('KPI Computation', () => {\n      102   it('should compute salesToday from completed orders', async () => {\n      103     // Create a completed order in Tapas branch\n    â†’ 104     const order = await prisma.order.create({\n                data: {\n                  orgId: \"00000000-0000-4000-8000-000000000001\",\n                  branchId: \"00000000-0000-4000-8000-000000000101\",\n                  totalAmount: 10000,\n                  status: \"COMPLETED\",\n              +   orderNumber: String\n                }\n              })\n\n    Argument `orderNumber` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at Object.<anonymous> (e26-kpis.e2e-spec.ts:104:21)\n\n  â— E26-s1: Live KPI Streaming (SSE) â€º KPI Computation â€º should count open orders correctly\n\n    PrismaClientValidationError: \n    Invalid `prisma.order.create()` invocation in\n    /workspaces/chefcloud/services/api/test/e26-kpis.e2e-spec.ts:121:41\n\n      118 });\n      119 \n      120 it('should count open orders correctly', async () => {\n    â†’ 121   const order1 = await prisma.order.create({\n              data: {\n                orgId: \"00000000-0000-4000-8000-000000000001\",\n                branchId: \"00000000-0000-4000-8000-000000000101\",\n                totalAmount: 5000,\n                status: \"NEW\",\n            +   orderNumber: String\n              }\n            })\n\n    Argument `orderNumber` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at Object.<anonymous> (e26-kpis.e2e-spec.ts:121:22)\n","name":"/workspaces/chefcloud/services/api/test/e26-kpis.e2e-spec.ts","startTime":1767325141755,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Plan-Aware Rate Limiting E2E","POST /billing/plan/change"],"duration":1,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n  157 });\n  158 \n  159 // Create test users\nâ†’ 160 const freeUser = await prisma.user.upsert({\n        where: {\n          email: \"rate-limit-free@test.local\"\n        },\n        update: {},\n        create: {\n          email: \"rate-limit-free@test.local\",\n          role: \"L5\",\n          orgId: \"cmjwbrcct005a304bwtbauw1e\",\n      +   firstName: String\n        }\n      })\n\nArgument `firstName` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:22)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:50:5)"],"fullName":"Plan-Aware Rate Limiting E2E POST /billing/plan/change should enforce free tier rate limit (10/min)","invocations":1,"location":{"column":5,"line":252},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should enforce free tier rate limit (10/min)"},{"ancestorTitles":["Plan-Aware Rate Limiting E2E","POST /billing/plan/change"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n  157 });\n  158 \n  159 // Create test users\nâ†’ 160 const freeUser = await prisma.user.upsert({\n        where: {\n          email: \"rate-limit-free@test.local\"\n        },\n        update: {},\n        create: {\n          email: \"rate-limit-free@test.local\",\n          role: \"L5\",\n          orgId: \"cmjwbrcct005a304bwtbauw1e\",\n      +   firstName: String\n        }\n      })\n\nArgument `firstName` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:22)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:50:5)"],"fullName":"Plan-Aware Rate Limiting E2E POST /billing/plan/change should allow pro tier higher limits (60/min)","invocations":1,"location":{"column":5,"line":282},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow pro tier higher limits (60/min)"},{"ancestorTitles":["Plan-Aware Rate Limiting E2E","POST /billing/plan/change"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n  157 });\n  158 \n  159 // Create test users\nâ†’ 160 const freeUser = await prisma.user.upsert({\n        where: {\n          email: \"rate-limit-free@test.local\"\n        },\n        update: {},\n        create: {\n          email: \"rate-limit-free@test.local\",\n          role: \"L5\",\n          orgId: \"cmjwbrcct005a304bwtbauw1e\",\n      +   firstName: String\n        }\n      })\n\nArgument `firstName` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:22)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:50:5)"],"fullName":"Plan-Aware Rate Limiting E2E POST /billing/plan/change should allow enterprise tier highest limits (240/min)","invocations":1,"location":{"column":5,"line":302},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow enterprise tier highest limits (240/min)"},{"ancestorTitles":["Plan-Aware Rate Limiting E2E","POST /billing/cancel"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n  157 });\n  158 \n  159 // Create test users\nâ†’ 160 const freeUser = await prisma.user.upsert({\n        where: {\n          email: \"rate-limit-free@test.local\"\n        },\n        update: {},\n        create: {\n          email: \"rate-limit-free@test.local\",\n          role: \"L5\",\n          orgId: \"cmjwbrcct005a304bwtbauw1e\",\n      +   firstName: String\n        }\n      })\n\nArgument `firstName` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:22)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:50:5)"],"fullName":"Plan-Aware Rate Limiting E2E POST /billing/cancel should apply rate limiting to cancel endpoint","invocations":1,"location":{"column":5,"line":324},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should apply rate limiting to cancel endpoint"},{"ancestorTitles":["Plan-Aware Rate Limiting E2E","Rate limit headers"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n  157 });\n  158 \n  159 // Create test users\nâ†’ 160 const freeUser = await prisma.user.upsert({\n        where: {\n          email: \"rate-limit-free@test.local\"\n        },\n        update: {},\n        create: {\n          email: \"rate-limit-free@test.local\",\n          role: \"L5\",\n          orgId: \"cmjwbrcct005a304bwtbauw1e\",\n      +   firstName: String\n        }\n      })\n\nArgument `firstName` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:22)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:50:5)"],"fullName":"Plan-Aware Rate Limiting E2E Rate limit headers should include Retry-After header in 429 responses","invocations":1,"location":{"column":5,"line":347},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should include Retry-After header in 429 responses"},{"ancestorTitles":["Plan-Aware Rate Limiting E2E","Authentication requirement"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n  157 });\n  158 \n  159 // Create test users\nâ†’ 160 const freeUser = await prisma.user.upsert({\n        where: {\n          email: \"rate-limit-free@test.local\"\n        },\n        update: {},\n        create: {\n          email: \"rate-limit-free@test.local\",\n          role: \"L5\",\n          orgId: \"cmjwbrcct005a304bwtbauw1e\",\n      +   firstName: String\n        }\n      })\n\nArgument `firstName` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:22)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:50:5)"],"fullName":"Plan-Aware Rate Limiting E2E Authentication requirement should reject requests without authentication","invocations":1,"location":{"column":5,"line":369},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject requests without authentication"},{"ancestorTitles":["Plan-Aware Rate Limiting E2E","Metrics"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.user.upsert()` invocation in\n/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n  157 });\n  158 \n  159 // Create test users\nâ†’ 160 const freeUser = await prisma.user.upsert({\n        where: {\n          email: \"rate-limit-free@test.local\"\n        },\n        update: {},\n        create: {\n          email: \"rate-limit-free@test.local\",\n          role: \"L5\",\n          orgId: \"cmjwbrcct005a304bwtbauw1e\",\n      +   firstName: String\n        }\n      })\n\nArgument `firstName` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at setupTestData (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:22)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:50:5)"],"fullName":"Plan-Aware Rate Limiting E2E Metrics should emit rate limit hit metrics","invocations":1,"location":{"column":5,"line":379},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should emit rate limit hit metrics"}],"endTime":1767325143754,"message":"  â— Plan-Aware Rate Limiting E2E â€º POST /billing/plan/change â€º should enforce free tier rate limit (10/min)\n\n    PrismaClientValidationError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n      157 });\n      158 \n      159 // Create test users\n    â†’ 160 const freeUser = await prisma.user.upsert({\n            where: {\n              email: \"rate-limit-free@test.local\"\n            },\n            update: {},\n            create: {\n              email: \"rate-limit-free@test.local\",\n              role: \"L5\",\n              orgId: \"cmjwbrcct005a304bwtbauw1e\",\n          +   firstName: String\n            }\n          })\n\n    Argument `firstName` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)\n      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)\n\n  â— Plan-Aware Rate Limiting E2E â€º POST /billing/plan/change â€º should allow pro tier higher limits (60/min)\n\n    PrismaClientValidationError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n      157 });\n      158 \n      159 // Create test users\n    â†’ 160 const freeUser = await prisma.user.upsert({\n            where: {\n              email: \"rate-limit-free@test.local\"\n            },\n            update: {},\n            create: {\n              email: \"rate-limit-free@test.local\",\n              role: \"L5\",\n              orgId: \"cmjwbrcct005a304bwtbauw1e\",\n          +   firstName: String\n            }\n          })\n\n    Argument `firstName` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)\n      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)\n\n  â— Plan-Aware Rate Limiting E2E â€º POST /billing/plan/change â€º should allow enterprise tier highest limits (240/min)\n\n    PrismaClientValidationError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n      157 });\n      158 \n      159 // Create test users\n    â†’ 160 const freeUser = await prisma.user.upsert({\n            where: {\n              email: \"rate-limit-free@test.local\"\n            },\n            update: {},\n            create: {\n              email: \"rate-limit-free@test.local\",\n              role: \"L5\",\n              orgId: \"cmjwbrcct005a304bwtbauw1e\",\n          +   firstName: String\n            }\n          })\n\n    Argument `firstName` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)\n      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)\n\n  â— Plan-Aware Rate Limiting E2E â€º POST /billing/cancel â€º should apply rate limiting to cancel endpoint\n\n    PrismaClientValidationError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n      157 });\n      158 \n      159 // Create test users\n    â†’ 160 const freeUser = await prisma.user.upsert({\n            where: {\n              email: \"rate-limit-free@test.local\"\n            },\n            update: {},\n            create: {\n              email: \"rate-limit-free@test.local\",\n              role: \"L5\",\n              orgId: \"cmjwbrcct005a304bwtbauw1e\",\n          +   firstName: String\n            }\n          })\n\n    Argument `firstName` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)\n      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)\n\n  â— Plan-Aware Rate Limiting E2E â€º Rate limit headers â€º should include Retry-After header in 429 responses\n\n    PrismaClientValidationError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n      157 });\n      158 \n      159 // Create test users\n    â†’ 160 const freeUser = await prisma.user.upsert({\n            where: {\n              email: \"rate-limit-free@test.local\"\n            },\n            update: {},\n            create: {\n              email: \"rate-limit-free@test.local\",\n              role: \"L5\",\n              orgId: \"cmjwbrcct005a304bwtbauw1e\",\n          +   firstName: String\n            }\n          })\n\n    Argument `firstName` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)\n      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)\n\n  â— Plan-Aware Rate Limiting E2E â€º Authentication requirement â€º should reject requests without authentication\n\n    PrismaClientValidationError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n      157 });\n      158 \n      159 // Create test users\n    â†’ 160 const freeUser = await prisma.user.upsert({\n            where: {\n              email: \"rate-limit-free@test.local\"\n            },\n            update: {},\n            create: {\n              email: \"rate-limit-free@test.local\",\n              role: \"L5\",\n              orgId: \"cmjwbrcct005a304bwtbauw1e\",\n          +   firstName: String\n            }\n          })\n\n    Argument `firstName` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)\n      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)\n\n  â— Plan-Aware Rate Limiting E2E â€º Metrics â€º should emit rate limit hit metrics\n\n    PrismaClientValidationError: \n    Invalid `prisma.user.upsert()` invocation in\n    /workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts:160:40\n\n      157 });\n      158 \n      159 // Create test users\n    â†’ 160 const freeUser = await prisma.user.upsert({\n            where: {\n              email: \"rate-limit-free@test.local\"\n            },\n            update: {},\n            create: {\n              email: \"rate-limit-free@test.local\",\n              role: \"L5\",\n              orgId: \"cmjwbrcct005a304bwtbauw1e\",\n          +   firstName: String\n            }\n          })\n\n    Argument `firstName` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at setupTestData (plan-rate-limit.e2e-spec.ts:160:22)\n      at Object.<anonymous> (plan-rate-limit.e2e-spec.ts:50:5)\n","name":"/workspaces/chefcloud/services/api/test/plan-rate-limit.e2e-spec.ts","startTime":1767325142858,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["E37 - Promotions & Pricing Engine (e2e)","Happy Hour Promotion Flow"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e37-promotions.e2e-spec.ts:47:48)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"E37 - Promotions & Pricing Engine (e2e) Happy Hour Promotion Flow should create a happy hour promotion (20% off drinks 17:00-19:00)","invocations":1,"location":{"column":5,"line":74},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create a happy hour promotion (20% off drinks 17:00-19:00)"},{"ancestorTitles":["E37 - Promotions & Pricing Engine (e2e)","Happy Hour Promotion Flow"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e37-promotions.e2e-spec.ts:47:48)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"E37 - Promotions & Pricing Engine (e2e) Happy Hour Promotion Flow should list promotions (including inactive)","invocations":1,"location":{"column":5,"line":115},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should list promotions (including inactive)"},{"ancestorTitles":["E37 - Promotions & Pricing Engine (e2e)","Happy Hour Promotion Flow"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e37-promotions.e2e-spec.ts:47:48)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"E37 - Promotions & Pricing Engine (e2e) Happy Hour Promotion Flow should approve the promotion","invocations":1,"location":{"column":5,"line":129},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should approve the promotion"},{"ancestorTitles":["E37 - Promotions & Pricing Engine (e2e)","Happy Hour Promotion Flow"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e37-promotions.e2e-spec.ts:47:48)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"E37 - Promotions & Pricing Engine (e2e) Happy Hour Promotion Flow should apply discount when placing order during happy hour (18:00 on Monday)","invocations":1,"location":{"column":5,"line":140},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should apply discount when placing order during happy hour (18:00 on Monday)"},{"ancestorTitles":["E37 - Promotions & Pricing Engine (e2e)","Happy Hour Promotion Flow"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e37-promotions.e2e-spec.ts:47:48)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"E37 - Promotions & Pricing Engine (e2e) Happy Hour Promotion Flow should NOT apply discount outside happy hour (20:00)","invocations":1,"location":{"column":5,"line":199},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should NOT apply discount outside happy hour (20:00)"},{"ancestorTitles":["E37 - Promotions & Pricing Engine (e2e)","Happy Hour Promotion Flow"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e37-promotions.e2e-spec.ts:47:48)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"E37 - Promotions & Pricing Engine (e2e) Happy Hour Promotion Flow should toggle promotion inactive","invocations":1,"location":{"column":5,"line":244},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should toggle promotion inactive"},{"ancestorTitles":["E37 - Promotions & Pricing Engine (e2e)","Happy Hour Promotion Flow"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e37-promotions.e2e-spec.ts:47:48)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"E37 - Promotions & Pricing Engine (e2e) Happy Hour Promotion Flow should NOT apply discount when promotion is inactive","invocations":1,"location":{"column":5,"line":254},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should NOT apply discount when promotion is inactive"}],"endTime":1767325144667,"message":"  â— E37 - Promotions & Pricing Engine (e2e) â€º Happy Hour Promotion Flow â€º should create a happy hour promotion (20% off drinks 17:00-19:00)\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      45 |\n      46 |     // Use existing menu category and item from seeded Tapas data\n    > 47 |     const category = await prisma.menuCategory.findFirst({\n         |                                                ^\n      48 |       where: { orgId },\n      49 |     });\n      50 |     if (!category) throw new Error('Tapas org must have at least 1 category');\n\n      at Object.<anonymous> (e37-promotions.e2e-spec.ts:47:48)\n\n  â— E37 - Promotions & Pricing Engine (e2e) â€º Happy Hour Promotion Flow â€º should list promotions (including inactive)\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      45 |\n      46 |     // Use existing menu category and item from seeded Tapas data\n    > 47 |     const category = await prisma.menuCategory.findFirst({\n         |                                                ^\n      48 |       where: { orgId },\n      49 |     });\n      50 |     if (!category) throw new Error('Tapas org must have at least 1 category');\n\n      at Object.<anonymous> (e37-promotions.e2e-spec.ts:47:48)\n\n  â— E37 - Promotions & Pricing Engine (e2e) â€º Happy Hour Promotion Flow â€º should approve the promotion\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      45 |\n      46 |     // Use existing menu category and item from seeded Tapas data\n    > 47 |     const category = await prisma.menuCategory.findFirst({\n         |                                                ^\n      48 |       where: { orgId },\n      49 |     });\n      50 |     if (!category) throw new Error('Tapas org must have at least 1 category');\n\n      at Object.<anonymous> (e37-promotions.e2e-spec.ts:47:48)\n\n  â— E37 - Promotions & Pricing Engine (e2e) â€º Happy Hour Promotion Flow â€º should apply discount when placing order during happy hour (18:00 on Monday)\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      45 |\n      46 |     // Use existing menu category and item from seeded Tapas data\n    > 47 |     const category = await prisma.menuCategory.findFirst({\n         |                                                ^\n      48 |       where: { orgId },\n      49 |     });\n      50 |     if (!category) throw new Error('Tapas org must have at least 1 category');\n\n      at Object.<anonymous> (e37-promotions.e2e-spec.ts:47:48)\n\n  â— E37 - Promotions & Pricing Engine (e2e) â€º Happy Hour Promotion Flow â€º should NOT apply discount outside happy hour (20:00)\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      45 |\n      46 |     // Use existing menu category and item from seeded Tapas data\n    > 47 |     const category = await prisma.menuCategory.findFirst({\n         |                                                ^\n      48 |       where: { orgId },\n      49 |     });\n      50 |     if (!category) throw new Error('Tapas org must have at least 1 category');\n\n      at Object.<anonymous> (e37-promotions.e2e-spec.ts:47:48)\n\n  â— E37 - Promotions & Pricing Engine (e2e) â€º Happy Hour Promotion Flow â€º should toggle promotion inactive\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      45 |\n      46 |     // Use existing menu category and item from seeded Tapas data\n    > 47 |     const category = await prisma.menuCategory.findFirst({\n         |                                                ^\n      48 |       where: { orgId },\n      49 |     });\n      50 |     if (!category) throw new Error('Tapas org must have at least 1 category');\n\n      at Object.<anonymous> (e37-promotions.e2e-spec.ts:47:48)\n\n  â— E37 - Promotions & Pricing Engine (e2e) â€º Happy Hour Promotion Flow â€º should NOT apply discount when promotion is inactive\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      45 |\n      46 |     // Use existing menu category and item from seeded Tapas data\n    > 47 |     const category = await prisma.menuCategory.findFirst({\n         |                                                ^\n      48 |       where: { orgId },\n      49 |     });\n      50 |     if (!category) throw new Error('Tapas org must have at least 1 category');\n\n      at Object.<anonymous> (e37-promotions.e2e-spec.ts:47:48)\n","name":"/workspaces/chefcloud/services/api/test/e37-promotions.e2e-spec.ts","startTime":1767325143758,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["A3 POS Core (e2e)"],"duration":0,"failureDetails":[{"check":"requireMenuItems","activeDataset":"DEMO_TAPAS","details":{"expected":["Burger","Fries"],"found":[],"missing":["Burger","Fries"]},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireMenuItems\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": [\n    \"Burger\",\n    \"Fries\"\n  ],\n  \"found\": [],\n  \"missing\": [\n    \"Burger\",\n    \"Fries\"\n  ]\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireMenuItems (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:168:13)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/a3-pos.e2e-spec.ts:22:5)"],"fullName":"A3 POS Core (e2e) should create order with burger+fries -> send-to-kitchen -> kds queue shows ticket -> mark ready -> close order","invocations":1,"location":{"column":3,"line":58},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create order with burger+fries -> send-to-kitchen -> kds queue shows ticket -> mark ready -> close order"},{"ancestorTitles":["A3 POS Core (e2e)"],"duration":0,"failureDetails":[{"check":"requireMenuItems","activeDataset":"DEMO_TAPAS","details":{"expected":["Burger","Fries"],"found":[],"missing":["Burger","Fries"]},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireMenuItems\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": [\n    \"Burger\",\n    \"Fries\"\n  ],\n  \"found\": [],\n  \"missing\": [\n    \"Burger\",\n    \"Fries\"\n  ]\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireMenuItems (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:168:13)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/a3-pos.e2e-spec.ts:22:5)"],"fullName":"A3 POS Core (e2e) should create order with burger only -> send-to-kitchen -> order has NO_DRINKS anomaly flag","invocations":1,"location":{"column":3,"line":125},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create order with burger only -> send-to-kitchen -> order has NO_DRINKS anomaly flag"}],"endTime":1767325145543,"message":"  â— A3 POS Core (e2e) â€º should create order with burger+fries -> send-to-kitchen -> kds queue shows ticket -> mark ready -> close order\n\n    PreconditionError: Precondition failed: requireMenuItems\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": [\n        \"Burger\",\n        \"Fries\"\n      ],\n      \"found\": [],\n      \"missing\": [\n        \"Burger\",\n        \"Fries\"\n      ]\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      166 |     \n      167 |     if (missingNames.length > 0) {\n    > 168 |       throw new PreconditionError('requireMenuItems', getActiveDataset(), {\n          |             ^\n      169 |         expected: itemNames,\n      170 |         found: foundNames,\n      171 |         missing: missingNames,\n\n      at requireMenuItems (helpers/require-preconditions.ts:168:13)\n      at Object.<anonymous> (a3-pos.e2e-spec.ts:22:5)\n\n  â— A3 POS Core (e2e) â€º should create order with burger only -> send-to-kitchen -> order has NO_DRINKS anomaly flag\n\n    PreconditionError: Precondition failed: requireMenuItems\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": [\n        \"Burger\",\n        \"Fries\"\n      ],\n      \"found\": [],\n      \"missing\": [\n        \"Burger\",\n        \"Fries\"\n      ]\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      166 |     \n      167 |     if (missingNames.length > 0) {\n    > 168 |       throw new PreconditionError('requireMenuItems', getActiveDataset(), {\n          |             ^\n      169 |         expected: itemNames,\n      170 |         found: foundNames,\n      171 |         missing: missingNames,\n\n      at requireMenuItems (helpers/require-preconditions.ts:168:13)\n      at Object.<anonymous> (a3-pos.e2e-spec.ts:22:5)\n","name":"/workspaces/chefcloud/services/api/test/a3-pos.e2e-spec.ts","startTime":1767325144672,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["E23 Platform Access (e2e)","Public routes bypass"],"duration":12,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e23-platform-access.e2e-spec.ts:29:10)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"E23 Platform Access (e2e) Public routes bypass should allow unauthenticated access to /health","invocations":1,"location":{"column":5,"line":25},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow unauthenticated access to /health"},{"ancestorTitles":["E23 Platform Access (e2e)","Public routes bypass"],"duration":6,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e23-platform-access.e2e-spec.ts:36:10)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"E23 Platform Access (e2e) Public routes bypass should allow unauthenticated access to /health from any platform","invocations":1,"location":{"column":5,"line":32},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow unauthenticated access to /health from any platform"},{"ancestorTitles":["E23 Platform Access (e2e)","Public routes bypass"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"E23 Platform Access (e2e) Public routes bypass should allow unauthenticated POST to /auth/login","invocations":1,"location":{"column":5,"line":41},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should allow unauthenticated POST to /auth/login"},{"ancestorTitles":["E23 Platform Access (e2e)","Platform header handling"],"duration":2,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 404 \"Not Found\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e23-platform-access.e2e-spec.ts:55:10)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:536:35)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"E23 Platform Access (e2e) Platform header handling should work without X-Client-Platform header (defaults to web)","invocations":1,"location":{"column":5,"line":51},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should work without X-Client-Platform header (defaults to web)"}],"endTime":1767325146668,"message":"  â— E23 Platform Access (e2e) â€º Public routes bypass â€º should allow unauthenticated access to /health\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\n      27 |         .get('/health')\n      28 |         .set('X-Client-Platform', 'mobile')\n    > 29 |         .expect(200);\n         |          ^\n      30 |     });\n      31 |\n      32 |     it('should allow unauthenticated access to /health from any platform', async () => {\n\n      at Object.<anonymous> (e23-platform-access.e2e-spec.ts:29:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— E23 Platform Access (e2e) â€º Public routes bypass â€º should allow unauthenticated access to /health from any platform\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\n      34 |         .get('/health')\n      35 |         .set('X-Client-Platform', 'desktop')\n    > 36 |         .expect(200);\n         |          ^\n      37 |\n      38 |       await request(app.getHttpServer()).get('/health').set('X-Client-Platform', 'web').expect(200);\n      39 |     });\n\n      at Object.<anonymous> (e23-platform-access.e2e-spec.ts:36:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— E23 Platform Access (e2e) â€º Platform header handling â€º should work without X-Client-Platform header (defaults to web)\n\n    expected 200 \"OK\", got 404 \"Not Found\"\n\n      53 |         .get('/health')\n      54 |         // No X-Client-Platform header\n    > 55 |         .expect(200);\n         |          ^\n      56 |     });\n      57 |   });\n      58 | });\n\n      at Object.<anonymous> (e23-platform-access.e2e-spec.ts:55:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n","name":"/workspaces/chefcloud/services/api/test/e23-platform-access.e2e-spec.ts","startTime":1767325145547,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","GET /billing/subscription"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/billing-simple.e2e-spec.ts:40:47)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) GET /billing/subscription should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":114},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","GET /billing/subscription"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/billing-simple.e2e-spec.ts:40:47)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) GET /billing/subscription should return 200 and subscription details with valid L5 token","invocations":1,"location":{"column":5,"line":122},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 200 and subscription details with valid L5 token"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/billing-simple.e2e-spec.ts:40:47)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":136},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/billing-simple.e2e-spec.ts:40:47)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 403 if user is not L5 (manager attempting)","invocations":1,"location":{"column":5,"line":144},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 403 if user is not L5 (manager attempting)"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/billing-simple.e2e-spec.ts:40:47)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 200 or 404 with valid L5 token","invocations":1,"location":{"column":5,"line":153},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 200 or 404 with valid L5 token"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/billing-simple.e2e-spec.ts:40:47)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 404 for unknown plan code","invocations":1,"location":{"column":5,"line":163},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 404 for unknown plan code"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/billing-simple.e2e-spec.ts:40:47)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should rate limit after burst requests (expect at least one 429)","invocations":1,"location":{"column":5,"line":172},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should rate limit after burst requests (expect at least one 429)"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/cancel"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/billing-simple.e2e-spec.ts:40:47)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/cancel should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":190},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/cancel"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/billing-simple.e2e-spec.ts:40:47)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/cancel should return 403 if user is not L5 (manager attempting)","invocations":1,"location":{"column":5,"line":198},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 403 if user is not L5 (manager attempting)"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/cancel"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/billing-simple.e2e-spec.ts:40:47)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/cancel should return 200 or 404 with valid L5 token","invocations":1,"location":{"column":5,"line":206},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 200 or 404 with valid L5 token"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/cancel"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findFirst')\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/billing-simple.e2e-spec.ts:40:47)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/cancel should be idempotent (canceling twice should succeed)","invocations":1,"location":{"column":5,"line":215},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should be idempotent (canceling twice should succeed)"}],"endTime":1767325147594,"message":"  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º GET /billing/subscription â€º should return 401 if no authorization token is provided\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      38 |\n      39 |     // Use existing demo data instead of creating new test data\n    > 40 |     const demoOrg = await prisma.organization.findFirst({\n         |                                               ^\n      41 |       where: { slug: 'demo' },\n      42 |       include: { branches: { where: { isHeadquarters: true } } },\n      43 |     });\n\n      at Object.<anonymous> (billing-simple.e2e-spec.ts:40:47)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º GET /billing/subscription â€º should return 200 and subscription details with valid L5 token\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      38 |\n      39 |     // Use existing demo data instead of creating new test data\n    > 40 |     const demoOrg = await prisma.organization.findFirst({\n         |                                               ^\n      41 |       where: { slug: 'demo' },\n      42 |       include: { branches: { where: { isHeadquarters: true } } },\n      43 |     });\n\n      at Object.<anonymous> (billing-simple.e2e-spec.ts:40:47)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/plan/change â€º should return 401 if no authorization token is provided\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      38 |\n      39 |     // Use existing demo data instead of creating new test data\n    > 40 |     const demoOrg = await prisma.organization.findFirst({\n         |                                               ^\n      41 |       where: { slug: 'demo' },\n      42 |       include: { branches: { where: { isHeadquarters: true } } },\n      43 |     });\n\n      at Object.<anonymous> (billing-simple.e2e-spec.ts:40:47)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/plan/change â€º should return 403 if user is not L5 (manager attempting)\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      38 |\n      39 |     // Use existing demo data instead of creating new test data\n    > 40 |     const demoOrg = await prisma.organization.findFirst({\n         |                                               ^\n      41 |       where: { slug: 'demo' },\n      42 |       include: { branches: { where: { isHeadquarters: true } } },\n      43 |     });\n\n      at Object.<anonymous> (billing-simple.e2e-spec.ts:40:47)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/plan/change â€º should return 200 or 404 with valid L5 token\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      38 |\n      39 |     // Use existing demo data instead of creating new test data\n    > 40 |     const demoOrg = await prisma.organization.findFirst({\n         |                                               ^\n      41 |       where: { slug: 'demo' },\n      42 |       include: { branches: { where: { isHeadquarters: true } } },\n      43 |     });\n\n      at Object.<anonymous> (billing-simple.e2e-spec.ts:40:47)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/plan/change â€º should return 404 for unknown plan code\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      38 |\n      39 |     // Use existing demo data instead of creating new test data\n    > 40 |     const demoOrg = await prisma.organization.findFirst({\n         |                                               ^\n      41 |       where: { slug: 'demo' },\n      42 |       include: { branches: { where: { isHeadquarters: true } } },\n      43 |     });\n\n      at Object.<anonymous> (billing-simple.e2e-spec.ts:40:47)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/plan/change â€º should rate limit after burst requests (expect at least one 429)\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      38 |\n      39 |     // Use existing demo data instead of creating new test data\n    > 40 |     const demoOrg = await prisma.organization.findFirst({\n         |                                               ^\n      41 |       where: { slug: 'demo' },\n      42 |       include: { branches: { where: { isHeadquarters: true } } },\n      43 |     });\n\n      at Object.<anonymous> (billing-simple.e2e-spec.ts:40:47)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/cancel â€º should return 401 if no authorization token is provided\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      38 |\n      39 |     // Use existing demo data instead of creating new test data\n    > 40 |     const demoOrg = await prisma.organization.findFirst({\n         |                                               ^\n      41 |       where: { slug: 'demo' },\n      42 |       include: { branches: { where: { isHeadquarters: true } } },\n      43 |     });\n\n      at Object.<anonymous> (billing-simple.e2e-spec.ts:40:47)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/cancel â€º should return 403 if user is not L5 (manager attempting)\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      38 |\n      39 |     // Use existing demo data instead of creating new test data\n    > 40 |     const demoOrg = await prisma.organization.findFirst({\n         |                                               ^\n      41 |       where: { slug: 'demo' },\n      42 |       include: { branches: { where: { isHeadquarters: true } } },\n      43 |     });\n\n      at Object.<anonymous> (billing-simple.e2e-spec.ts:40:47)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/cancel â€º should return 200 or 404 with valid L5 token\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      38 |\n      39 |     // Use existing demo data instead of creating new test data\n    > 40 |     const demoOrg = await prisma.organization.findFirst({\n         |                                               ^\n      41 |       where: { slug: 'demo' },\n      42 |       include: { branches: { where: { isHeadquarters: true } } },\n      43 |     });\n\n      at Object.<anonymous> (billing-simple.e2e-spec.ts:40:47)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/cancel â€º should be idempotent (canceling twice should succeed)\n\n    TypeError: Cannot read properties of undefined (reading 'findFirst')\n\n      38 |\n      39 |     // Use existing demo data instead of creating new test data\n    > 40 |     const demoOrg = await prisma.organization.findFirst({\n         |                                               ^\n      41 |       where: { slug: 'demo' },\n      42 |       include: { branches: { where: { isHeadquarters: true } } },\n      43 |     });\n\n      at Object.<anonymous> (billing-simple.e2e-spec.ts:40:47)\n","name":"/workspaces/chefcloud/services/api/test/billing-simple.e2e-spec.ts","startTime":1767325146671,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["E22.C - Franchise Budgets Caching (e2e)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:62:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:42:11)"],"fullName":"E22.C - Franchise Budgets Caching (e2e) should return cached=false on first call (cache miss)","invocations":1,"location":{"column":3,"line":120},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return cached=false on first call (cache miss)"},{"ancestorTitles":["E22.C - Franchise Budgets Caching (e2e)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:62:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:42:11)"],"fullName":"E22.C - Franchise Budgets Caching (e2e) should return cached=true on second call within TTL (cache hit)","invocations":1,"location":{"column":3,"line":133},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return cached=true on second call within TTL (cache hit)"},{"ancestorTitles":["E22.C - Franchise Budgets Caching (e2e)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:62:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:42:11)"],"fullName":"E22.C - Franchise Budgets Caching (e2e) should maintain data structure consistency between cached and non-cached responses","invocations":1,"location":{"column":3,"line":154},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should maintain data structure consistency between cached and non-cached responses"},{"ancestorTitles":["E22.C - Franchise Budgets Caching (e2e)"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:62:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:42:11)"],"fullName":"E22.C - Franchise Budgets Caching (e2e) should use different cache keys for different periods","invocations":1,"location":{"column":3,"line":186},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should use different cache keys for different periods"},{"ancestorTitles":["E22.C - Franchise Budgets Caching (e2e)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:62:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:42:11)"],"fullName":"E22.C - Franchise Budgets Caching (e2e) should return error for invalid period format","invocations":1,"location":{"column":3,"line":227},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return error for invalid period format"},{"ancestorTitles":["E22.C - Franchise Budgets Caching (e2e)"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:62:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts:42:11)"],"fullName":"E22.C - Franchise Budgets Caching (e2e) cache hit should be significantly faster than cache miss","invocations":1,"location":{"column":3,"line":237},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"cache hit should be significantly faster than cache miss"}],"endTime":1767325148391,"message":"  â— E22.C - Franchise Budgets Caching (e2e) â€º should return cached=false on first call (cache miss)\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      60 |   async function setupTestData() {\n      61 |     // Create test organization\n    > 62 |     const org = await prisma.organization.create({\n         |                                           ^\n      63 |       data: {\n      64 |         name: 'E22C Test Org',\n      65 |         slug: `e22c-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)\n      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)\n\n  â— E22.C - Franchise Budgets Caching (e2e) â€º should return cached=true on second call within TTL (cache hit)\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      60 |   async function setupTestData() {\n      61 |     // Create test organization\n    > 62 |     const org = await prisma.organization.create({\n         |                                           ^\n      63 |       data: {\n      64 |         name: 'E22C Test Org',\n      65 |         slug: `e22c-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)\n      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)\n\n  â— E22.C - Franchise Budgets Caching (e2e) â€º should maintain data structure consistency between cached and non-cached responses\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      60 |   async function setupTestData() {\n      61 |     // Create test organization\n    > 62 |     const org = await prisma.organization.create({\n         |                                           ^\n      63 |       data: {\n      64 |         name: 'E22C Test Org',\n      65 |         slug: `e22c-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)\n      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)\n\n  â— E22.C - Franchise Budgets Caching (e2e) â€º should use different cache keys for different periods\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      60 |   async function setupTestData() {\n      61 |     // Create test organization\n    > 62 |     const org = await prisma.organization.create({\n         |                                           ^\n      63 |       data: {\n      64 |         name: 'E22C Test Org',\n      65 |         slug: `e22c-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)\n      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)\n\n  â— E22.C - Franchise Budgets Caching (e2e) â€º should return error for invalid period format\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      60 |   async function setupTestData() {\n      61 |     // Create test organization\n    > 62 |     const org = await prisma.organization.create({\n         |                                           ^\n      63 |       data: {\n      64 |         name: 'E22C Test Org',\n      65 |         slug: `e22c-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)\n      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)\n\n  â— E22.C - Franchise Budgets Caching (e2e) â€º cache hit should be significantly faster than cache miss\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      60 |   async function setupTestData() {\n      61 |     // Create test organization\n    > 62 |     const org = await prisma.organization.create({\n         |                                           ^\n      63 |       data: {\n      64 |         name: 'E22C Test Org',\n      65 |         slug: `e22c-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-budgets-cache.e2e-spec.ts:62:43)\n      at Object.<anonymous> (e2e/franchise-budgets-cache.e2e-spec.ts:42:11)\n","name":"/workspaces/chefcloud/services/api/test/e2e/franchise-budgets-cache.e2e-spec.ts","startTime":1767325147597,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Nest could not find given element (this provider does not exist in the current context)\n    at InstanceLinksHost.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n    at TestingModule.find (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n    at TestingModule.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:166:28)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":203},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Nest could not find given element (this provider does not exist in the current context)\n    at InstanceLinksHost.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n    at TestingModule.find (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n    at TestingModule.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:166:28)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 403 if user is not L5 (owner)","invocations":1,"location":{"column":5,"line":211},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 403 if user is not L5 (owner)"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Nest could not find given element (this provider does not exist in the current context)\n    at InstanceLinksHost.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n    at TestingModule.find (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n    at TestingModule.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:166:28)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 200 and log plan change for L5 owner","invocations":1,"location":{"column":5,"line":220},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 200 and log plan change for L5 owner"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Nest could not find given element (this provider does not exist in the current context)\n    at InstanceLinksHost.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n    at TestingModule.find (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n    at TestingModule.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:166:28)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 404 for non-existent plan code","invocations":1,"location":{"column":5,"line":231},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 404 for non-existent plan code"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/plan/change"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Nest could not find given element (this provider does not exist in the current context)\n    at InstanceLinksHost.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n    at TestingModule.find (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n    at TestingModule.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:166:28)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/plan/change should return 429 after exceeding plan-aware rate limit (burst)","invocations":1,"location":{"column":5,"line":240},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 429 after exceeding plan-aware rate limit (burst)"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/cancel"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Nest could not find given element (this provider does not exist in the current context)\n    at InstanceLinksHost.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n    at TestingModule.find (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n    at TestingModule.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:166:28)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/cancel should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":261},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/cancel"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Nest could not find given element (this provider does not exist in the current context)\n    at InstanceLinksHost.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n    at TestingModule.find (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n    at TestingModule.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:166:28)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/cancel should return 403 if user is not L5 (owner)","invocations":1,"location":{"column":5,"line":269},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 403 if user is not L5 (owner)"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/cancel"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Nest could not find given element (this provider does not exist in the current context)\n    at InstanceLinksHost.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n    at TestingModule.find (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n    at TestingModule.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:166:28)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/cancel should return 200 and log cancellation for L5 owner","invocations":1,"location":{"column":5,"line":277},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 200 and log cancellation for L5 owner"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","POST /billing/cancel"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Nest could not find given element (this provider does not exist in the current context)\n    at InstanceLinksHost.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n    at TestingModule.find (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n    at TestingModule.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:166:28)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) POST /billing/cancel should be idempotent (canceling twice returns 200)","invocations":1,"location":{"column":5,"line":287},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should be idempotent (canceling twice returns 200)"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","GET /billing/subscription"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Nest could not find given element (this provider does not exist in the current context)\n    at InstanceLinksHost.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n    at TestingModule.find (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n    at TestingModule.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:166:28)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) GET /billing/subscription should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":305},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing E2E (E24 - Auth, Authz, Rate Limiting)","GET /billing/subscription"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Nest could not find given element (this provider does not exist in the current context)\n    at InstanceLinksHost.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n    at TestingModule.find (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n    at TestingModule.get (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts:166:28)"],"fullName":"Billing E2E (E24 - Auth, Authz, Rate Limiting) GET /billing/subscription should return 200 with subscription details for authenticated user","invocations":1,"location":{"column":5,"line":313},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return 200 with subscription details for authenticated user"}],"endTime":1767325149184,"message":"  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/plan/change â€º should return 401 if no authorization token is provided\n\n    Nest could not find given element (this provider does not exist in the current context)\n\n      164 |     await app.init();\n      165 |\n    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);\n          |                            ^\n      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);\n      168 |\n      169 |     await setupTestData();\n\n      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/plan/change â€º should return 403 if user is not L5 (owner)\n\n    Nest could not find given element (this provider does not exist in the current context)\n\n      164 |     await app.init();\n      165 |\n    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);\n          |                            ^\n      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);\n      168 |\n      169 |     await setupTestData();\n\n      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/plan/change â€º should return 200 and log plan change for L5 owner\n\n    Nest could not find given element (this provider does not exist in the current context)\n\n      164 |     await app.init();\n      165 |\n    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);\n          |                            ^\n      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);\n      168 |\n      169 |     await setupTestData();\n\n      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/plan/change â€º should return 404 for non-existent plan code\n\n    Nest could not find given element (this provider does not exist in the current context)\n\n      164 |     await app.init();\n      165 |\n    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);\n          |                            ^\n      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);\n      168 |\n      169 |     await setupTestData();\n\n      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/plan/change â€º should return 429 after exceeding plan-aware rate limit (burst)\n\n    Nest could not find given element (this provider does not exist in the current context)\n\n      164 |     await app.init();\n      165 |\n    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);\n          |                            ^\n      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);\n      168 |\n      169 |     await setupTestData();\n\n      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/cancel â€º should return 401 if no authorization token is provided\n\n    Nest could not find given element (this provider does not exist in the current context)\n\n      164 |     await app.init();\n      165 |\n    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);\n          |                            ^\n      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);\n      168 |\n      169 |     await setupTestData();\n\n      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/cancel â€º should return 403 if user is not L5 (owner)\n\n    Nest could not find given element (this provider does not exist in the current context)\n\n      164 |     await app.init();\n      165 |\n    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);\n          |                            ^\n      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);\n      168 |\n      169 |     await setupTestData();\n\n      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/cancel â€º should return 200 and log cancellation for L5 owner\n\n    Nest could not find given element (this provider does not exist in the current context)\n\n      164 |     await app.init();\n      165 |\n    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);\n          |                            ^\n      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);\n      168 |\n      169 |     await setupTestData();\n\n      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º POST /billing/cancel â€º should be idempotent (canceling twice returns 200)\n\n    Nest could not find given element (this provider does not exist in the current context)\n\n      164 |     await app.init();\n      165 |\n    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);\n          |                            ^\n      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);\n      168 |\n      169 |     await setupTestData();\n\n      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º GET /billing/subscription â€º should return 401 if no authorization token is provided\n\n    Nest could not find given element (this provider does not exist in the current context)\n\n      164 |     await app.init();\n      165 |\n    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);\n          |                            ^\n      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);\n      168 |\n      169 |     await setupTestData();\n\n      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)\n\n  â— Billing E2E (E24 - Auth, Authz, Rate Limiting) â€º GET /billing/subscription â€º should return 200 with subscription details for authenticated user\n\n    Nest could not find given element (this provider does not exist in the current context)\n\n      164 |     await app.init();\n      165 |\n    > 166 |     prisma = moduleFixture.get<PrismaService>(PrismaService);\n          |                            ^\n      167 |     jwtService = moduleFixture.get<JwtService>(JwtService);\n      168 |\n      169 |     await setupTestData();\n\n      at InstanceLinksHost.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-links-host.js:15:19)\n      at TestingModule.find (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/abstract-instance-resolver.js:8:60)\n      at TestingModule.get (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/nest-application-context.js:70:20)\n      at Object.<anonymous> (e2e/billing.e2e-spec.ts:166:28)\n","name":"/workspaces/chefcloud/services/api/test/e2e/billing.e2e-spec.ts","startTime":1767325148396,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["API Key Security (E2E)","POST /ops/apikeys"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.session.create()` invocation in\n/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n  55 });\n  56 \n  57 // Create session for auth\nâ†’ 58 const session = await prisma.session.create({\n       data: {\n         userId: \"cmjwbrh8f005t304btfpzkb5t\",\n         token: \"test-token-1767325149954\",\n         expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n     +   user: {\n     +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n     +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n     +     connect: UserWhereUniqueInput\n     +   }\n       }\n     })\n\nArgument `user` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:21)"],"fullName":"API Key Security (E2E) POST /ops/apikeys should create API key as L5 user","invocations":1,"location":{"column":5,"line":95},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create API key as L5 user"},{"ancestorTitles":["API Key Security (E2E)","POST /ops/apikeys"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.session.create()` invocation in\n/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n  55 });\n  56 \n  57 // Create session for auth\nâ†’ 58 const session = await prisma.session.create({\n       data: {\n         userId: \"cmjwbrh8f005t304btfpzkb5t\",\n         token: \"test-token-1767325149954\",\n         expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n     +   user: {\n     +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n     +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n     +     connect: UserWhereUniqueInput\n     +   }\n       }\n     })\n\nArgument `user` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:21)"],"fullName":"API Key Security (E2E) POST /ops/apikeys should list API keys (masked)","invocations":1,"location":{"column":5,"line":116},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should list API keys (masked)"},{"ancestorTitles":["API Key Security (E2E)","POST /hardware/spout/ingest with API key"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.session.create()` invocation in\n/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n  55 });\n  56 \n  57 // Create session for auth\nâ†’ 58 const session = await prisma.session.create({\n       data: {\n         userId: \"cmjwbrh8f005t304btfpzkb5t\",\n         token: \"test-token-1767325149954\",\n         expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n     +   user: {\n     +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n     +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n     +     connect: UserWhereUniqueInput\n     +   }\n       }\n     })\n\nArgument `user` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:21)"],"fullName":"API Key Security (E2E) POST /hardware/spout/ingest with API key should accept request with valid API key","invocations":1,"location":{"column":5,"line":133},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should accept request with valid API key"},{"ancestorTitles":["API Key Security (E2E)","POST /hardware/spout/ingest with API key"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.session.create()` invocation in\n/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n  55 });\n  56 \n  57 // Create session for auth\nâ†’ 58 const session = await prisma.session.create({\n       data: {\n         userId: \"cmjwbrh8f005t304btfpzkb5t\",\n         token: \"test-token-1767325149954\",\n         expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n     +   user: {\n     +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n     +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n     +     connect: UserWhereUniqueInput\n     +   }\n       }\n     })\n\nArgument `user` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:21)"],"fullName":"API Key Security (E2E) POST /hardware/spout/ingest with API key should reject request with missing API key","invocations":1,"location":{"column":5,"line":148},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject request with missing API key"},{"ancestorTitles":["API Key Security (E2E)","POST /hardware/spout/ingest with API key"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.session.create()` invocation in\n/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n  55 });\n  56 \n  57 // Create session for auth\nâ†’ 58 const session = await prisma.session.create({\n       data: {\n         userId: \"cmjwbrh8f005t304btfpzkb5t\",\n         token: \"test-token-1767325149954\",\n         expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n     +   user: {\n     +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n     +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n     +     connect: UserWhereUniqueInput\n     +   }\n       }\n     })\n\nArgument `user` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:21)"],"fullName":"API Key Security (E2E) POST /hardware/spout/ingest with API key should reject request with invalid API key","invocations":1,"location":{"column":5,"line":159},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject request with invalid API key"},{"ancestorTitles":["API Key Security (E2E)","Rate limiting"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.session.create()` invocation in\n/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n  55 });\n  56 \n  57 // Create session for auth\nâ†’ 58 const session = await prisma.session.create({\n       data: {\n         userId: \"cmjwbrh8f005t304btfpzkb5t\",\n         token: \"test-token-1767325149954\",\n         expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n     +   user: {\n     +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n     +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n     +     connect: UserWhereUniqueInput\n     +   }\n       }\n     })\n\nArgument `user` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:21)"],"fullName":"API Key Security (E2E) Rate limiting should enforce rate limit on public endpoints","invocations":1,"location":{"column":5,"line":173},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should enforce rate limit on public endpoints"},{"ancestorTitles":["API Key Security (E2E)","DELETE /ops/apikeys/:id"],"duration":0,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.session.create()` invocation in\n/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n  55 });\n  56 \n  57 // Create session for auth\nâ†’ 58 const session = await prisma.session.create({\n       data: {\n         userId: \"cmjwbrh8f005t304btfpzkb5t\",\n         token: \"test-token-1767325149954\",\n         expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n     +   user: {\n     +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n     +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n     +     connect: UserWhereUniqueInput\n     +   }\n       }\n     })\n\nArgument `user` is missing.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:21)"],"fullName":"API Key Security (E2E) DELETE /ops/apikeys/:id should delete API key","invocations":1,"location":{"column":5,"line":195},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should delete API key"}],"endTime":1767325150059,"message":"  â— API Key Security (E2E) â€º POST /ops/apikeys â€º should create API key as L5 user\n\n    PrismaClientValidationError: \n    Invalid `prisma.session.create()` invocation in\n    /workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n      55 });\n      56 \n      57 // Create session for auth\n    â†’ 58 const session = await prisma.session.create({\n           data: {\n             userId: \"cmjwbrh8f005t304btfpzkb5t\",\n             token: \"test-token-1767325149954\",\n             expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n         +   user: {\n         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n         +     connect: UserWhereUniqueInput\n         +   }\n           }\n         })\n\n    Argument `user` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at Object.<anonymous> (b2-apikey.e2e-spec.ts:58:21)\n\n  â— API Key Security (E2E) â€º POST /ops/apikeys â€º should list API keys (masked)\n\n    PrismaClientValidationError: \n    Invalid `prisma.session.create()` invocation in\n    /workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n      55 });\n      56 \n      57 // Create session for auth\n    â†’ 58 const session = await prisma.session.create({\n           data: {\n             userId: \"cmjwbrh8f005t304btfpzkb5t\",\n             token: \"test-token-1767325149954\",\n             expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n         +   user: {\n         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n         +     connect: UserWhereUniqueInput\n         +   }\n           }\n         })\n\n    Argument `user` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at Object.<anonymous> (b2-apikey.e2e-spec.ts:58:21)\n\n  â— API Key Security (E2E) â€º POST /hardware/spout/ingest with API key â€º should accept request with valid API key\n\n    PrismaClientValidationError: \n    Invalid `prisma.session.create()` invocation in\n    /workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n      55 });\n      56 \n      57 // Create session for auth\n    â†’ 58 const session = await prisma.session.create({\n           data: {\n             userId: \"cmjwbrh8f005t304btfpzkb5t\",\n             token: \"test-token-1767325149954\",\n             expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n         +   user: {\n         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n         +     connect: UserWhereUniqueInput\n         +   }\n           }\n         })\n\n    Argument `user` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at Object.<anonymous> (b2-apikey.e2e-spec.ts:58:21)\n\n  â— API Key Security (E2E) â€º POST /hardware/spout/ingest with API key â€º should reject request with missing API key\n\n    PrismaClientValidationError: \n    Invalid `prisma.session.create()` invocation in\n    /workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n      55 });\n      56 \n      57 // Create session for auth\n    â†’ 58 const session = await prisma.session.create({\n           data: {\n             userId: \"cmjwbrh8f005t304btfpzkb5t\",\n             token: \"test-token-1767325149954\",\n             expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n         +   user: {\n         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n         +     connect: UserWhereUniqueInput\n         +   }\n           }\n         })\n\n    Argument `user` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at Object.<anonymous> (b2-apikey.e2e-spec.ts:58:21)\n\n  â— API Key Security (E2E) â€º POST /hardware/spout/ingest with API key â€º should reject request with invalid API key\n\n    PrismaClientValidationError: \n    Invalid `prisma.session.create()` invocation in\n    /workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n      55 });\n      56 \n      57 // Create session for auth\n    â†’ 58 const session = await prisma.session.create({\n           data: {\n             userId: \"cmjwbrh8f005t304btfpzkb5t\",\n             token: \"test-token-1767325149954\",\n             expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n         +   user: {\n         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n         +     connect: UserWhereUniqueInput\n         +   }\n           }\n         })\n\n    Argument `user` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at Object.<anonymous> (b2-apikey.e2e-spec.ts:58:21)\n\n  â— API Key Security (E2E) â€º Rate limiting â€º should enforce rate limit on public endpoints\n\n    PrismaClientValidationError: \n    Invalid `prisma.session.create()` invocation in\n    /workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n      55 });\n      56 \n      57 // Create session for auth\n    â†’ 58 const session = await prisma.session.create({\n           data: {\n             userId: \"cmjwbrh8f005t304btfpzkb5t\",\n             token: \"test-token-1767325149954\",\n             expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n         +   user: {\n         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n         +     connect: UserWhereUniqueInput\n         +   }\n           }\n         })\n\n    Argument `user` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at Object.<anonymous> (b2-apikey.e2e-spec.ts:58:21)\n\n  â— API Key Security (E2E) â€º DELETE /ops/apikeys/:id â€º should delete API key\n\n    PrismaClientValidationError: \n    Invalid `prisma.session.create()` invocation in\n    /workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts:58:42\n\n      55 });\n      56 \n      57 // Create session for auth\n    â†’ 58 const session = await prisma.session.create({\n           data: {\n             userId: \"cmjwbrh8f005t304btfpzkb5t\",\n             token: \"test-token-1767325149954\",\n             expiresAt: new Date(\"2026-01-03T03:39:09.954Z\"),\n         +   user: {\n         +     create: UserCreateWithoutSessionsInput | UserUncheckedCreateWithoutSessionsInput,\n         +     connectOrCreate: UserCreateOrConnectWithoutSessionsInput,\n         +     connect: UserWhereUniqueInput\n         +   }\n           }\n         })\n\n    Argument `user` is missing.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at Object.<anonymous> (b2-apikey.e2e-spec.ts:58:21)\n","name":"/workspaces/chefcloud/services/api/test/b2-apikey.e2e-spec.ts","startTime":1767325149188,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["E22.D - Franchise Cache Invalidation (e2e)","Budget Update Invalidation"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)"],"fullName":"E22.D - Franchise Cache Invalidation (e2e) Budget Update Invalidation should invalidate budgets cache after budget update","invocations":1,"location":{"column":5,"line":121},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should invalidate budgets cache after budget update"},{"ancestorTitles":["E22.D - Franchise Cache Invalidation (e2e)","Budget Update Invalidation"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)"],"fullName":"E22.D - Franchise Cache Invalidation (e2e) Budget Update Invalidation should not affect other cache prefixes when updating budgets","invocations":1,"location":{"column":5,"line":168},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not affect other cache prefixes when updating budgets"},{"ancestorTitles":["E22.D - Franchise Cache Invalidation (e2e)","Cache Miss After Invalidation"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)"],"fullName":"E22.D - Franchise Cache Invalidation (e2e) Cache Miss After Invalidation should return fresh data after cache invalidation","invocations":1,"location":{"column":5,"line":219},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return fresh data after cache invalidation"},{"ancestorTitles":["E22.D - Franchise Cache Invalidation (e2e)","Multiple Invalidations"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)"],"fullName":"E22.D - Franchise Cache Invalidation (e2e) Multiple Invalidations should handle multiple rapid invalidations without errors","invocations":1,"location":{"column":5,"line":257},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle multiple rapid invalidations without errors"}],"endTime":1767325151264,"message":"  â— E22.D - Franchise Cache Invalidation (e2e) â€º Budget Update Invalidation â€º should invalidate budgets cache after budget update\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      57 |   async function setupTestData() {\n      58 |     // Create test organization\n    > 59 |     const org = await prisma.organization.create({\n         |                                           ^\n      60 |       data: {\n      61 |         name: 'E22D Test Org',\n      62 |         slug: `e22d-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)\n      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)\n\n  â— E22.D - Franchise Cache Invalidation (e2e) â€º Budget Update Invalidation â€º should not affect other cache prefixes when updating budgets\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      57 |   async function setupTestData() {\n      58 |     // Create test organization\n    > 59 |     const org = await prisma.organization.create({\n         |                                           ^\n      60 |       data: {\n      61 |         name: 'E22D Test Org',\n      62 |         slug: `e22d-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)\n      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)\n\n  â— E22.D - Franchise Cache Invalidation (e2e) â€º Cache Miss After Invalidation â€º should return fresh data after cache invalidation\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      57 |   async function setupTestData() {\n      58 |     // Create test organization\n    > 59 |     const org = await prisma.organization.create({\n         |                                           ^\n      60 |       data: {\n      61 |         name: 'E22D Test Org',\n      62 |         slug: `e22d-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)\n      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)\n\n  â— E22.D - Franchise Cache Invalidation (e2e) â€º Multiple Invalidations â€º should handle multiple rapid invalidations without errors\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      57 |   async function setupTestData() {\n      58 |     // Create test organization\n    > 59 |     const org = await prisma.organization.create({\n         |                                           ^\n      60 |       data: {\n      61 |         name: 'E22D Test Org',\n      62 |         slug: `e22d-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-cache-invalidation.e2e-spec.ts:59:43)\n      at Object.<anonymous> (e2e/franchise-cache-invalidation.e2e-spec.ts:39:11)\n","name":"/workspaces/chefcloud/services/api/test/e2e/franchise-cache-invalidation.e2e-spec.ts","startTime":1767325150064,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["E22.B - Franchise Rankings Caching (e2e)","GET /franchise/rankings"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:60:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:40:11)"],"fullName":"E22.B - Franchise Rankings Caching (e2e) GET /franchise/rankings should return cached=false on first call (cache miss)","invocations":1,"location":{"column":5,"line":127},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return cached=false on first call (cache miss)"},{"ancestorTitles":["E22.B - Franchise Rankings Caching (e2e)","GET /franchise/rankings"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:60:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:40:11)"],"fullName":"E22.B - Franchise Rankings Caching (e2e) GET /franchise/rankings should return cached=true on second call within TTL (cache hit)","invocations":1,"location":{"column":5,"line":141},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return cached=true on second call within TTL (cache hit)"},{"ancestorTitles":["E22.B - Franchise Rankings Caching (e2e)","GET /franchise/rankings"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:60:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:40:11)"],"fullName":"E22.B - Franchise Rankings Caching (e2e) GET /franchise/rankings should return same data structure on cache hit and miss","invocations":1,"location":{"column":5,"line":164},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return same data structure on cache hit and miss"},{"ancestorTitles":["E22.B - Franchise Rankings Caching (e2e)","GET /franchise/rankings"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:60:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:40:11)"],"fullName":"E22.B - Franchise Rankings Caching (e2e) GET /franchise/rankings should cache separately for different periods","invocations":1,"location":{"column":5,"line":187},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should cache separately for different periods"},{"ancestorTitles":["E22.B - Franchise Rankings Caching (e2e)","GET /franchise/rankings"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:60:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:40:11)"],"fullName":"E22.B - Franchise Rankings Caching (e2e) GET /franchise/rankings should return error for invalid period format","invocations":1,"location":{"column":5,"line":214},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return error for invalid period format"},{"ancestorTitles":["E22.B - Franchise Rankings Caching (e2e)","GET /franchise/rankings"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'create')\n    at setupTestData (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:60:43)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts:40:11)"],"fullName":"E22.B - Franchise Rankings Caching (e2e) GET /franchise/rankings should measure response time difference between miss and hit","invocations":1,"location":{"column":5,"line":224},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should measure response time difference between miss and hit"}],"endTime":1767325152094,"message":"  â— E22.B - Franchise Rankings Caching (e2e) â€º GET /franchise/rankings â€º should return cached=false on first call (cache miss)\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      58 |   async function setupTestData() {\n      59 |     // Create test organization\n    > 60 |     const org = await prisma.organization.create({\n         |                                           ^\n      61 |       data: {\n      62 |         name: 'E22B Test Org',\n      63 |         slug: `e22b-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)\n      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)\n\n  â— E22.B - Franchise Rankings Caching (e2e) â€º GET /franchise/rankings â€º should return cached=true on second call within TTL (cache hit)\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      58 |   async function setupTestData() {\n      59 |     // Create test organization\n    > 60 |     const org = await prisma.organization.create({\n         |                                           ^\n      61 |       data: {\n      62 |         name: 'E22B Test Org',\n      63 |         slug: `e22b-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)\n      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)\n\n  â— E22.B - Franchise Rankings Caching (e2e) â€º GET /franchise/rankings â€º should return same data structure on cache hit and miss\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      58 |   async function setupTestData() {\n      59 |     // Create test organization\n    > 60 |     const org = await prisma.organization.create({\n         |                                           ^\n      61 |       data: {\n      62 |         name: 'E22B Test Org',\n      63 |         slug: `e22b-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)\n      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)\n\n  â— E22.B - Franchise Rankings Caching (e2e) â€º GET /franchise/rankings â€º should cache separately for different periods\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      58 |   async function setupTestData() {\n      59 |     // Create test organization\n    > 60 |     const org = await prisma.organization.create({\n         |                                           ^\n      61 |       data: {\n      62 |         name: 'E22B Test Org',\n      63 |         slug: `e22b-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)\n      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)\n\n  â— E22.B - Franchise Rankings Caching (e2e) â€º GET /franchise/rankings â€º should return error for invalid period format\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      58 |   async function setupTestData() {\n      59 |     // Create test organization\n    > 60 |     const org = await prisma.organization.create({\n         |                                           ^\n      61 |       data: {\n      62 |         name: 'E22B Test Org',\n      63 |         slug: `e22b-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)\n      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)\n\n  â— E22.B - Franchise Rankings Caching (e2e) â€º GET /franchise/rankings â€º should measure response time difference between miss and hit\n\n    TypeError: Cannot read properties of undefined (reading 'create')\n\n      58 |   async function setupTestData() {\n      59 |     // Create test organization\n    > 60 |     const org = await prisma.organization.create({\n         |                                           ^\n      61 |       data: {\n      62 |         name: 'E22B Test Org',\n      63 |         slug: `e22b-test-${Date.now()}`,\n\n      at setupTestData (e2e/franchise-rankings-cache.e2e-spec.ts:60:43)\n      at Object.<anonymous> (e2e/franchise-rankings-cache.e2e-spec.ts:40:11)\n","name":"/workspaces/chefcloud/services/api/test/e2e/franchise-rankings-cache.e2e-spec.ts","startTime":1767325151269,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Webhook Security E2E (E24)","Authentication"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:72:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Authentication should reject webhook without signature header","invocations":1,"location":{"column":5,"line":71},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject webhook without signature header"},{"ancestorTitles":["Webhook Security E2E (E24)","Authentication"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:84:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Authentication should reject webhook without timestamp header","invocations":1,"location":{"column":5,"line":83},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject webhook without timestamp header"},{"ancestorTitles":["Webhook Security E2E (E24)","Authentication"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:95:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Authentication should reject webhook without request ID header","invocations":1,"location":{"column":5,"line":94},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject webhook without request ID header"},{"ancestorTitles":["Webhook Security E2E (E24)","Authentication"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at sendWebhook (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:61:12)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:107:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Authentication should reject webhook with invalid signature","invocations":1,"location":{"column":5,"line":105},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject webhook with invalid signature"},{"ancestorTitles":["Webhook Security E2E (E24)","Authentication"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at sendWebhook (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:61:12)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:117:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Authentication should accept webhook with valid signature","invocations":1,"location":{"column":5,"line":115},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should accept webhook with valid signature"},{"ancestorTitles":["Webhook Security E2E (E24)","Timestamp validation"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at sendWebhook (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:61:12)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:132:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Timestamp validation should reject webhook with stale timestamp (>5 minutes old)","invocations":1,"location":{"column":5,"line":126},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject webhook with stale timestamp (>5 minutes old)"},{"ancestorTitles":["Webhook Security E2E (E24)","Timestamp validation"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at sendWebhook (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:61:12)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:148:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Timestamp validation should reject webhook with future timestamp (>5 minutes ahead)","invocations":1,"location":{"column":5,"line":142},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject webhook with future timestamp (>5 minutes ahead)"},{"ancestorTitles":["Webhook Security E2E (E24)","Timestamp validation"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at sendWebhook (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:61:12)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:162:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Timestamp validation should accept webhook with timestamp at edge of window (4 minutes old)","invocations":1,"location":{"column":5,"line":156},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should accept webhook with timestamp at edge of window (4 minutes old)"},{"ancestorTitles":["Webhook Security E2E (E24)","Timestamp validation"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:171:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Timestamp validation should reject webhook with invalid timestamp format","invocations":1,"location":{"column":5,"line":170},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject webhook with invalid timestamp format"},{"ancestorTitles":["Webhook Security E2E (E24)","Replay protection"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at sendWebhook (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:61:12)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:190:31)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Replay protection should reject duplicate request ID (replay attack)","invocations":1,"location":{"column":5,"line":185},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject duplicate request ID (replay attack)"},{"ancestorTitles":["Webhook Security E2E (E24)","Replay protection"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at sendWebhook (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:61:12)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:206:31)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Replay protection should allow same payload with different request IDs","invocations":1,"location":{"column":5,"line":203},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow same payload with different request IDs"},{"ancestorTitles":["Webhook Security E2E (E24)","Body integrity"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:223:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Body integrity should reject webhook with tampered body","invocations":1,"location":{"column":5,"line":215},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject webhook with tampered body"},{"ancestorTitles":["Webhook Security E2E (E24)","Body integrity"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at sendWebhook (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:61:12)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:237:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Body integrity should handle empty body correctly","invocations":1,"location":{"column":5,"line":235},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle empty body correctly"},{"ancestorTitles":["Webhook Security E2E (E24)","Body integrity"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at sendWebhook (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:61:12)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:257:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Body integrity should handle complex nested JSON","invocations":1,"location":{"column":5,"line":242},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle complex nested JSON"},{"ancestorTitles":["Webhook Security E2E (E24)","Multiple webhook endpoints"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:265:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Multiple webhook endpoints should protect MTN webhook endpoint","invocations":1,"location":{"column":5,"line":263},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should protect MTN webhook endpoint"},{"ancestorTitles":["Webhook Security E2E (E24)","Multiple webhook endpoints"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:276:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Multiple webhook endpoints should protect Airtel webhook endpoint","invocations":1,"location":{"column":5,"line":274},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should protect Airtel webhook endpoint"},{"ancestorTitles":["Webhook Security E2E (E24)","Response format"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at sendWebhook (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:61:12)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:289:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Response format should return proper success response","invocations":1,"location":{"column":5,"line":287},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return proper success response"},{"ancestorTitles":["Webhook Security E2E (E24)","Response format"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at sendWebhook (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:61:12)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:302:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Response format should return proper error response for auth failure","invocations":1,"location":{"column":5,"line":300},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return proper error response for auth failure"},{"ancestorTitles":["Webhook Security E2E (E24)","Performance and load"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: request is not a function\n    at sendWebhook (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:61:12)\n    at /workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:314:9\n    at Function.from (<anonymous>)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts:313:30)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Webhook Security E2E (E24) Performance and load should handle multiple concurrent valid webhooks","invocations":1,"location":{"column":5,"line":312},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle multiple concurrent valid webhooks"}],"endTime":1767325152986,"message":"  â— Webhook Security E2E (E24) â€º Authentication â€º should reject webhook without signature header\n\n    TypeError: request is not a function\n\n      70 |   describe('Authentication', () => {\n      71 |     it('should reject webhook without signature header', async () => {\n    > 72 |       const response = await request(app.getHttpServer())\n         |                              ^\n      73 |         .post('/webhooks/billing')\n      74 |         .set('Content-Type', 'application/json')\n      75 |         .set('X-Ts', Date.now().toString())\n\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:72:30)\n\n  â— Webhook Security E2E (E24) â€º Authentication â€º should reject webhook without timestamp header\n\n    TypeError: request is not a function\n\n      82 |\n      83 |     it('should reject webhook without timestamp header', async () => {\n    > 84 |       const response = await request(app.getHttpServer())\n         |                              ^\n      85 |         .post('/webhooks/billing')\n      86 |         .set('Content-Type', 'application/json')\n      87 |         .set('X-Sig', 'some-signature')\n\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:84:30)\n\n  â— Webhook Security E2E (E24) â€º Authentication â€º should reject webhook without request ID header\n\n    TypeError: request is not a function\n\n      93 |\n      94 |     it('should reject webhook without request ID header', async () => {\n    > 95 |       const response = await request(app.getHttpServer())\n         |                              ^\n      96 |         .post('/webhooks/billing')\n      97 |         .set('Content-Type', 'application/json')\n      98 |         .set('X-Sig', 'some-signature')\n\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:95:30)\n\n  â— Webhook Security E2E (E24) â€º Authentication â€º should reject webhook with invalid signature\n\n    TypeError: request is not a function\n\n      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;\n      60 |\n    > 61 |     return request(app.getHttpServer())\n         |            ^\n      62 |       .post('/webhooks/billing')\n      63 |       .set('Content-Type', 'application/json')\n      64 |       .set('X-Sig', signature)\n\n      at sendWebhook (webhook-security.e2e-spec.ts:61:12)\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:107:30)\n\n  â— Webhook Security E2E (E24) â€º Authentication â€º should accept webhook with valid signature\n\n    TypeError: request is not a function\n\n      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;\n      60 |\n    > 61 |     return request(app.getHttpServer())\n         |            ^\n      62 |       .post('/webhooks/billing')\n      63 |       .set('Content-Type', 'application/json')\n      64 |       .set('X-Sig', signature)\n\n      at sendWebhook (webhook-security.e2e-spec.ts:61:12)\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:117:30)\n\n  â— Webhook Security E2E (E24) â€º Timestamp validation â€º should reject webhook with stale timestamp (>5 minutes old)\n\n    TypeError: request is not a function\n\n      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;\n      60 |\n    > 61 |     return request(app.getHttpServer())\n         |            ^\n      62 |       .post('/webhooks/billing')\n      63 |       .set('Content-Type', 'application/json')\n      64 |       .set('X-Sig', signature)\n\n      at sendWebhook (webhook-security.e2e-spec.ts:61:12)\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:132:30)\n\n  â— Webhook Security E2E (E24) â€º Timestamp validation â€º should reject webhook with future timestamp (>5 minutes ahead)\n\n    TypeError: request is not a function\n\n      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;\n      60 |\n    > 61 |     return request(app.getHttpServer())\n         |            ^\n      62 |       .post('/webhooks/billing')\n      63 |       .set('Content-Type', 'application/json')\n      64 |       .set('X-Sig', signature)\n\n      at sendWebhook (webhook-security.e2e-spec.ts:61:12)\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:148:30)\n\n  â— Webhook Security E2E (E24) â€º Timestamp validation â€º should accept webhook with timestamp at edge of window (4 minutes old)\n\n    TypeError: request is not a function\n\n      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;\n      60 |\n    > 61 |     return request(app.getHttpServer())\n         |            ^\n      62 |       .post('/webhooks/billing')\n      63 |       .set('Content-Type', 'application/json')\n      64 |       .set('X-Sig', signature)\n\n      at sendWebhook (webhook-security.e2e-spec.ts:61:12)\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:162:30)\n\n  â— Webhook Security E2E (E24) â€º Timestamp validation â€º should reject webhook with invalid timestamp format\n\n    TypeError: request is not a function\n\n      169 |\n      170 |     it('should reject webhook with invalid timestamp format', async () => {\n    > 171 |       const response = await request(app.getHttpServer())\n          |                              ^\n      172 |         .post('/webhooks/billing')\n      173 |         .set('Content-Type', 'application/json')\n      174 |         .set('X-Sig', 'some-signature')\n\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:171:30)\n\n  â— Webhook Security E2E (E24) â€º Replay protection â€º should reject duplicate request ID (replay attack)\n\n    TypeError: request is not a function\n\n      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;\n      60 |\n    > 61 |     return request(app.getHttpServer())\n         |            ^\n      62 |       .post('/webhooks/billing')\n      63 |       .set('Content-Type', 'application/json')\n      64 |       .set('X-Sig', signature)\n\n      at sendWebhook (webhook-security.e2e-spec.ts:61:12)\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:190:31)\n\n  â— Webhook Security E2E (E24) â€º Replay protection â€º should allow same payload with different request IDs\n\n    TypeError: request is not a function\n\n      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;\n      60 |\n    > 61 |     return request(app.getHttpServer())\n         |            ^\n      62 |       .post('/webhooks/billing')\n      63 |       .set('Content-Type', 'application/json')\n      64 |       .set('X-Sig', signature)\n\n      at sendWebhook (webhook-security.e2e-spec.ts:61:12)\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:206:31)\n\n  â— Webhook Security E2E (E24) â€º Body integrity â€º should reject webhook with tampered body\n\n    TypeError: request is not a function\n\n      221 |\n      222 |       // Send tampered payload with signature from original\n    > 223 |       const response = await request(app.getHttpServer())\n          |                              ^\n      224 |         .post('/webhooks/billing')\n      225 |         .set('Content-Type', 'application/json')\n      226 |         .set('X-Sig', signature)\n\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:223:30)\n\n  â— Webhook Security E2E (E24) â€º Body integrity â€º should handle empty body correctly\n\n    TypeError: request is not a function\n\n      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;\n      60 |\n    > 61 |     return request(app.getHttpServer())\n         |            ^\n      62 |       .post('/webhooks/billing')\n      63 |       .set('Content-Type', 'application/json')\n      64 |       .set('X-Sig', signature)\n\n      at sendWebhook (webhook-security.e2e-spec.ts:61:12)\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:237:30)\n\n  â— Webhook Security E2E (E24) â€º Body integrity â€º should handle complex nested JSON\n\n    TypeError: request is not a function\n\n      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;\n      60 |\n    > 61 |     return request(app.getHttpServer())\n         |            ^\n      62 |       .post('/webhooks/billing')\n      63 |       .set('Content-Type', 'application/json')\n      64 |       .set('X-Sig', signature)\n\n      at sendWebhook (webhook-security.e2e-spec.ts:61:12)\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:257:30)\n\n  â— Webhook Security E2E (E24) â€º Multiple webhook endpoints â€º should protect MTN webhook endpoint\n\n    TypeError: request is not a function\n\n      263 |     it('should protect MTN webhook endpoint', async () => {\n      264 |       const payload = { transactionId: 'mtn-123', status: 'completed' };\n    > 265 |       const response = await request(app.getHttpServer())\n          |                              ^\n      266 |         .post('/webhooks/mtn')\n      267 |         .set('Content-Type', 'application/json')\n      268 |         .send(payload);\n\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:265:30)\n\n  â— Webhook Security E2E (E24) â€º Multiple webhook endpoints â€º should protect Airtel webhook endpoint\n\n    TypeError: request is not a function\n\n      274 |     it('should protect Airtel webhook endpoint', async () => {\n      275 |       const payload = { transactionId: 'airtel-123', status: 'completed' };\n    > 276 |       const response = await request(app.getHttpServer())\n          |                              ^\n      277 |         .post('/webhooks/airtel')\n      278 |         .set('Content-Type', 'application/json')\n      279 |         .send(payload);\n\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:276:30)\n\n  â— Webhook Security E2E (E24) â€º Response format â€º should return proper success response\n\n    TypeError: request is not a function\n\n      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;\n      60 |\n    > 61 |     return request(app.getHttpServer())\n         |            ^\n      62 |       .post('/webhooks/billing')\n      63 |       .set('Content-Type', 'application/json')\n      64 |       .set('X-Sig', signature)\n\n      at sendWebhook (webhook-security.e2e-spec.ts:61:12)\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:289:30)\n\n  â— Webhook Security E2E (E24) â€º Response format â€º should return proper error response for auth failure\n\n    TypeError: request is not a function\n\n      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;\n      60 |\n    > 61 |     return request(app.getHttpServer())\n         |            ^\n      62 |       .post('/webhooks/billing')\n      63 |       .set('Content-Type', 'application/json')\n      64 |       .set('X-Sig', signature)\n\n      at sendWebhook (webhook-security.e2e-spec.ts:61:12)\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:302:30)\n\n  â— Webhook Security E2E (E24) â€º Performance and load â€º should handle multiple concurrent valid webhooks\n\n    TypeError: request is not a function\n\n      59 |     const requestId = headers.id || `test-${Date.now()}-${Math.random()}`;\n      60 |\n    > 61 |     return request(app.getHttpServer())\n         |            ^\n      62 |       .post('/webhooks/billing')\n      63 |       .set('Content-Type', 'application/json')\n      64 |       .set('X-Sig', signature)\n\n      at sendWebhook (webhook-security.e2e-spec.ts:61:12)\n      at webhook-security.e2e-spec.ts:314:9\n          at Function.from (<anonymous>)\n      at Object.<anonymous> (webhook-security.e2e-spec.ts:313:30)\n","name":"/workspaces/chefcloud/services/api/test/webhook-security.e2e-spec.ts","startTime":1767325152097,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth (e2e)","POST /auth/login"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /auth/login should login with valid credentials","invocations":1,"location":{"column":5,"line":28},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should login with valid credentials"},{"ancestorTitles":["Auth (e2e)","POST /auth/login"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /auth/login should reject invalid email","invocations":1,"location":{"column":5,"line":47},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject invalid email"},{"ancestorTitles":["Auth (e2e)","POST /auth/login"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /auth/login should reject invalid password","invocations":1,"location":{"column":5,"line":57},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject invalid password"},{"ancestorTitles":["Auth (e2e)","POST /auth/login"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /auth/login should reject missing fields","invocations":1,"location":{"column":5,"line":67},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject missing fields"},{"ancestorTitles":["Auth (e2e)","POST /auth/pin-login"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /auth/pin-login should login with valid employee code and PIN","invocations":1,"location":{"column":5,"line":78},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should login with valid employee code and PIN"},{"ancestorTitles":["Auth (e2e)","POST /auth/pin-login"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /auth/pin-login should reject invalid employee code","invocations":1,"location":{"column":5,"line":96},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject invalid employee code"},{"ancestorTitles":["Auth (e2e)","POST /auth/pin-login"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /auth/pin-login should reject invalid PIN","invocations":1,"location":{"column":5,"line":107},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject invalid PIN"},{"ancestorTitles":["Auth (e2e)","POST /auth/pin-login"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /auth/pin-login should reject wrong branch","invocations":1,"location":{"column":5,"line":118},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject wrong branch"},{"ancestorTitles":["Auth (e2e)","POST /auth/msr-swipe"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /auth/msr-swipe should login with valid badge ID","invocations":1,"location":{"column":5,"line":131},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should login with valid badge ID"},{"ancestorTitles":["Auth (e2e)","POST /auth/msr-swipe"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /auth/msr-swipe should reject unknown badge ID","invocations":1,"location":{"column":5,"line":147},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject unknown badge ID"},{"ancestorTitles":["Auth (e2e)","POST /auth/msr-swipe"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /auth/msr-swipe should login with branch verification","invocations":1,"location":{"column":5,"line":156},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should login with branch verification"},{"ancestorTitles":["Auth (e2e)","GET /me"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) GET /me should return user profile with valid token","invocations":1,"location":{"column":5,"line":181},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return user profile with valid token"},{"ancestorTitles":["Auth (e2e)","GET /me"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) GET /me should reject request without token","invocations":1,"location":{"column":5,"line":198},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject request without token"},{"ancestorTitles":["Auth (e2e)","GET /me"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) GET /me should reject request with invalid token","invocations":1,"location":{"column":5,"line":202},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject request with invalid token"},{"ancestorTitles":["Auth (e2e)","POST /devices/register"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /devices/register should allow L4 manager to register a device","invocations":1,"location":{"column":5,"line":222},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow L4 manager to register a device"},{"ancestorTitles":["Auth (e2e)","POST /devices/register"],"duration":0,"failureDetails":[{"check":"requireBadges","activeDataset":"DEMO_TAPAS","details":{"expected":"At least 1 badges for org \"tapas-demo\"","found":"0 badges"},"name":"PreconditionError"}],"failureMessages":["PreconditionError: Precondition failed: requireBadges\nActive dataset: DEMO_TAPAS\nDetails: {\n  \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n  \"found\": \"0 badges\"\n}\n\nPossible fixes:\n1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n3. Check that seed data matches test expectations\n\n    at requireBadges (/workspaces/chefcloud/services/api/test/helpers/require-preconditions.ts:115:11)\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts:20:5)"],"fullName":"Auth (e2e) POST /devices/register should reject device registration without auth","invocations":1,"location":{"column":5,"line":238},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject device registration without auth"}],"endTime":1767325153820,"message":"  â— Auth (e2e) â€º POST /auth/login â€º should login with valid credentials\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º POST /auth/login â€º should reject invalid email\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º POST /auth/login â€º should reject invalid password\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º POST /auth/login â€º should reject missing fields\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º POST /auth/pin-login â€º should login with valid employee code and PIN\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º POST /auth/pin-login â€º should reject invalid employee code\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º POST /auth/pin-login â€º should reject invalid PIN\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º POST /auth/pin-login â€º should reject wrong branch\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º POST /auth/msr-swipe â€º should login with valid badge ID\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º POST /auth/msr-swipe â€º should reject unknown badge ID\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º POST /auth/msr-swipe â€º should login with branch verification\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º GET /me â€º should return user profile with valid token\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º GET /me â€º should reject request without token\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º GET /me â€º should reject request with invalid token\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º POST /devices/register â€º should allow L4 manager to register a device\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n\n  â— Auth (e2e) â€º POST /devices/register â€º should reject device registration without auth\n\n    PreconditionError: Precondition failed: requireBadges\n    Active dataset: DEMO_TAPAS\n    Details: {\n      \"expected\": \"At least 1 badges for org \\\"tapas-demo\\\"\",\n      \"found\": \"0 badges\"\n    }\n\n    Possible fixes:\n    1. Run setup with correct dataset: E2E_DATASET=DEMO_TAPAS pnpm test:e2e:setup\n    2. Run setup with ALL datasets: E2E_DATASET=ALL pnpm test:e2e:setup\n    3. Check that seed data matches test expectations\n\n      113 |   \n      114 |   if (badgeCount < minCount) {\n    > 115 |     throw new PreconditionError('requireBadges', getActiveDataset(), {\n          |           ^\n      116 |       expected: `At least ${minCount} badges for org \"${orgSlug}\"`,\n      117 |       found: `${badgeCount} badges`,\n      118 |     });\n\n      at requireBadges (helpers/require-preconditions.ts:115:11)\n      at Object.<anonymous> (auth.e2e-spec.ts:20:5)\n","name":"/workspaces/chefcloud/services/api/test/auth.e2e-spec.ts","startTime":1767325152989,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["MSR Card Management (e2e)","POST /auth/msr/assign"],"duration":12,"failureDetails":[{}],"failureMessages":["Error: expected 201 \"Created\", got 500 \"Internal Server Error\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/msr-card.e2e-spec.ts:130:10)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"MSR Card Management (e2e) POST /auth/msr/assign should assign MSR card to employee","invocations":1,"location":{"column":5,"line":120},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should assign MSR card to employee"},{"ancestorTitles":["MSR Card Management (e2e)","POST /auth/msr/assign"],"duration":8,"failureDetails":[{}],"failureMessages":["Error: expected 409 \"Conflict\", got 500 \"Internal Server Error\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/msr-card.e2e-spec.ts:150:10)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"MSR Card Management (e2e) POST /auth/msr/assign should reject duplicate card assignment to same employee","invocations":1,"location":{"column":5,"line":140},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject duplicate card assignment to same employee"},{"ancestorTitles":["MSR Card Management (e2e)","POST /auth/msr/assign"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"MSR Card Management (e2e) POST /auth/msr/assign should reject unauthorized access (no token)","invocations":1,"location":{"column":5,"line":153},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject unauthorized access (no token)"},{"ancestorTitles":["MSR Card Management (e2e)","POST /auth/msr-swipe"],"duration":7,"failureDetails":[{"name":"PrismaClientValidationError","clientVersion":"5.22.0"}],"failureMessages":["PrismaClientValidationError: \nInvalid `prisma.client.msrCard.findUnique()` invocation in\n/workspaces/chefcloud/services/api/test/msr-card.e2e-spec.ts:169:48\n\n  166 describe('POST /auth/msr-swipe', () => {\n  167   it('should authenticate with valid MSR card', async () => {\n  168     // Get the card we assigned\nâ†’ 169     const card = await prisma.client.msrCard.findUnique({\n            where: {\n              id: undefined,\n          ?   employeeId?: String,\n          ?   cardToken?: String,\n          ?   AND?: MsrCardWhereInput | MsrCardWhereInput[],\n          ?   OR?: MsrCardWhereInput[],\n          ?   NOT?: MsrCardWhereInput | MsrCardWhereInput[],\n          ?   orgId?: StringFilter | String,\n          ?   status?: EnumMsrCardStatusFilter | MsrCardStatus,\n          ?   assignedAt?: DateTimeFilter | DateTime,\n          ?   assignedById?: StringFilter | String,\n          ?   revokedAt?: DateTimeNullableFilter | DateTime | Null,\n          ?   revokedById?: StringNullableFilter | String | Null,\n          ?   revokedReason?: StringNullableFilter | String | Null,\n          ?   metadata?: JsonNullableFilter,\n          ?   createdAt?: DateTimeFilter | DateTime,\n          ?   updatedAt?: DateTimeFilter | DateTime,\n          ?   employee?: EmployeeRelationFilter | EmployeeWhereInput,\n          ?   assignedBy?: UserRelationFilter | UserWhereInput,\n          ?   revokedBy?: UserNullableRelationFilter | UserWhereInput | Null\n            },\n            include: {\n              employee: true\n            }\n          })\n\nArgument `where` of type MsrCardWhereUniqueInput needs at least one of `id`, `employeeId` or `cardToken` arguments. Available options are marked with ?.\n    at wn (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n    at $n.handleRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n    at $n.handleAndLogRequestError (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n    at $n.request (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n    at l (/workspaces/chefcloud/node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at /workspaces/chefcloud/services/api/src/common/slow-query.ts:19:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/msr-card.e2e-spec.ts:169:20)"],"fullName":"MSR Card Management (e2e) POST /auth/msr-swipe should authenticate with valid MSR card","invocations":1,"location":{"column":5,"line":167},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should authenticate with valid MSR card"},{"ancestorTitles":["MSR Card Management (e2e)","POST /auth/msr-swipe"],"duration":6,"failureDetails":[{}],"failureMessages":["Error: expected 404 \"Not Found\", got 400 \"Bad Request\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/msr-card.e2e-spec.ts:258:10)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"MSR Card Management (e2e) POST /auth/msr-swipe should reject invalid badge ID","invocations":1,"location":{"column":5,"line":251},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject invalid badge ID"},{"ancestorTitles":["MSR Card Management (e2e)","GET /auth/msr/cards"],"duration":10,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/msr-card.e2e-spec.ts:269:44)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"MSR Card Management (e2e) GET /auth/msr/cards should list MSR cards for organization","invocations":1,"location":{"column":5,"line":263},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should list MSR cards for organization"},{"ancestorTitles":["MSR Card Management (e2e)","GET /auth/msr/cards"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"MSR Card Management (e2e) GET /auth/msr/cards should reject unauthorized access","invocations":1,"location":{"column":5,"line":277},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject unauthorized access"},{"ancestorTitles":["MSR Card Management (e2e)","POST /auth/msr/revoke"],"duration":27,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/msr-card.e2e-spec.ts:293:10)\n    at Promise.then.completed (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:121:9)\n    at run (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/workspaces/chefcloud/node_modules/.pnpm/jest-circus@29.7.0/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/workspaces/chefcloud/node_modules/.pnpm/jest-runner@29.7.0/node_modules/jest-runner/build/runTest.js:444:34)\n----\n    at Test._assertStatus (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n    at /workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n    at Test._assertFunction (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n    at Test.assert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n    at Server.localAssert (/workspaces/chefcloud/node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"fullName":"MSR Card Management (e2e) POST /auth/msr/revoke should revoke MSR card","invocations":1,"location":{"column":5,"line":285},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should revoke MSR card"},{"ancestorTitles":["MSR Card Management (e2e)","POST /auth/msr/revoke"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"MSR Card Management (e2e) POST /auth/msr/revoke should reject unauthorized access","invocations":1,"location":{"column":5,"line":306},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject unauthorized access"}],"endTime":1767325154510,"message":"  â— MSR Card Management (e2e) â€º POST /auth/msr/assign â€º should assign MSR card to employee\n\n    expected 201 \"Created\", got 500 \"Internal Server Error\"\n\n      128 |           badgeId: trackData,\n      129 |         })\n    > 130 |         .expect(201);\n          |          ^\n      131 |\n      132 |       expect(response.body).toHaveProperty('id');\n      133 |       expect(response.body).toHaveProperty('cardToken');\n\n      at Object.<anonymous> (msr-card.e2e-spec.ts:130:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— MSR Card Management (e2e) â€º POST /auth/msr/assign â€º should reject duplicate card assignment to same employee\n\n    expected 409 \"Conflict\", got 500 \"Internal Server Error\"\n\n      148 |           badgeId: trackData,\n      149 |         })\n    > 150 |         .expect(409); // Conflict - employee already has card\n          |          ^\n      151 |     });\n      152 |\n      153 |     it('should reject unauthorized access (no token)', async () => {\n\n      at Object.<anonymous> (msr-card.e2e-spec.ts:150:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— MSR Card Management (e2e) â€º POST /auth/msr-swipe â€º should authenticate with valid MSR card\n\n    PrismaClientValidationError: \n    Invalid `prisma.client.msrCard.findUnique()` invocation in\n    /workspaces/chefcloud/services/api/test/msr-card.e2e-spec.ts:169:48\n\n      166 describe('POST /auth/msr-swipe', () => {\n      167   it('should authenticate with valid MSR card', async () => {\n      168     // Get the card we assigned\n    â†’ 169     const card = await prisma.client.msrCard.findUnique({\n                where: {\n                  id: undefined,\n              ?   employeeId?: String,\n              ?   cardToken?: String,\n              ?   AND?: MsrCardWhereInput | MsrCardWhereInput[],\n              ?   OR?: MsrCardWhereInput[],\n              ?   NOT?: MsrCardWhereInput | MsrCardWhereInput[],\n              ?   orgId?: StringFilter | String,\n              ?   status?: EnumMsrCardStatusFilter | MsrCardStatus,\n              ?   assignedAt?: DateTimeFilter | DateTime,\n              ?   assignedById?: StringFilter | String,\n              ?   revokedAt?: DateTimeNullableFilter | DateTime | Null,\n              ?   revokedById?: StringNullableFilter | String | Null,\n              ?   revokedReason?: StringNullableFilter | String | Null,\n              ?   metadata?: JsonNullableFilter,\n              ?   createdAt?: DateTimeFilter | DateTime,\n              ?   updatedAt?: DateTimeFilter | DateTime,\n              ?   employee?: EmployeeRelationFilter | EmployeeWhereInput,\n              ?   assignedBy?: UserRelationFilter | UserWhereInput,\n              ?   revokedBy?: UserNullableRelationFilter | UserWhereInput | Null\n                },\n                include: {\n                  employee: true\n                }\n              })\n\n    Argument `where` of type MsrCardWhereUniqueInput needs at least one of `id`, `employeeId` or `cardToken` arguments. Available options are marked with ?.\n\n      17 |   return async (params: any, next: any) => {\n      18 |     const start = Date.now();\n    > 19 |     const result = await next(params);\n         |                    ^\n      20 |     const duration = Date.now() - start;\n      21 |\n      22 |     // Sample slow queries to avoid log spam\n\n      at wn (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:29:1363)\n      at $n.handleRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6958)\n      at $n.handleAndLogRequestError (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6623)\n      at $n.request (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:121:6307)\n      at l (../../../node_modules/.pnpm/@prisma+client@5.22.0_prisma@5.22.0/node_modules/@prisma/client/runtime/library.js:130:9633)\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at ../src/common/slow-query.ts:19:20\n      at Object.<anonymous> (msr-card.e2e-spec.ts:169:20)\n\n  â— MSR Card Management (e2e) â€º POST /auth/msr-swipe â€º should reject invalid badge ID\n\n    expected 404 \"Not Found\", got 400 \"Bad Request\"\n\n      256 |           branchId,\n      257 |         })\n    > 258 |         .expect(404); // Card not found\n          |          ^\n      259 |     });\n      260 |   });\n      261 |\n\n      at Object.<anonymous> (msr-card.e2e-spec.ts:258:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n\n  â— MSR Card Management (e2e) â€º GET /auth/msr/cards â€º should list MSR cards for organization\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      267 |         .expect(200);\n      268 |\n    > 269 |       expect(Array.isArray(response.body)).toBe(true);\n          |                                            ^\n      270 |       expect(response.body.length).toBeGreaterThanOrEqual(1);\n      271 |\n      272 |       const assignedCard = response.body.find((c: any) => c.id === cardId);\n\n      at Object.<anonymous> (msr-card.e2e-spec.ts:269:44)\n\n  â— MSR Card Management (e2e) â€º POST /auth/msr/revoke â€º should revoke MSR card\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\n      291 |           reason: 'E2E test cleanup',\n      292 |         })\n    > 293 |         .expect(200);\n          |          ^\n      294 |\n      295 |       expect(response.body.status).toBe('REVOKED');\n      296 |       expect(response.body.revokedReason).toBe('E2E test cleanup');\n\n      at Object.<anonymous> (msr-card.e2e-spec.ts:293:10)\n      ----\n      at Test._assertStatus (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:252:14)\n      at ../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:308:13\n      at Test._assertFunction (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:285:13)\n      at Test.assert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:164:23)\n      at Server.localAssert (../../../node_modules/.pnpm/supertest@6.3.4/node_modules/supertest/lib/test.js:120:14)\n","name":"/workspaces/chefcloud/services/api/test/msr-card.e2e-spec.ts","startTime":1767325153822,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Transfer Invalidation (Slice E2E) â€” E22.D"],"duration":0,"failureDetails":[{"type":"TransferEventsTestController","context":{"index":0,"dependencies":[null]},"metadata":{"id":"c0161375343d8b69d9f61"},"moduleRef":{"id":"30ff57d484f553d737973"}}],"failureMessages":["Error: Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.\n\nPotential solutions:\n- Is TransferEventsTestModule a valid NestJS module?\n- If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?\n- If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?\n  @Module({\n    imports: [ /* the Module containing CacheInvalidationService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 8)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at /workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:25:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/transfer.invalidation.slice.e2e-spec.ts:23:20)"],"fullName":"Transfer Invalidation (Slice E2E) â€” E22.D POST /transfer-test/event -> 401 without token","invocations":1,"location":{"column":3,"line":45},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"POST /transfer-test/event -> 401 without token"},{"ancestorTitles":["Transfer Invalidation (Slice E2E) â€” E22.D"],"duration":0,"failureDetails":[{"type":"TransferEventsTestController","context":{"index":0,"dependencies":[null]},"metadata":{"id":"c0161375343d8b69d9f61"},"moduleRef":{"id":"30ff57d484f553d737973"}}],"failureMessages":["Error: Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.\n\nPotential solutions:\n- Is TransferEventsTestModule a valid NestJS module?\n- If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?\n- If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?\n  @Module({\n    imports: [ /* the Module containing CacheInvalidationService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 8)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at /workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:25:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/transfer.invalidation.slice.e2e-spec.ts:23:20)"],"fullName":"Transfer Invalidation (Slice E2E) â€” E22.D POST /transfer-test/event -> 200 {ok:false} on invalid payload","invocations":1,"location":{"column":3,"line":53},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"POST /transfer-test/event -> 200 {ok:false} on invalid payload"},{"ancestorTitles":["Transfer Invalidation (Slice E2E) â€” E22.D"],"duration":0,"failureDetails":[{"type":"TransferEventsTestController","context":{"index":0,"dependencies":[null]},"metadata":{"id":"c0161375343d8b69d9f61"},"moduleRef":{"id":"30ff57d484f553d737973"}}],"failureMessages":["Error: Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.\n\nPotential solutions:\n- Is TransferEventsTestModule a valid NestJS module?\n- If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?\n- If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?\n  @Module({\n    imports: [ /* the Module containing CacheInvalidationService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 8)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at /workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:25:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/transfer.invalidation.slice.e2e-spec.ts:23:20)"],"fullName":"Transfer Invalidation (Slice E2E) â€” E22.D HIT â†’ transfer.changed â†’ MISS (forecast cache proves invalidation)","invocations":1,"location":{"column":3,"line":63},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"HIT â†’ transfer.changed â†’ MISS (forecast cache proves invalidation)"},{"ancestorTitles":["Transfer Invalidation (Slice E2E) â€” E22.D"],"duration":0,"failureDetails":[{"type":"TransferEventsTestController","context":{"index":0,"dependencies":[null]},"metadata":{"id":"c0161375343d8b69d9f61"},"moduleRef":{"id":"30ff57d484f553d737973"}}],"failureMessages":["Error: Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.\n\nPotential solutions:\n- Is TransferEventsTestModule a valid NestJS module?\n- If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?\n- If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?\n  @Module({\n    imports: [ /* the Module containing CacheInvalidationService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 8)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at /workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:25:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/transfer.invalidation.slice.e2e-spec.ts:23:20)"],"fullName":"Transfer Invalidation (Slice E2E) â€” E22.D Idempotency: repeating same event still returns ok:true","invocations":1,"location":{"column":3,"line":87},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Idempotency: repeating same event still returns ok:true"},{"ancestorTitles":["Transfer Invalidation (Slice E2E) â€” E22.D"],"duration":0,"failureDetails":[{"type":"TransferEventsTestController","context":{"index":0,"dependencies":[null]},"metadata":{"id":"c0161375343d8b69d9f61"},"moduleRef":{"id":"30ff57d484f553d737973"}}],"failureMessages":["Error: Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.\n\nPotential solutions:\n- Is TransferEventsTestModule a valid NestJS module?\n- If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?\n- If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?\n  @Module({\n    imports: [ /* the Module containing CacheInvalidationService */ ]\n  })\n\n    at TestingInjector.lookupComponentInParentModules (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n    at TestingInjector.resolveComponentInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n    at resolveParam (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n    at TestingInjector.loadInstance (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n    at TestingInjector.loadController (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n    at async Promise.all (index 0)\n    at TestingInstanceLoader.createInstancesOfControllers (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n    at /workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n    at async Promise.all (index 8)\n    at TestingInstanceLoader.createInstances (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (/workspaces/chefcloud/node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n    at /workspaces/chefcloud/services/api/test/helpers/e2e-bootstrap.ts:25:20\n    at Object.<anonymous> (/workspaces/chefcloud/services/api/test/e2e/transfer.invalidation.slice.e2e-spec.ts:23:20)"],"fullName":"Transfer Invalidation (Slice E2E) â€” E22.D Deterministic rate limit: >= one 429 on /forecast-test/sales","invocations":1,"location":{"column":3,"line":95},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Deterministic rate limit: >= one 429 on /forecast-test/sales"}],"endTime":1767325154796,"message":"  â— Transfer Invalidation (Slice E2E) â€” E22.D â€º POST /transfer-test/event -> 401 without token\n\n    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.\n\n    Potential solutions:\n    - Is TransferEventsTestModule a valid NestJS module?\n    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?\n    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?\n      @Module({\n        imports: [ /* the Module containing CacheInvalidationService */ ]\n      })\n\n      23 |     const moduleBuilder = Test.createTestingModule(metadata);\n      24 |     trace('compiling module');\n    > 25 |     const module = await moduleBuilder.compile();\n         |                    ^\n      26 |     trace('module compiled');\n      27 |     return module;\n      28 |   });\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 0)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 8)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at helpers/e2e-bootstrap.ts:25:20\n      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:23:20)\n\n  â— Transfer Invalidation (Slice E2E) â€” E22.D â€º POST /transfer-test/event -> 200 {ok:false} on invalid payload\n\n    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.\n\n    Potential solutions:\n    - Is TransferEventsTestModule a valid NestJS module?\n    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?\n    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?\n      @Module({\n        imports: [ /* the Module containing CacheInvalidationService */ ]\n      })\n\n      23 |     const moduleBuilder = Test.createTestingModule(metadata);\n      24 |     trace('compiling module');\n    > 25 |     const module = await moduleBuilder.compile();\n         |                    ^\n      26 |     trace('module compiled');\n      27 |     return module;\n      28 |   });\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 0)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 8)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at helpers/e2e-bootstrap.ts:25:20\n      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:23:20)\n\n  â— Transfer Invalidation (Slice E2E) â€” E22.D â€º HIT â†’ transfer.changed â†’ MISS (forecast cache proves invalidation)\n\n    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.\n\n    Potential solutions:\n    - Is TransferEventsTestModule a valid NestJS module?\n    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?\n    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?\n      @Module({\n        imports: [ /* the Module containing CacheInvalidationService */ ]\n      })\n\n      23 |     const moduleBuilder = Test.createTestingModule(metadata);\n      24 |     trace('compiling module');\n    > 25 |     const module = await moduleBuilder.compile();\n         |                    ^\n      26 |     trace('module compiled');\n      27 |     return module;\n      28 |   });\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 0)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 8)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at helpers/e2e-bootstrap.ts:25:20\n      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:23:20)\n\n  â— Transfer Invalidation (Slice E2E) â€” E22.D â€º Idempotency: repeating same event still returns ok:true\n\n    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.\n\n    Potential solutions:\n    - Is TransferEventsTestModule a valid NestJS module?\n    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?\n    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?\n      @Module({\n        imports: [ /* the Module containing CacheInvalidationService */ ]\n      })\n\n      23 |     const moduleBuilder = Test.createTestingModule(metadata);\n      24 |     trace('compiling module');\n    > 25 |     const module = await moduleBuilder.compile();\n         |                    ^\n      26 |     trace('module compiled');\n      27 |     return module;\n      28 |   });\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 0)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 8)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at helpers/e2e-bootstrap.ts:25:20\n      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:23:20)\n\n  â— Transfer Invalidation (Slice E2E) â€” E22.D â€º Deterministic rate limit: >= one 429 on /forecast-test/sales\n\n    Nest can't resolve dependencies of the TransferEventsTestController (?). Please make sure that the argument CacheInvalidationService at index [0] is available in the TransferEventsTestModule context.\n\n    Potential solutions:\n    - Is TransferEventsTestModule a valid NestJS module?\n    - If CacheInvalidationService is a provider, is it part of the current TransferEventsTestModule?\n    - If CacheInvalidationService is exported from a separate @Module, is that module imported within TransferEventsTestModule?\n      @Module({\n        imports: [ /* the Module containing CacheInvalidationService */ ]\n      })\n\n      23 |     const moduleBuilder = Test.createTestingModule(metadata);\n      24 |     trace('compiling module');\n    > 25 |     const module = await moduleBuilder.compile();\n         |                    ^\n      26 |     trace('module compiled');\n      27 |     return module;\n      28 |   });\n\n      at TestingInjector.lookupComponentInParentModules (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:254:19)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:207:33)\n      at TestingInjector.resolveComponentInstance (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-injector.js:19:45)\n      at resolveParam (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:128:38)\n          at async Promise.all (index 0)\n      at TestingInjector.resolveConstructorParams (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:143:27)\n      at TestingInjector.loadInstance (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:70:13)\n      at TestingInjector.loadController (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/injector.js:88:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:68:13\n          at async Promise.all (index 0)\n      at TestingInstanceLoader.createInstancesOfControllers (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:67:9)\n      at ../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:42:13\n          at async Promise.all (index 8)\n      at TestingInstanceLoader.createInstances (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:39:9)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+core@10.3.0_@nestjs+common@10.3.0_@nestjs+platform-express@10.3.0_@nestjs+websockets@_ugkchwxeouhkyngielvgnjajde/node_modules/@nestjs/core/injector/instance-loader.js:22:13)\n      at TestingInstanceLoader.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-instance-loader.js:9:9)\n      at TestingModuleBuilder.createInstancesOfDependencies (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:118:9)\n      at TestingModuleBuilder.compile (../../../node_modules/.pnpm/@nestjs+testing@10.3.0_@nestjs+common@10.3.0_@nestjs+core@10.3.0_@nestjs+platform-express@10.3.0/node_modules/@nestjs/testing/testing-module.builder.js:74:9)\n      at helpers/e2e-bootstrap.ts:25:20\n      at Object.<anonymous> (e2e/transfer.invalidation.slice.e2e-spec.ts:23:20)\n","name":"/workspaces/chefcloud/services/api/test/e2e/transfer.invalidation.slice.e2e-spec.ts","startTime":1767325154514,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["JWT E2E Smoke Test"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"JWT E2E Smoke Test should sign and verify JWT tokens","invocations":1,"location":{"column":3,"line":26},"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should sign and verify JWT tokens"},{"ancestorTitles":["JWT E2E Smoke Test"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"JWT E2E Smoke Test should reject invalid tokens","invocations":1,"location":{"column":3,"line":47},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject invalid tokens"}],"endTime":1767325156197,"message":"","name":"/workspaces/chefcloud/services/api/test/smoke/jwt.e2e-spec.ts","startTime":1767325154801,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth E2E"],"duration":136,"failureDetails":[],"failureMessages":[],"fullName":"Auth E2E should login with email/password and return access_token","invocations":1,"location":{"column":3,"line":31},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should login with email/password and return access_token"},{"ancestorTitles":["Auth E2E"],"duration":115,"failureDetails":[],"failureMessages":[],"fullName":"Auth E2E should reject invalid password","invocations":1,"location":{"column":3,"line":47},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should reject invalid password"}],"endTime":1767325157810,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/auth.e2e-spec.ts","startTime":1767325156203,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Multi-Tenant Isolation (E2E)","Cross-org menu item access"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Multi-Tenant Isolation (E2E) Cross-org menu item access should deny user A access to org B menu items with wrong x-org-id","invocations":1,"location":{"column":5,"line":92},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should deny user A access to org B menu items with wrong x-org-id"},{"ancestorTitles":["Multi-Tenant Isolation (E2E)","Cross-org menu item access"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Multi-Tenant Isolation (E2E) Cross-org menu item access should return 404 or 403 when user A requests org B resource with correct x-org-id","invocations":1,"location":{"column":5,"line":102},"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return 404 or 403 when user A requests org B resource with correct x-org-id"},{"ancestorTitles":["Multi-Tenant Isolation (E2E)","Cross-org menu item access"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Multi-Tenant Isolation (E2E) Cross-org menu item access should allow user A to access org A menu items","invocations":1,"location":{"column":5,"line":116},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should allow user A to access org A menu items"},{"ancestorTitles":["Multi-Tenant Isolation (E2E)","Cross-org menu item access"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Multi-Tenant Isolation (E2E) Cross-org menu item access should require x-org-id header","invocations":1,"location":{"column":5,"line":126},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require x-org-id header"},{"ancestorTitles":["Multi-Tenant Isolation (E2E)","Cross-org data isolation"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"Multi-Tenant Isolation (E2E) Cross-org data isolation should not leak org B data when user A lists menu items","invocations":1,"location":{"column":5,"line":137},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not leak org B data when user A lists menu items"},{"ancestorTitles":["Multi-Tenant Isolation (E2E)","Cross-org data isolation"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Multi-Tenant Isolation (E2E) Cross-org data isolation should isolate org B user from org A data","invocations":1,"location":{"column":5,"line":152},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should isolate org B user from org A data"}],"endTime":1767325159040,"message":"","name":"/workspaces/chefcloud/services/api/test/b3-multi-tenant.e2e-spec.ts","startTime":1767325157815,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Badge Revocation (E2E)","1. Badge List Endpoints"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Badge Revocation (E2E) 1. Badge List Endpoints GET /badges should list badges for org","invocations":1,"location":{"column":5,"line":51},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /badges should list badges for org"},{"ancestorTitles":["Badge Revocation (E2E)","1. Badge List Endpoints"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Badge Revocation (E2E) 1. Badge List Endpoints GET /badges should require auth","invocations":1,"location":{"column":5,"line":59},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"GET /badges should require auth"},{"ancestorTitles":["Badge Revocation (E2E)","2. Badge Validation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Badge Revocation (E2E) 2. Badge Validation POST /badges/validate should validate badge","invocations":1,"location":{"column":5,"line":67},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /badges/validate should validate badge"},{"ancestorTitles":["Badge Revocation (E2E)","2. Badge Validation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Badge Revocation (E2E) 2. Badge Validation POST /badges/validate should require auth","invocations":1,"location":{"column":5,"line":79},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /badges/validate should require auth"},{"ancestorTitles":["Badge Revocation (E2E)","3. Badge Revocation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Badge Revocation (E2E) 3. Badge Revocation POST /badges/:id/revoke should require owner permission","invocations":1,"location":{"column":5,"line":90},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /badges/:id/revoke should require owner permission"},{"ancestorTitles":["Badge Revocation (E2E)","3. Badge Revocation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Badge Revocation (E2E) 3. Badge Revocation POST /badges/:id/revoke should require auth","invocations":1,"location":{"column":5,"line":100},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /badges/:id/revoke should require auth"},{"ancestorTitles":["Badge Revocation (E2E)","4. Badge History"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Badge Revocation (E2E) 4. Badge History GET /badges/:id/history should return badge history","invocations":1,"location":{"column":5,"line":111},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /badges/:id/history should return badge history"},{"ancestorTitles":["Badge Revocation (E2E)","5. Session Security"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Badge Revocation (E2E) 5. Session Security GET /sessions should list active sessions","invocations":1,"location":{"column":5,"line":121},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /sessions should list active sessions"},{"ancestorTitles":["Badge Revocation (E2E)","5. Session Security"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Badge Revocation (E2E) 5. Session Security POST /sessions/revoke-all should require owner permission","invocations":1,"location":{"column":5,"line":129},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /sessions/revoke-all should require owner permission"},{"ancestorTitles":["Badge Revocation (E2E)","6. Role-Based Access"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Badge Revocation (E2E) 6. Role-Based Access owner can list badges","invocations":1,"location":{"column":5,"line":141},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"owner can list badges"},{"ancestorTitles":["Badge Revocation (E2E)","6. Role-Based Access"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Badge Revocation (E2E) 6. Role-Based Access manager can validate badges","invocations":1,"location":{"column":5,"line":149},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"manager can validate badges"}],"endTime":1767325160053,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/badge-revocation.e2e-spec.ts","startTime":1767325159047,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["M2 - Shifts, Scheduling & Stock-Count Gate (E2E)","1. Shift Templates"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"M2 - Shifts, Scheduling & Stock-Count Gate (E2E) 1. Shift Templates GET /shifts/templates should list shift templates","invocations":1,"location":{"column":5,"line":55},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /shifts/templates should list shift templates"},{"ancestorTitles":["M2 - Shifts, Scheduling & Stock-Count Gate (E2E)","1. Shift Templates"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M2 - Shifts, Scheduling & Stock-Count Gate (E2E) 1. Shift Templates GET /shifts/templates should require auth","invocations":1,"location":{"column":5,"line":64},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /shifts/templates should require auth"},{"ancestorTitles":["M2 - Shifts, Scheduling & Stock-Count Gate (E2E)","1. Shift Templates"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"M2 - Shifts, Scheduling & Stock-Count Gate (E2E) 1. Shift Templates POST /shifts/templates should require auth","invocations":1,"location":{"column":5,"line":73},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /shifts/templates should require auth"},{"ancestorTitles":["M2 - Shifts, Scheduling & Stock-Count Gate (E2E)","2. Schedules"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M2 - Shifts, Scheduling & Stock-Count Gate (E2E) 2. Schedules GET /shifts/schedules should list schedules","invocations":1,"location":{"column":5,"line":89},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /shifts/schedules should list schedules"},{"ancestorTitles":["M2 - Shifts, Scheduling & Stock-Count Gate (E2E)","2. Schedules"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M2 - Shifts, Scheduling & Stock-Count Gate (E2E) 2. Schedules GET /shifts/schedules/current should return current schedule","invocations":1,"location":{"column":5,"line":98},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /shifts/schedules/current should return current schedule"},{"ancestorTitles":["M2 - Shifts, Scheduling & Stock-Count Gate (E2E)","3. Shift Assignments"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M2 - Shifts, Scheduling & Stock-Count Gate (E2E) 3. Shift Assignments GET /shifts/assignments should list assignments","invocations":1,"location":{"column":5,"line":109},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /shifts/assignments should list assignments"},{"ancestorTitles":["M2 - Shifts, Scheduling & Stock-Count Gate (E2E)","3. Shift Assignments"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"M2 - Shifts, Scheduling & Stock-Count Gate (E2E) 3. Shift Assignments POST /shifts/assignments should require auth","invocations":1,"location":{"column":5,"line":118},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /shifts/assignments should require auth"},{"ancestorTitles":["M2 - Shifts, Scheduling & Stock-Count Gate (E2E)","4. Stock Count Gate"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"M2 - Shifts, Scheduling & Stock-Count Gate (E2E) 4. Stock Count Gate GET /stock-count/gate should return stock count status","invocations":1,"location":{"column":5,"line":134},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /stock-count/gate should return stock count status"},{"ancestorTitles":["M2 - Shifts, Scheduling & Stock-Count Gate (E2E)","4. Stock Count Gate"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"M2 - Shifts, Scheduling & Stock-Count Gate (E2E) 4. Stock Count Gate GET /stock-count/pending should list pending counts","invocations":1,"location":{"column":5,"line":143},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /stock-count/pending should list pending counts"},{"ancestorTitles":["M2 - Shifts, Scheduling & Stock-Count Gate (E2E)","5. Manager Override"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M2 - Shifts, Scheduling & Stock-Count Gate (E2E) 5. Manager Override GET /shifts/overrides should list overrides","invocations":1,"location":{"column":5,"line":154},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /shifts/overrides should list overrides"},{"ancestorTitles":["M2 - Shifts, Scheduling & Stock-Count Gate (E2E)","6. Role-Based Access"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"M2 - Shifts, Scheduling & Stock-Count Gate (E2E) 6. Role-Based Access manager can access shift endpoints","invocations":1,"location":{"column":5,"line":165},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"manager can access shift endpoints"},{"ancestorTitles":["M2 - Shifts, Scheduling & Stock-Count Gate (E2E)","6. Role-Based Access"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M2 - Shifts, Scheduling & Stock-Count Gate (E2E) 6. Role-Based Access owner can access shift endpoints","invocations":1,"location":{"column":5,"line":175},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"owner can access shift endpoints"}],"endTime":1767325161161,"message":"","name":"/workspaces/chefcloud/services/api/test/m2-shifts-scheduling.e2e-spec.ts","startTime":1767325160059,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["E27: Costing (E2E)","1. Menu Item Costing"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"E27: Costing (E2E) 1. Menu Item Costing GET /costing/menu-items should list items with costs","invocations":1,"location":{"column":5,"line":60},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /costing/menu-items should list items with costs"},{"ancestorTitles":["E27: Costing (E2E)","1. Menu Item Costing"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"E27: Costing (E2E) 1. Menu Item Costing GET /costing/menu-items/:id should return item cost details","invocations":1,"location":{"column":5,"line":69},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /costing/menu-items/:id should return item cost details"},{"ancestorTitles":["E27: Costing (E2E)","1. Menu Item Costing"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"E27: Costing (E2E) 1. Menu Item Costing should require auth","invocations":1,"location":{"column":5,"line":81},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require auth"},{"ancestorTitles":["E27: Costing (E2E)","2. Recipe Costing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"E27: Costing (E2E) 2. Recipe Costing GET /costing/recipes should list recipes with costs","invocations":1,"location":{"column":5,"line":92},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /costing/recipes should list recipes with costs"},{"ancestorTitles":["E27: Costing (E2E)","2. Recipe Costing"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"E27: Costing (E2E) 2. Recipe Costing GET /costing/recipes/summary should return cost summary","invocations":1,"location":{"column":5,"line":101},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /costing/recipes/summary should return cost summary"},{"ancestorTitles":["E27: Costing (E2E)","3. Cost Analysis"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"E27: Costing (E2E) 3. Cost Analysis GET /costing/analysis should return cost analysis","invocations":1,"location":{"column":5,"line":112},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /costing/analysis should return cost analysis"},{"ancestorTitles":["E27: Costing (E2E)","3. Cost Analysis"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"E27: Costing (E2E) 3. Cost Analysis GET /costing/margins should return margin analysis","invocations":1,"location":{"column":5,"line":121},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /costing/margins should return margin analysis"},{"ancestorTitles":["E27: Costing (E2E)","3. Cost Analysis"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"E27: Costing (E2E) 3. Cost Analysis GET /costing/alerts should return cost alerts","invocations":1,"location":{"column":5,"line":130},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /costing/alerts should return cost alerts"},{"ancestorTitles":["E27: Costing (E2E)","4. Ingredient Costs"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"E27: Costing (E2E) 4. Ingredient Costs GET /costing/ingredients should list ingredient costs","invocations":1,"location":{"column":5,"line":141},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /costing/ingredients should list ingredient costs"},{"ancestorTitles":["E27: Costing (E2E)","5. Role-Based Access"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"E27: Costing (E2E) 5. Role-Based Access manager can access costing endpoints","invocations":1,"location":{"column":5,"line":152},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"manager can access costing endpoints"},{"ancestorTitles":["E27: Costing (E2E)","5. Role-Based Access"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"E27: Costing (E2E) 5. Role-Based Access owner can access advanced costing analysis","invocations":1,"location":{"column":5,"line":161},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"owner can access advanced costing analysis"}],"endTime":1767325162838,"message":"","name":"/workspaces/chefcloud/services/api/test/e27-costing.e2e-spec.ts","startTime":1767325161165,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","1. Service Providers Endpoints"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 1. Service Providers Endpoints GET /service-providers should list providers for branch","invocations":1,"location":{"column":5,"line":57},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"GET /service-providers should list providers for branch"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","1. Service Providers Endpoints"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 1. Service Providers Endpoints GET /service-providers/summary should return summary","invocations":1,"location":{"column":5,"line":70},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /service-providers/summary should return summary"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","1. Service Providers Endpoints"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 1. Service Providers Endpoints POST /service-providers should require auth","invocations":1,"location":{"column":5,"line":79},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /service-providers should require auth"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","2. Service Contracts Endpoints"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 2. Service Contracts Endpoints GET /service-contracts should list contracts","invocations":1,"location":{"column":5,"line":93},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /service-contracts should list contracts"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","2. Service Contracts Endpoints"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 2. Service Contracts Endpoints POST /service-contracts should require valid dueDay for MONTHLY","invocations":1,"location":{"column":5,"line":102},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /service-contracts should require valid dueDay for MONTHLY"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","3. Ops Budget Endpoints"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 3. Ops Budget Endpoints GET /ops-budgets should list budgets for branch","invocations":1,"location":{"column":5,"line":123},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /ops-budgets should list budgets for branch"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","3. Ops Budget Endpoints"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 3. Ops Budget Endpoints GET /ops-budgets/summary should return budget summary","invocations":1,"location":{"column":5,"line":136},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /ops-budgets/summary should return budget summary"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","3. Ops Budget Endpoints"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 3. Ops Budget Endpoints GET /ops-budgets/franchise should return franchise summary","invocations":1,"location":{"column":5,"line":149},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /ops-budgets/franchise should return franchise summary"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","3. Ops Budget Endpoints"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 3. Ops Budget Endpoints POST /ops-budgets should validate month range","invocations":1,"location":{"column":5,"line":161},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /ops-budgets should validate month range"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","4. Cost Insights Endpoints"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 4. Cost Insights Endpoints GET /cost-insights should return insights for branch","invocations":1,"location":{"column":5,"line":179},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /cost-insights should return insights for branch"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","4. Cost Insights Endpoints"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 4. Cost Insights Endpoints GET /cost-insights/franchise should return franchise insights","invocations":1,"location":{"column":5,"line":188},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /cost-insights/franchise should return franchise insights"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","5. Service Reminders Endpoints"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 5. Service Reminders Endpoints GET /service-reminders should list reminders","invocations":1,"location":{"column":5,"line":198},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /service-reminders should list reminders"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","5. Service Reminders Endpoints"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 5. Service Reminders Endpoints GET /service-reminders/summary should return summary","invocations":1,"location":{"column":5,"line":207},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /service-reminders/summary should return summary"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","6. Role-Based Access"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 6. Role-Based Access owner can access franchise-level endpoints","invocations":1,"location":{"column":5,"line":225},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"owner can access franchise-level endpoints"},{"ancestorTitles":["M7: Service Providers, Budgets & Cost Insights (e2e)","6. Role-Based Access"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"M7: Service Providers, Budgets & Cost Insights (e2e) 6. Role-Based Access manager cannot access franchise-level endpoints","invocations":1,"location":{"column":5,"line":235},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"manager cannot access franchise-level endpoints"}],"endTime":1767325163996,"message":"","name":"/workspaces/chefcloud/services/api/test/m7-service-providers.e2e-spec.ts","startTime":1767325162843,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["E22-s2: Franchise APIs (e2e)","GET /franchise/rankings"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"E22-s2: Franchise APIs (e2e) GET /franchise/rankings should return branch rankings for franchise org","invocations":1,"location":{"column":5,"line":55},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return branch rankings for franchise org"},{"ancestorTitles":["E22-s2: Franchise APIs (e2e)","GET /franchise/rankings"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"E22-s2: Franchise APIs (e2e) GET /franchise/rankings should require authentication","invocations":1,"location":{"column":5,"line":72},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require authentication"},{"ancestorTitles":["E22-s2: Franchise APIs (e2e)","GET /franchise/budgets"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"E22-s2: Franchise APIs (e2e) GET /franchise/budgets should return budgets list for franchise org","invocations":1,"location":{"column":5,"line":81},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return budgets list for franchise org"},{"ancestorTitles":["E22-s2: Franchise APIs (e2e)","GET /franchise/budgets"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"E22-s2: Franchise APIs (e2e) GET /franchise/budgets should require authentication","invocations":1,"location":{"column":5,"line":98},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require authentication"},{"ancestorTitles":["E22-s2: Franchise APIs (e2e)","GET /franchise/analytics/overview"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"E22-s2: Franchise APIs (e2e) GET /franchise/analytics/overview should return analytics overview for franchise","invocations":1,"location":{"column":5,"line":107},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return analytics overview for franchise"},{"ancestorTitles":["E22-s2: Franchise APIs (e2e)","GET /franchise/analytics/overview"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"E22-s2: Franchise APIs (e2e) GET /franchise/analytics/overview should require authentication","invocations":1,"location":{"column":5,"line":118},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should require authentication"},{"ancestorTitles":["E22-s2: Franchise APIs (e2e)","GET /franchise/procurement/suggest"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"E22-s2: Franchise APIs (e2e) GET /franchise/procurement/suggest should return procurement suggestions","invocations":1,"location":{"column":5,"line":127},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return procurement suggestions"},{"ancestorTitles":["E22-s2: Franchise APIs (e2e)","Multi-branch isolation"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"E22-s2: Franchise APIs (e2e) Multi-branch isolation should include all franchise branches in rankings","invocations":1,"location":{"column":5,"line":139},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should include all franchise branches in rankings"},{"ancestorTitles":["E22-s2: Franchise APIs (e2e)","Multi-branch isolation"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"E22-s2: Franchise APIs (e2e) Multi-branch isolation should scope budgets to franchise org only","invocations":1,"location":{"column":5,"line":155},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should scope budgets to franchise org only"}],"endTime":1767325165022,"message":"","name":"/workspaces/chefcloud/services/api/test/e22-franchise.e2e-spec.ts","startTime":1767325164000,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Billing (Black-box E2E)"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Black-box E2E) GET /readiness -> 200 (server is ready)","invocations":1,"location":{"column":3,"line":27},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /readiness -> 200 (server is ready)"},{"ancestorTitles":["Billing (Black-box E2E)"],"duration":177,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Black-box E2E) Rate limiting observed (>= one 429)","invocations":1,"location":{"column":3,"line":34},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting observed (>= one 429)"}],"endTime":1767325167399,"message":"","name":"/workspaces/chefcloud/services/api/test/blackbox/billing.blackbox.e2e-spec.ts","startTime":1767325165026,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["DI graph smoke test","Common services"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DI graph smoke test Common services should resolve CacheInvalidationService","invocations":1,"location":{"column":5,"line":32},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve CacheInvalidationService"},{"ancestorTitles":["DI graph smoke test","Common services"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"DI graph smoke test Common services should resolve CacheService","invocations":1,"location":{"column":5,"line":37},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve CacheService"},{"ancestorTitles":["DI graph smoke test","Common services"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"DI graph smoke test Common services should resolve RedisService","invocations":1,"location":{"column":5,"line":42},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve RedisService"},{"ancestorTitles":["DI graph smoke test","Observability services"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"DI graph smoke test Observability services should resolve MetricsService","invocations":1,"location":{"column":5,"line":49},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve MetricsService"},{"ancestorTitles":["DI graph smoke test","Observability services"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"DI graph smoke test Observability services should resolve ReadinessService","invocations":1,"location":{"column":5,"line":54},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve ReadinessService"},{"ancestorTitles":["DI graph smoke test"],"duration":170,"failureDetails":[{"code":"ERR_UNHANDLED_ERROR","context":{}}],"failureMessages":["Error: Unhandled error. (Error: Connection is closed.\n    at close (/workspaces/chefcloud/node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:214:25)\n    at Socket.<anonymous> (/workspaces/chefcloud/node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:181:20)\n    at Object.onceWrapper (node:events:639:26)\n    at Socket.emit (node:events:536:35)\n    at TCP.<anonymous> (node:net:343:12))\n    at RedisConnection.emit (node:events:513:17)\n    at /workspaces/chefcloud/node_modules/.pnpm/bullmq@5.61.2/node_modules/bullmq/src/classes/redis-connection.ts:133:41\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"DI graph smoke test should boot app in reasonable time","invocations":1,"location":{"column":3,"line":60},"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should boot app in reasonable time"}],"endTime":1767325168318,"message":"  â— DI graph smoke test â€º should boot app in reasonable time\n\n    Unhandled error. (Error: Connection is closed.\n\n      at close (../../../node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:214:25)\n      at Socket.<anonymous> (../../../node_modules/.pnpm/ioredis@5.8.2/node_modules/ioredis/built/redis/event_handler.js:181:20)\n      at TCP.<anonymous> (../node:net:343:12))\n      at ../../../node_modules/.pnpm/bullmq@5.61.2/node_modules/bullmq/src/classes/redis-connection.ts:133:41\n","name":"/workspaces/chefcloud/services/api/test/smoke/di.e2e-spec.ts","startTime":1767325167403,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Minimal Boot Test"],"duration":174,"failureDetails":[],"failureMessages":[],"fullName":"Minimal Boot Test should boot AppModule without errors","invocations":1,"location":{"column":3,"line":15},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should boot AppModule without errors"}],"endTime":1767325169008,"message":"","name":"/workspaces/chefcloud/services/api/test/smoke/minimal-boot.e2e-spec.ts","startTime":1767325168320,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Authentication & Authorization"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Authentication & Authorization GET /inventory/items should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":51},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /inventory/items should return 401 if no authorization token is provided"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Authentication & Authorization"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Authentication & Authorization POST /inventory/items should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":58},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/items should return 401 if no authorization token is provided"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Authentication & Authorization"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Authentication & Authorization POST /inventory/adjustments should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":66},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/adjustments should return 401 if no authorization token is provided"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Authentication & Authorization"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Authentication & Authorization POST /inventory/wastage should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":74},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/wastage should return 401 if no authorization token is provided"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Rate Limiting"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Rate Limiting Rate limiting produces >= one 429 deterministically","invocations":1,"location":{"column":5,"line":84},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 deterministically"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Basic Functionality (without auth)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Basic Functionality (without auth) should bootstrap successfully without metatype errors","invocations":1,"location":{"column":5,"line":119},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should bootstrap successfully without metatype errors"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Basic Functionality (without auth)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Basic Functionality (without auth) GET /inventory/items should exist (not 404)","invocations":1,"location":{"column":5,"line":123},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /inventory/items should exist (not 404)"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Basic Functionality (without auth)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Basic Functionality (without auth) POST /inventory/items should validate request body","invocations":1,"location":{"column":5,"line":130},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/items should validate request body"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Basic Functionality (without auth)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Basic Functionality (without auth) POST /inventory/adjustments should validate request body","invocations":1,"location":{"column":5,"line":139},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/adjustments should validate request body"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Endpoint Availability"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Endpoint Availability GET /inventory/items endpoint exists","invocations":1,"location":{"column":5,"line":150},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /inventory/items endpoint exists"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Endpoint Availability"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Endpoint Availability POST /inventory/items endpoint exists","invocations":1,"location":{"column":5,"line":157},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/items endpoint exists"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Endpoint Availability"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Endpoint Availability GET /inventory/levels endpoint exists","invocations":1,"location":{"column":5,"line":165},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /inventory/levels endpoint exists"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Endpoint Availability"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Endpoint Availability POST /inventory/adjustments endpoint exists","invocations":1,"location":{"column":5,"line":172},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/adjustments endpoint exists"},{"ancestorTitles":["Inventory (Slice E2E) â€” Deterministic","Endpoint Availability"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Inventory (Slice E2E) â€” Deterministic Endpoint Availability POST /inventory/wastage endpoint exists","invocations":1,"location":{"column":5,"line":180},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /inventory/wastage endpoint exists"}],"endTime":1767325169584,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/inventory.slice.e2e-spec.ts","startTime":1767325169013,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","POST /auth/login"],"duration":88,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic POST /auth/login returns 200 with access_token on valid credentials","invocations":1,"location":{"column":5,"line":81},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns 200 with access_token on valid credentials"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","POST /auth/login"],"duration":53,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic POST /auth/login returns 401 on invalid credentials","invocations":1,"location":{"column":5,"line":95},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 401 on invalid credentials"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","POST /auth/login"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic POST /auth/login returns 400 on invalid email format","invocations":1,"location":{"column":5,"line":104},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 400 on invalid email format"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","POST /auth/login"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic POST /auth/login returns 400 on missing password","invocations":1,"location":{"column":5,"line":113},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 400 on missing password"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","POST /auth/pin-login"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic POST /auth/pin-login returns 200 with access_token on valid PIN","invocations":1,"location":{"column":5,"line":124},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns 200 with access_token on valid PIN"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","POST /auth/pin-login"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic POST /auth/pin-login returns 401 on invalid PIN","invocations":1,"location":{"column":5,"line":138},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 401 on invalid PIN"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","POST /auth/msr-swipe"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic POST /auth/msr-swipe returns 200 with access_token on valid badge","invocations":1,"location":{"column":5,"line":153},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns 200 with access_token on valid badge"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","POST /auth/msr-swipe"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic POST /auth/msr-swipe returns 404 on unknown badge","invocations":1,"location":{"column":5,"line":163},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 404 on unknown badge"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","POST /auth/enroll-badge"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic POST /auth/enroll-badge returns 200 on successful badge enrollment (L4+ role)","invocations":1,"location":{"column":5,"line":174},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 200 on successful badge enrollment (L4+ role)"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","GET /me"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic GET /me returns 401 without authorization header","invocations":1,"location":{"column":5,"line":189},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns 401 without authorization header"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","Rate limiting"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic Rate limiting handles burst requests to /auth/login without crashing","invocations":1,"location":{"column":5,"line":206},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles burst requests to /auth/login without crashing"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","Login methods"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic Login methods supports email/password login","invocations":1,"location":{"column":5,"line":240},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"supports email/password login"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","Login methods"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic Login methods supports PIN login","invocations":1,"location":{"column":5,"line":249},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"supports PIN login"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","Login methods"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic Login methods supports badge swipe login","invocations":1,"location":{"column":5,"line":262},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"supports badge swipe login"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","Login methods"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic Login methods returns consistent user structure across all auth methods","invocations":1,"location":{"column":5,"line":271},"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"returns consistent user structure across all auth methods"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","Endpoint availability"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic Endpoint availability POST /auth/login is available","invocations":1,"location":{"column":5,"line":288},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"POST /auth/login is available"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","Endpoint availability"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic Endpoint availability POST /auth/pin-login is available","invocations":1,"location":{"column":5,"line":295},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /auth/pin-login is available"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","Endpoint availability"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic Endpoint availability POST /auth/msr-swipe is available","invocations":1,"location":{"column":5,"line":308},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /auth/msr-swipe is available"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","Endpoint availability"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic Endpoint availability POST /auth/enroll-badge is available","invocations":1,"location":{"column":5,"line":317},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /auth/enroll-badge is available"},{"ancestorTitles":["Auth (Slice E2E) â€” Deterministic","Endpoint availability"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Auth (Slice E2E) â€” Deterministic Endpoint availability GET /me is available (requires auth)","invocations":1,"location":{"column":5,"line":327},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /me is available (requires auth)"}],"endTime":1767325170791,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/auth.slice.e2e-spec.ts","startTime":1767325169590,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["KDS (Slice E2E)"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) GET /kds-test/tickets without token -> 200 (test controller)","invocations":1,"location":{"column":3,"line":50},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"GET /kds-test/tickets without token -> 200 (test controller)"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) GET /kds-test/tickets -> 200 with token","invocations":1,"location":{"column":3,"line":54},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"GET /kds-test/tickets -> 200 with token"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) GET /kds-test/tickets/tkt-001 -> 200","invocations":1,"location":{"column":3,"line":60},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /kds-test/tickets/tkt-001 -> 200"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) GET /kds-test/tickets/tkt-missing -> 404","invocations":1,"location":{"column":3,"line":65},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /kds-test/tickets/tkt-missing -> 404"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) POST /kds-test/tickets/tkt-001/ack -> 200 (ACK)","invocations":1,"location":{"column":3,"line":72},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /kds-test/tickets/tkt-001/ack -> 200 (ACK)"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) POST /kds-test/tickets/tkt-001/bump -> 200 (BUMPED)","invocations":1,"location":{"column":3,"line":77},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /kds-test/tickets/tkt-001/bump -> 200 (BUMPED)"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) POST /kds-test/tickets/tkt-001/expo -> 200 (EXPO)","invocations":1,"location":{"column":3,"line":82},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /kds-test/tickets/tkt-001/expo -> 200 (EXPO)"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) POST /kds-test/screens/scr-001/heartbeat -> 200","invocations":1,"location":{"column":3,"line":89},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /kds-test/screens/scr-001/heartbeat -> 200"},{"ancestorTitles":["KDS (Slice E2E)"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"KDS (Slice E2E) Rate limiting produces >= one 429 on /kds-test/tickets","invocations":1,"location":{"column":3,"line":101},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 on /kds-test/tickets"}],"endTime":1767325171164,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/kds.slice.e2e-spec.ts","startTime":1767325170795,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Reservations (Slice E2E)"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations -> 401 without token","invocations":1,"location":{"column":3,"line":50},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"GET /reservations -> 401 without token"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations -> 200 with token","invocations":1,"location":{"column":3,"line":54},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /reservations -> 200 with token"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) POST /reservations -> 201 (create booking)","invocations":1,"location":{"column":3,"line":68},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /reservations -> 201 (create booking)"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) POST /reservations -> 400/422 (invalid payload)","invocations":1,"location":{"column":3,"line":88},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /reservations -> 400/422 (invalid payload)"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) POST /reservations/:id/confirm -> 200","invocations":1,"location":{"column":3,"line":99},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /reservations/:id/confirm -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) POST /reservations/:id/cancel -> 200","invocations":1,"location":{"column":3,"line":107},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /reservations/:id/cancel -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) POST /reservations/:id/seat -> 200","invocations":1,"location":{"column":3,"line":115},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /reservations/:id/seat -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations?status=CONFIRMED -> 200","invocations":1,"location":{"column":3,"line":125},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /reservations?status=CONFIRMED -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations?from=2025-11-13&to=2025-11-14 -> 200","invocations":1,"location":{"column":3,"line":136},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /reservations?from=2025-11-13&to=2025-11-14 -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations/summary?from=2025-11-01&to=2025-11-30 -> 200","invocations":1,"location":{"column":3,"line":146},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /reservations/summary?from=2025-11-01&to=2025-11-30 -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations-test/availability?date=2025-11-13&party=2 -> 200","invocations":1,"location":{"column":3,"line":156},"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"GET /reservations-test/availability?date=2025-11-13&party=2 -> 200"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) GET /reservations-test/availability?date=2025-11-13&party=6 -> 200 (fewer slots)","invocations":1,"location":{"column":3,"line":165},"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"GET /reservations-test/availability?date=2025-11-13&party=6 -> 200 (fewer slots)"},{"ancestorTitles":["Reservations (Slice E2E)"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Reservations (Slice E2E) Rate limiting produces >= one 429 on /reservations","invocations":1,"location":{"column":3,"line":177},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 on /reservations"}],"endTime":1767325171547,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/reservations.slice.e2e-spec.ts","startTime":1767325171167,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Billing (Slice E2E) â€” Deterministic","Authentication & Authorization"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Slice E2E) â€” Deterministic Authentication & Authorization POST /billing/plan/change should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":53},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /billing/plan/change should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing (Slice E2E) â€” Deterministic","Authentication & Authorization"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Slice E2E) â€” Deterministic Authentication & Authorization POST /billing/cancel should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":61},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /billing/cancel should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing (Slice E2E) â€” Deterministic","Authentication & Authorization"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Slice E2E) â€” Deterministic Authentication & Authorization GET /billing/subscription should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":68},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /billing/subscription should return 401 if no authorization token is provided"},{"ancestorTitles":["Billing (Slice E2E) â€” Deterministic","Rate Limiting"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Slice E2E) â€” Deterministic Rate Limiting Rate limiting produces >= one 429 deterministically","invocations":1,"location":{"column":5,"line":77},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 deterministically"},{"ancestorTitles":["Billing (Slice E2E) â€” Deterministic","Basic Functionality (without auth)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Slice E2E) â€” Deterministic Basic Functionality (without auth) should bootstrap successfully without metatype errors","invocations":1,"location":{"column":5,"line":113},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should bootstrap successfully without metatype errors"},{"ancestorTitles":["Billing (Slice E2E) â€” Deterministic","Basic Functionality (without auth)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Slice E2E) â€” Deterministic Basic Functionality (without auth) should have billing controller mounted at /billing","invocations":1,"location":{"column":5,"line":117},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have billing controller mounted at /billing"},{"ancestorTitles":["Billing (Slice E2E) â€” Deterministic","Basic Functionality (without auth)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Slice E2E) â€” Deterministic Basic Functionality (without auth) POST /billing/plan/change should validate request body","invocations":1,"location":{"column":5,"line":125},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /billing/plan/change should validate request body"},{"ancestorTitles":["Billing (Slice E2E) â€” Deterministic","Basic Functionality (without auth)"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Slice E2E) â€” Deterministic Basic Functionality (without auth) POST /billing/cancel should be idempotent","invocations":1,"location":{"column":5,"line":134},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /billing/cancel should be idempotent"},{"ancestorTitles":["Billing (Slice E2E) â€” Deterministic","Endpoint Availability"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Slice E2E) â€” Deterministic Endpoint Availability GET /billing/subscription endpoint exists","invocations":1,"location":{"column":5,"line":147},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /billing/subscription endpoint exists"},{"ancestorTitles":["Billing (Slice E2E) â€” Deterministic","Endpoint Availability"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Slice E2E) â€” Deterministic Endpoint Availability POST /billing/plan/change endpoint exists","invocations":1,"location":{"column":5,"line":154},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /billing/plan/change endpoint exists"},{"ancestorTitles":["Billing (Slice E2E) â€” Deterministic","Endpoint Availability"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Billing (Slice E2E) â€” Deterministic Endpoint Availability POST /billing/cancel endpoint exists","invocations":1,"location":{"column":5,"line":162},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /billing/cancel endpoint exists"}],"endTime":1767325171939,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/billing.slice.e2e-spec.ts","startTime":1767325171551,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Payments (Slice E2E)"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) GET /payments -> 401 without token","invocations":1,"location":{"column":3,"line":136},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"GET /payments -> 401 without token"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) GET /payments -> 200 with token (lists payments)","invocations":1,"location":{"column":3,"line":140},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /payments -> 200 with token (lists payments)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) GET /payments/pay_001 -> 200","invocations":1,"location":{"column":3,"line":149},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /payments/pay_001 -> 200"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) GET /payments/pay_missing -> 404/400 (invalid id)","invocations":1,"location":{"column":3,"line":157},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /payments/pay_missing -> 404/400 (invalid id)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments -> 201 (create payment)","invocations":1,"location":{"column":3,"line":164},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /payments -> 201 (create payment)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments -> 400/422 (invalid payload)","invocations":1,"location":{"column":3,"line":173},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /payments -> 400/422 (invalid payload)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments/pay_001/capture -> 200","invocations":1,"location":{"column":3,"line":178},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /payments/pay_001/capture -> 200"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments/pay_001/refund -> 201","invocations":1,"location":{"column":3,"line":186},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /payments/pay_001/refund -> 201"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments/intents -> 201 (create intent)","invocations":1,"location":{"column":3,"line":198},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /payments/intents -> 201 (create intent)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments/intents/pi_001/cancel -> 200","invocations":1,"location":{"column":3,"line":207},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /payments/intents/pi_001/cancel -> 200"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments-test-webhook/gateway -> 200 (valid HMAC)","invocations":1,"location":{"column":3,"line":214},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /payments-test-webhook/gateway -> 200 (valid HMAC)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments-test-webhook/gateway -> 200 { ok:false } (bad HMAC)","invocations":1,"location":{"column":3,"line":229},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /payments-test-webhook/gateway -> 200 { ok:false } (bad HMAC)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) POST /payments-test-webhook/gateway -> 200 { ok:false } (missing signature)","invocations":1,"location":{"column":3,"line":241},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /payments-test-webhook/gateway -> 200 { ok:false } (missing signature)"},{"ancestorTitles":["Payments (Slice E2E)"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Payments (Slice E2E) Rate limiting produces >= one 429 on /payments","invocations":1,"location":{"column":3,"line":254},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 on /payments"}],"endTime":1767325172325,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/payments.slice.e2e-spec.ts","startTime":1767325171942,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC GET /dev/keys without token -> 200 (test controller)","invocations":1,"location":{"column":3,"line":59},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"GET /dev/keys without token -> 200 (test controller)"},{"ancestorTitles":["Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC GET /dev/keys -> 200 with token","invocations":1,"location":{"column":3,"line":63},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"GET /dev/keys -> 200 with token"},{"ancestorTitles":["Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC POST /dev/keys -> 201 (create)","invocations":1,"location":{"column":3,"line":72},"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"POST /dev/keys -> 201 (create)"},{"ancestorTitles":["Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC POST /dev/keys -> 400 (invalid payload)","invocations":1,"location":{"column":3,"line":83},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /dev/keys -> 400 (invalid payload)"},{"ancestorTitles":["Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC POST /dev/keys/key_1/revoke -> 200","invocations":1,"location":{"column":3,"line":92},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /dev/keys/key_1/revoke -> 200"},{"ancestorTitles":["Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC"],"duration":25,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC Plan-aware limit hits 429 for free but not for pro (same burst)","invocations":1,"location":{"column":3,"line":102},"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"Plan-aware limit hits 429 for free but not for pro (same burst)"},{"ancestorTitles":["Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC POST /dev-webhook/events -> 200 { ok:true } (valid HMAC)","invocations":1,"location":{"column":3,"line":140},"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"POST /dev-webhook/events -> 200 { ok:true } (valid HMAC)"},{"ancestorTitles":["Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC POST /dev-webhook/events -> 200 { ok:false } (bad HMAC)","invocations":1,"location":{"column":3,"line":156},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /dev-webhook/events -> 200 { ok:false } (bad HMAC)"},{"ancestorTitles":["Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC POST /dev-webhook/events -> 200 { ok:false } (missing signature)","invocations":1,"location":{"column":3,"line":168},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /dev-webhook/events -> 200 { ok:false } (missing signature)"},{"ancestorTitles":["Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC GET /dev/keys returns multiple keys with plan info","invocations":1,"location":{"column":3,"line":181},"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"GET /dev/keys returns multiple keys with plan info"},{"ancestorTitles":["Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Dev-Portal (Slice E2E) â€” Plan-aware limits + HMAC POST /dev/keys with pro plan -> 201","invocations":1,"location":{"column":3,"line":193},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /dev/keys with pro plan -> 201"}],"endTime":1767325172712,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/devportal.slice.e2e-spec.ts","startTime":1767325172328,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Purchasing (Slice E2E) â€” Deterministic","Authentication & Authorization"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) â€” Deterministic Authentication & Authorization POST /purchasing/po should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":51},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po should return 401 if no authorization token is provided"},{"ancestorTitles":["Purchasing (Slice E2E) â€” Deterministic","Authentication & Authorization"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) â€” Deterministic Authentication & Authorization POST /purchasing/po/:id/place should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":59},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po/:id/place should return 401 if no authorization token is provided"},{"ancestorTitles":["Purchasing (Slice E2E) â€” Deterministic","Authentication & Authorization"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) â€” Deterministic Authentication & Authorization POST /purchasing/po/:id/receive should return 401 if no authorization token is provided","invocations":1,"location":{"column":5,"line":66},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po/:id/receive should return 401 if no authorization token is provided"},{"ancestorTitles":["Purchasing (Slice E2E) â€” Deterministic","Rate Limiting"],"duration":39,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) â€” Deterministic Rate Limiting Rate limiting produces >= one 429 deterministically","invocations":1,"location":{"column":5,"line":76},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 deterministically"},{"ancestorTitles":["Purchasing (Slice E2E) â€” Deterministic","Basic Functionality (without auth)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) â€” Deterministic Basic Functionality (without auth) should bootstrap successfully without metatype errors","invocations":1,"location":{"column":5,"line":112},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should bootstrap successfully without metatype errors"},{"ancestorTitles":["Purchasing (Slice E2E) â€” Deterministic","Basic Functionality (without auth)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) â€” Deterministic Basic Functionality (without auth) POST /purchasing/po should validate request body","invocations":1,"location":{"column":5,"line":116},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po should validate request body"},{"ancestorTitles":["Purchasing (Slice E2E) â€” Deterministic","Basic Functionality (without auth)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) â€” Deterministic Basic Functionality (without auth) POST /purchasing/po/:id/place should handle invalid ID gracefully","invocations":1,"location":{"column":5,"line":125},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po/:id/place should handle invalid ID gracefully"},{"ancestorTitles":["Purchasing (Slice E2E) â€” Deterministic","Endpoint Availability"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) â€” Deterministic Endpoint Availability POST /purchasing/po endpoint exists","invocations":1,"location":{"column":5,"line":135},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po endpoint exists"},{"ancestorTitles":["Purchasing (Slice E2E) â€” Deterministic","Endpoint Availability"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) â€” Deterministic Endpoint Availability POST /purchasing/po/:id/place endpoint exists","invocations":1,"location":{"column":5,"line":143},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po/:id/place endpoint exists"},{"ancestorTitles":["Purchasing (Slice E2E) â€” Deterministic","Endpoint Availability"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Purchasing (Slice E2E) â€” Deterministic Endpoint Availability POST /purchasing/po/:id/receive endpoint exists","invocations":1,"location":{"column":5,"line":150},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /purchasing/po/:id/receive endpoint exists"}],"endTime":1767325173076,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/purchasing.slice.e2e-spec.ts","startTime":1767325172716,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Orders (Slice E2E)"],"duration":34,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders -> 401 without token","invocations":1,"location":{"column":3,"line":133},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"POST /pos/orders -> 401 without token"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders -> 201 with token (creates open order)","invocations":1,"location":{"column":3,"line":137},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders -> 201 with token (creates open order)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/send-to-kitchen -> 401 without token","invocations":1,"location":{"column":3,"line":144},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/send-to-kitchen -> 401 without token"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/modify -> 401 without token","invocations":1,"location":{"column":3,"line":148},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/modify -> 401 without token"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/send-to-kitchen -> 200/201 (sends to kitchen)","invocations":1,"location":{"column":3,"line":154},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/send-to-kitchen -> 200/201 (sends to kitchen)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/modify -> 200 (modifies order)","invocations":1,"location":{"column":3,"line":162},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/modify -> 200 (modifies order)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/void -> 200 (voids order)","invocations":1,"location":{"column":3,"line":172},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/void -> 200 (voids order)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/close -> 200 (closes order)","invocations":1,"location":{"column":3,"line":182},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/close -> 200 (closes order)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/discount -> 200 (applies discount)","invocations":1,"location":{"column":3,"line":192},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/discount -> 200 (applies discount)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/:id/post-close-void -> 200 (voids closed order)","invocations":1,"location":{"column":3,"line":202},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/:id/post-close-void -> 200 (voids closed order)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders -> 400/422 (bad payload)","invocations":1,"location":{"column":3,"line":214},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders -> 400/422 (bad payload)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/invalid-id/send-to-kitchen -> 404/400 (invalid order id)","invocations":1,"location":{"column":3,"line":223},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/invalid-id/send-to-kitchen -> 404/400 (invalid order id)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) POST /pos/orders/ord_001/modify -> 400/422 (bad modify payload)","invocations":1,"location":{"column":3,"line":231},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"POST /pos/orders/ord_001/modify -> 400/422 (bad modify payload)"},{"ancestorTitles":["Orders (Slice E2E)"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Orders (Slice E2E) Rate limiting produces >= one 429 on /pos/orders","invocations":1,"location":{"column":3,"line":242},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 on /pos/orders"}],"endTime":1767325173473,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/orders.slice.e2e-spec.ts","startTime":1767325173080,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Franchise (Slice E2E)"],"duration":33,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) GET /franchise/overview -> 401 without token","invocations":1,"location":{"column":3,"line":143},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"GET /franchise/overview -> 401 without token"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) GET /franchise/overview -> 200","invocations":1,"location":{"column":3,"line":148},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /franchise/overview -> 200"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) GET /franchise/rankings -> 200","invocations":1,"location":{"column":3,"line":160},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /franchise/rankings -> 200"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) GET /franchise/budgets -> 200","invocations":1,"location":{"column":3,"line":171},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /franchise/budgets -> 200"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) Two reads of /franchise/overview return consistent payload shape","invocations":1,"location":{"column":3,"line":183},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Two reads of /franchise/overview return consistent payload shape"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) POST /franchise-test/invalidate -> { ok:true }","invocations":1,"location":{"column":3,"line":203},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"POST /franchise-test/invalidate -> { ok:true }"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) GET /franchise/overview after invalidation -> 200","invocations":1,"location":{"column":3,"line":216},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /franchise/overview after invalidation -> 200"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) GET /franchise/forecast/items -> 200","invocations":1,"location":{"column":3,"line":228},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /franchise/forecast/items -> 200"},{"ancestorTitles":["Franchise (Slice E2E)"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"Franchise (Slice E2E) Rate limiting produces >= one 429 on /franchise/overview","invocations":1,"location":{"column":3,"line":237},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Rate limiting produces >= one 429 on /franchise/overview"}],"endTime":1767325173908,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/franchise.slice.e2e-spec.ts","startTime":1767325173475,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PosModule imports bisect"],"duration":87,"failureDetails":[],"failureMessages":[],"fullName":"PosModule imports bisect should test all PosModule imports together","invocations":1,"location":{"column":3,"line":17},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should test all PosModule imports together"}],"endTime":1767325174249,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/pos-imports-bisect.e2e-spec.ts","startTime":1767325173910,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PosModule isolation test"],"duration":73,"failureDetails":[],"failureMessages":[],"fullName":"PosModule isolation test should compile PosModule to show exact failing provider","invocations":1,"location":{"column":3,"line":12},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should compile PosModule to show exact failing provider"}],"endTime":1767325174586,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/pos-isolation.e2e-spec.ts","startTime":1767325174253,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["InventoryModule + KpisModule test"],"duration":324,"failureDetails":[],"failureMessages":[],"fullName":"InventoryModule + KpisModule test should compile these modules together","invocations":1,"location":{"column":3,"line":11},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should compile these modules together"}],"endTime":1767325175527,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/inventory-kpis.e2e-spec.ts","startTime":1767325174589,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Metrics endpoint"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Metrics endpoint /metrics returns text exposition","invocations":1,"location":{"column":3,"line":26},"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"/metrics returns text exposition"}],"endTime":1767325175918,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/metrics.e2e-spec.ts","startTime":1767325175530,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Webhook Replay Protection (Slice E2E)"],"duration":34,"failureDetails":[],"failureMessages":[],"fullName":"Webhook Replay Protection (Slice E2E) accepts a valid (HMAC + fresh timestamp + new nonce)","invocations":1,"location":{"column":3,"line":32},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"accepts a valid (HMAC + fresh timestamp + new nonce)"},{"ancestorTitles":["Webhook Replay Protection (Slice E2E)"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Webhook Replay Protection (Slice E2E) rejects replay of the same nonce","invocations":1,"location":{"column":3,"line":50},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects replay of the same nonce"},{"ancestorTitles":["Webhook Replay Protection (Slice E2E)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Webhook Replay Protection (Slice E2E) rejects stale timestamp","invocations":1,"location":{"column":3,"line":79},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects stale timestamp"},{"ancestorTitles":["Webhook Replay Protection (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Webhook Replay Protection (Slice E2E) rejects bad signature","invocations":1,"location":{"column":3,"line":98},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"rejects bad signature"}],"endTime":1767325176185,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/webhook.replay.slice.e2e-spec.ts","startTime":1767325175922,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SSE Black-Box Smoke (Slice E2E)"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"SSE Black-Box Smoke (Slice E2E) GET /sse-test/stream -> 401 without token","invocations":1,"location":{"column":3,"line":37},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /sse-test/stream -> 401 without token"},{"ancestorTitles":["SSE Black-Box Smoke (Slice E2E)"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"SSE Black-Box Smoke (Slice E2E) Sends first SSE event quickly and has correct headers","invocations":1,"location":{"column":3,"line":42},"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"Sends first SSE event quickly and has correct headers"},{"ancestorTitles":["SSE Black-Box Smoke (Slice E2E)"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"SSE Black-Box Smoke (Slice E2E) Event payload contains deterministic requestId from header","invocations":1,"location":{"column":3,"line":81},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Event payload contains deterministic requestId from header"},{"ancestorTitles":["SSE Black-Box Smoke (Slice E2E)"],"duration":42,"failureDetails":[],"failureMessages":[],"fullName":"SSE Black-Box Smoke (Slice E2E) Deterministic rate limit: >= one 429 on SSE connect burst","invocations":1,"location":{"column":3,"line":106},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Deterministic rate limit: >= one 429 on SSE connect burst"}],"endTime":1767325176543,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/sse.smoke.e2e-spec.ts","startTime":1767325176191,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Forecast Caching (Slice E2E)"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Forecast Caching (Slice E2E) GET /forecast-test/sales -> 401 without token","invocations":1,"location":{"column":3,"line":40},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /forecast-test/sales -> 401 without token"},{"ancestorTitles":["Forecast Caching (Slice E2E)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Forecast Caching (Slice E2E) GET /forecast-test/sales -> 400 for bad period","invocations":1,"location":{"column":3,"line":45},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"GET /forecast-test/sales -> 400 for bad period"},{"ancestorTitles":["Forecast Caching (Slice E2E)"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Forecast Caching (Slice E2E) MISS then HIT for same period","invocations":1,"location":{"column":3,"line":50},"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"MISS then HIT for same period"},{"ancestorTitles":["Forecast Caching (Slice E2E)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Forecast Caching (Slice E2E) Invalidate then MISS with a new version","invocations":1,"location":{"column":3,"line":60},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"Invalidate then MISS with a new version"},{"ancestorTitles":["Forecast Caching (Slice E2E)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Forecast Caching (Slice E2E) Separate period keys are independent (MISS on first read)","invocations":1,"location":{"column":3,"line":73},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"Separate period keys are independent (MISS on first read)"},{"ancestorTitles":["Forecast Caching (Slice E2E)"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Forecast Caching (Slice E2E) Deterministic rate limit: >= one 429 on sales","invocations":1,"location":{"column":3,"line":79},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Deterministic rate limit: >= one 429 on sales"}],"endTime":1767325176751,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/forecast.slice.e2e-spec.ts","startTime":1767325176546,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Docs (env-gated)"],"duration":29,"failureDetails":[],"failureMessages":[],"fullName":"Docs (env-gated) returns 404 when DOCS_ENABLED!=1","invocations":1,"location":{"column":3,"line":27},"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns 404 when DOCS_ENABLED!=1"},{"ancestorTitles":["Docs (env-gated)"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Docs (env-gated) serves OpenAPI JSON when DOCS_ENABLED=1","invocations":1,"location":{"column":3,"line":47},"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"serves OpenAPI JSON when DOCS_ENABLED=1"}],"endTime":1767325176953,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/docs.e2e-spec.ts","startTime":1767325176754,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Minimal Harness (No AppModule)"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"Minimal Harness (No AppModule) should boot trivial module without hang","invocations":1,"location":{"column":3,"line":30},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should boot trivial module without hang"}],"endTime":1767325177095,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/minimal-harness.e2e-spec.ts","startTime":1767325176955,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["EventsModule isolation test"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"EventsModule isolation test should compile EventsModule","invocations":1,"location":{"column":3,"line":9},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should compile EventsModule"}],"endTime":1767325177229,"message":"","name":"/workspaces/chefcloud/services/api/test/e2e/events-isolation.e2e-spec.ts","startTime":1767325177099,"status":"passed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1767325178806,"message":"  â— Test suite failed to run\n\n    Cannot find module '../../src/dev-portal/ports/devportal.port' from 'e2e/devportal.prod.slice.e2e-spec.ts'\n\n      15 | import { SuperDevGuard } from '../../src/dev-portal.disabled/guards/super-dev.guard'; // Fixed: was dev-portal (now disabled)\n      16 | import { signBody } from '../payments/webhook.hmac';\n    > 17 | import { DevPortalKeyRepo } from '../../src/dev-portal/ports/devportal.port';\n         | ^\n      18 | import { TestBypassAuthGuard } from '../devportal/auth-override.guard';\n      19 | import { cleanup } from '../helpers/cleanup';\n      20 |\n\n      at Resolver._throwModNotFoundError (../../../node_modules/.pnpm/jest-resolve@29.7.0/node_modules/jest-resolve/build/resolver.js:427:11)\n      at Object.<anonymous> (e2e/devportal.prod.slice.e2e-spec.ts:17:1)\n","name":"/workspaces/chefcloud/services/api/test/e2e/devportal.prod.slice.e2e-spec.ts","startTime":1767325178806,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1767325178806,"message":"  â— Test suite failed to run\n\n    AppModule.imports not accessible; in AppModule, add: public static __imports = [ ...imports ]\n\n      11 |\n      12 | if (!appModuleImports || !Array.isArray(appModuleImports)) {\n    > 13 |   throw new Error('AppModule.imports not accessible; in AppModule, add: public static __imports = [ ...imports ]');\n         |         ^\n      14 | }\n      15 |\n      16 | async function tryImports(imports: any[]) {\n\n      at Object.<anonymous> (e2e/app-bisect.e2e-spec.ts:13:9)\n","name":"/workspaces/chefcloud/services/api/test/e2e/app-bisect.e2e-spec.ts","startTime":1767325178806,"status":"failed","summary":""}],"wasInterrupted":false}
