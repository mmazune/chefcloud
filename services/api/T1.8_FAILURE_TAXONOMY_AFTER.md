# T1.6 E2E Failure Taxonomy

**Generated:** 2025-12-28T02:13:09.863Z

## Summary Statistics

| Metric | Count |
|--------|-------|
| Total Suites | 57 |
| Passed Suites | 18 |
| **Failed Suites** | **39** |
| Total Tests | 422 |
| Passed Tests | 167 |
| **Failed Tests** | **254** |

## Failure Categories

| Category | Count | % of Failures |
|----------|-------|---------------|
| âšª Other | 16 | 41.0% |
| ğŸŸ  Prisma Validation Errors | 9 | 23.1% |
| ğŸŸ¤ DI/Module Resolution Errors | 6 | 15.4% |
| ğŸŸ£ Missing Routes/Endpoints | 5 | 12.8% |
| ğŸŸ¡ Auth/Login Failures | 1 | 2.6% |
| ğŸ”µ Response Shape Mismatches | 1 | 2.6% |
| ğŸ”´ Module Import Errors | 1 | 2.6% |

## Top 15 Failing Test Files

| # | File | Category | Failed Tests |
|---|------|----------|-------------|
| 1 | test/e22-franchise.e2e-spec.ts | ğŸŸ  Prisma Validation Errors | 34 |
| 2 | test/m2-shifts-scheduling.e2e-spec.ts | ğŸŸ  Prisma Validation Errors | 22 |
| 3 | test/webhook-security.e2e-spec.ts | âšª Other | 19 |
| 4 | test/m7-service-providers.e2e-spec.ts | ğŸŸ  Prisma Validation Errors | 16 |
| 5 | test/sse-security.e2e-spec.ts | âšª Other | 12 |
| 6 | test/billing-simple.e2e-spec.ts | âšª Other | 11 |
| 7 | test/e2e/billing.e2e-spec.ts | âšª Other | 11 |
| 8 | test/e2e/billing.slice.e2e-spec.ts | ğŸŸ¤ DI/Module Resolution Errors | 11 |
| 9 | test/e2e/badge-revocation.e2e-spec.ts | âšª Other | 9 |
| 10 | test/e2e/franchise.slice.e2e-spec.ts | ğŸŸ¤ DI/Module Resolution Errors | 9 |
| 11 | test/e24-subscriptions.e2e-spec.ts | ğŸŸ£ Missing Routes/Endpoints | 8 |
| 12 | test/m1-kds-enterprise.e2e-spec.ts | âšª Other | 7 |
| 13 | test/plan-rate-limit.e2e-spec.ts | ğŸŸ  Prisma Validation Errors | 7 |
| 14 | test/b2-apikey.e2e-spec.ts | ğŸŸ  Prisma Validation Errors | 7 |
| 15 | test/e37-promotions.e2e-spec.ts | âšª Other | 7 |

## Top 10 Recurring Error Messages

### 1. (2x)

```
â— Test suite failed to run
```

### 2. (1x)

```
â— E22-s2: Franchise APIs (e2e) â€º POST /franchise/budgets â€º should upsert a budget for a branch
```

### 3. (1x)

```
â— M2 - Shifts, Scheduling & Stock-Count Gate (E2E) â€º Shift Templates â€º POST /shift-templates - creates a lunch shift template
```

### 4. (1x)

```
â— E23 Platform Access (e2e) â€º Public routes bypass â€º should allow unauthenticated access to /health
```

### 5. (1x)

```
â— SSE /stream/kpis Security (E26) â€º Authentication â€º should return 401 when no token provided
```

### 6. (1x)

```
â— Auth (e2e) â€º POST /auth/pin-login â€º should login with valid employee code and PIN
```

### 7. (1x)

```
â— E23 Roles & Platform Access (e2e) â€º GET /access/matrix â€º should allow L4 (manager) to get platform access matrix
```

### 8. (1x)

```
â— M1 KDS Enterprise (e2e) â€º KDS Queue with Enhanced DTOs â€º should return tickets with waiterName, slaState, and proper ordering
```

### 9. (1x)

```
â— Inventory E2E â€º should receive PO â†’ on-hand increases
```

### 10. (1x)

```
â— Workforce E2E â€º should clock in â†’ clock out
```

## Next Steps

**Top Category:** Other (16 failures)

Proceed to STEP 2: Form hypotheses for fixing this category systemically.
